[
    {
        "id": "46af9c65977c5ac5",
        "type": "tab",
        "label": "Dispense",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "976a58c241e6986b",
        "type": "tab",
        "label": "Transactions",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "4b24a0decd667fc2",
        "type": "tab",
        "label": "Drivers",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "7d8f3f86659c2746",
        "type": "tab",
        "label": "Vehicle",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "8fa68b7318baaa25",
        "type": "tab",
        "label": "Tanks",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "8708c8565a0e32f0",
        "type": "tab",
        "label": "Cleanliness YFJ-4",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "cc31473f4e5c34b2",
        "type": "tab",
        "label": "Cleanliness Dashboard",
        "disabled": true,
        "info": ""
    },
    {
        "id": "3775376128915c88",
        "type": "tab",
        "label": "Backend",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "9528cf535383c9df",
        "type": "tab",
        "label": "Cleanliness",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "ed22bfe05fc977e2",
        "type": "tab",
        "label": "Flow 1",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "b0ec6a23a2633ae6",
        "type": "subflow",
        "name": "ui-table handler",
        "info": "# ui-table handler\nUniversal handler for ui-table.\n## features\n- buffer table data\n- add or update individual rows or cells of the table\n- delete rows\n- clear tableData\n- handle column width\n- handle column order\n- hide und unhide columns\n- hide and unhide rows\n- records row order\n- support for nested columns [(column groups)](http://tabulator.info/examples/4.7#column-groups)\n- support for child rows (_children) [(nested data trees)](http://tabulator.info/examples/4.7#tree)\n\nFor real life example see:\n\n**syslog server** for logfile like table with filters\n\n**remote device table** for dynamically updated table with context menues\n\n**irrigation system** for sortable rows\n\n## sending data to ui-tabel\n\n- sending an `array` as discribed in ui-table will replace the complete table and delete all table edits\n  \n  if `msg.keepEdits=true` is added the existing edits will be kept.\n- send an `object` containing the updated properties of a table row by sending msg.<tableDataProp>.\n\n  The table is updated using the `updateOrAddData` command. You can alter the command used by adding the `msg.tabulatorCommand` and `msg.tabulatorParameter`\n\n```\nmsg.tabulatorCommand=\"addData\";\nmsg.tabulatorParameter=[true];\n```\n## configuration\n- `tabulator` json formatted object containing configuration of the table. See ui-table for more details.\n- `property` property of the msg object that contains the data to be passed to ui-table. I.e. *state* `msg.state`\n- `index` index column to identify individual rows. Each message containing data must have a unique `msg.topic` to identify the row. Messages without this `msg.topic` will be droped. It is not nessesary but possible to display the index column in the table. Do not enable editing on this column otherwise you will loose the connection and another row will be added to the table as soon as a new message arrives!\n\n   Defaults to *$topic* `msg.state.$topic`\n- `maxRows`maximum number of rows held by table widget. If grater than **0** the amount of rows in ui-table is limited. For this to work the index row must be a Number. ´rows < currentID-maxRows´ will be deleted.\n- `maxStore`maximum number of rows stored by this node for replay if a client connects. If grater than **0** the amount of rows in flow context is limited. for this to work the index row must be a Number. ´rows < currentID-maxStore´ will be deleted.\n- `dashboard` name of the dashboard tab to only update the table if the dashboard is visible. If empty the table will be updated on every tab change and connect.\n- `context` configuration of context data. The subflow will save or cache data in the flows context using `$parent.`. \n   **tableData** caches the incoming data to restore it on `ui-control´ *change* messages.\n   **tableConfig** saves column width and order to save the interactive table layot\n   **tableEdit** saves edits on the table data otherwise it would be overwritten when new data arrives\n```json\n{\n    \"tableData\": {\n        \"name\": \"tableData\"\n    },\n    \"tableConfig\": {\n        \"name\": \"tableConfig\",\n        \"storage\": \"file\"\n    },\n    \"tableEdit\": {\n        \"name\": \"tableEdit\",\n        \"storage\": \"file\"\n    }\n}\n```\n\n## commands\ncommands can be passed by sending a object as `msg.payload`\n\n```json\n{\n    \"command\": \"delete\",\n    \"object\": \"columnOrder\"\n}\n```\n\n- `deleteTable` tableCache\n- `deleteRow` delete single row. `object` matching index property\n- `ignoreRow` delete single row and put it on an ignore list. `object` matching index property\n- `unIgnoreRow`remove row from the ignore list.  `object` matching index property\n- `unIgnoreRows`delte the ignore list. \n- `deleteRowOrder` delete custom row order\n- `deleteColumnOrder` delete custom column order\n  This is important if you add or delete columns in the tabulator config otherwise the columns most likely don`t show up\n- `deleteColumnWidth` delete custom column width\n- `columnHide` hide a column. `object` matching column field\n- `columnUnHide` unhide a column. `object` matching column field\n- `columnsUnHide` unhide all hidden columns.\n- `setMaxStore` set maximum amount of rows in cache\n- `setMaxDisplay` set maximum amout of rows in ui-table\n- `getTable` get table data (as displayed) as an array (on 2nd output)\n \n## background\nui-table warps the powerfull tabluator library.  This subflow makes it easier to unleash the powerfull features of ui-table",
        "category": "dashboard",
        "in": [
            {
                "x": 54,
                "y": 85,
                "wires": [
                    {
                        "id": "f5694a3207c93307"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 360,
                "y": 85,
                "wires": [
                    {
                        "id": "f5694a3207c93307",
                        "port": 1
                    }
                ]
            },
            {
                "x": 360,
                "y": 136,
                "wires": [
                    {
                        "id": "f5694a3207c93307",
                        "port": 2
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "tabulator",
                "type": "json",
                "value": "{\"tabulator\":{\"responsiveLayout\":\"collapse\",\"responsiveLayoutCollapseStartOpen\":false,\"index\":\"$name\",\"layout\":\"fitColumns\",\"movableColumns\":true,\"groupBy\":\"\",\"columnResized\":\"function(column){     var newColumn = {         field: column._column.field,         visible: column._column.visible,         width: column._column.width,         widthFixed: column._column.widthFixed,         widthStyled: column._column.widthStyled     }; this.send({topic:this.config.topic,ui_control:{callback:'columnResized',columnWidths:newColumn}}); }\",\"columnMoved\":\"function(column, columns){     var newColumns=[];     columns.forEach(function (column) {         newColumns.push({'field': column._column.definition.field, 'title': column._column.definition.title});     });     this.send({topic:this.config.topic,ui_control:{callback:'columnMoved',columns:newColumns}}); }\",\"rowFormatter\":\"function(row){     var data = row.getData();     switch (data.$state) {         case \\\"lost\\\":             row.getElement().style.backgroundColor = \\\"#9e2e66\\\";             row.getElement().style.color = \\\"#a6a6a6\\\";             break;         case \\\"sleeping\\\":             row.getElement().style.backgroundColor = \\\"#336699\\\";             break;         case \\\"disconnected\\\":             row.getElement().style.backgroundColor = \\\"#cc3300\\\";             row.getElement().style.color = \\\"#a6a6a6\\\";             break;         case \\\"alert\\\":             row.getElement().style.backgroundColor = \\\"#A6A6DF\\\";             break;         case \\\"init\\\":             row.getElement().style.backgroundColor = \\\"#f2f20d\\\";             break;         case \\\"ready\\\":             row.getElement().style.backgroundColor = \\\"\\\";             row.getElement().style.color = \\\"\\\";             break;         } }\",\"columns\":[{\"formatter\":\"responsiveCollapse\",\"width\":30,\"minWidth\":30,\"align\":\"center\",\"resizable\":false,\"headerSort\":false,\"frozen\":true,\"title\":\"expand\",\"field\":\"expand\",\"headerVertical\":\"flip\"},{\"formatter\":\"function(cell, formatterParams, onRendered) {      var html = cell.getValue(); return html;  }\",\"title\":\"State\",\"field\":\"$stateIcon\",\"width\":100,\"frozen\":true,\"headerVertical\":\"flip\"},{\"formatter\":\"function(cell, formatterParams, onRendered) {     var html = cell.getValue(); return html;  }\",\"title\":\"Signal\",\"field\":\"signalIcon\",\"width\":100,\"frozen\":true,\"headerVertical\":\"flip\"},{\"title\":\"Name\",\"field\":\"$name\",\"width\":100,\"frozen\":true,\"headerVertical\":\"flip\"},{\"title\":\"State\",\"field\":\"$state\",\"width\":100,\"align\":\"center\",\"headerVertical\":\"flip\"},{\"title\":\"last-ready\",\"field\":\"lastSeenreadyFormatted\",\"width\":100,\"align\":\"left\",\"headerVertical\":\"flip\"},{\"title\":\"Homie\",\"field\":\"$homie\",\"width\":100,\"align\":\"left\",\"headerVertical\":\"flip\"},{\"title\":\"Platform\",\"field\":\"$implementation\",\"width\":100,\"align\":\"left\",\"headerVertical\":\"flip\"},{\"title\":\"Statistics\",\"columns\":[{\"title\":\"Interval\",\"field\":\"interval\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"outputFormat\":\"d hh:mm:ss\",\"inputFormat\":\"seconds\",\"invalidPlaceholder\":\"(unknown)\"},\"title\":\"Uptime\",\"field\":\"uptime\",\"formatter\":\"function(cell, formatterParams, onRendered){     var pad = function (num) {         return (\\\"0\\\"+num).slice(-2);     };     var secs = Number(cell.getValue());     if (Number.isNaN(secs)) return;     var minutes = Math.floor(secs / 60);     secs = secs%60;     var hours = Math.floor(minutes/60);     minutes = minutes%60;     var days = Math.floor(hours/24);     hours = hours%24;     if (days>0)         return days+\\\"d \\\"+pad(hours)+\\\":\\\"+pad(minutes);     else         return pad(hours)+\\\":\\\"+pad(minutes)+\\\":\\\"+pad(secs); }\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":0,\"max\":100,\"color\":[\"red\",\"orange\",\"green\"],\"legend\":\"function (value) {if (value>0) return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" %</span>\\\"; else return; }\",\"legendColor\":\"#FFFFFF\",\"legendAlign\":\"center\"},\"title\":\"Signal\",\"field\":\"signal\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":2.5,\"max\":3.5,\"color\":[\"red\",\"green\",\"red\"],\"legend\":\"function (value) { if (value>0) return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" V</span>\\\"; else return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"Supply\",\"field\":\"supply\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":0,\"max\":100,\"color\":[\"red\",\"orange\",\"green\"],\"legend\":\"function (value) {     if (value>0)         return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" %</span>\\\";     else         return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"Battery\",\"field\":\"battery\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":0,\"max\":100000,\"color\":[\"red\",\"orange\",\"green\"],\"legend\":\"function (value) { if (value>0) return \\\"<span style='color:#FFFFFF;'>\\\"+(value/1024).toFixed(2)+\\\" kB</span>\\\"; else return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"Memory\",\"field\":\"freeheap\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"target\":\"_blank\",\"min\":0,\"max\":100,\"color\":[\"red\",\"orange\",\"green\"],\"legend\":\"function (value) {     if (value>0)         return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" %</span>\\\";     else         return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"CPU load\",\"field\":\"cpuload\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":20,\"max\":60,\"color\":[\"green\",\"orange\",\"red\"],\"legend\":\"function (value) { if (value>0) return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" °C</span>\\\"; else return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"CPU temp\",\"field\":\"cputemp\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"}]},{\"title\":\"Firmware\",\"columns\":[{\"formatter\":\"link\",\"formatterParams\":{\"labelField\":\"$localip\",\"urlPrefix\":\"http://\",\"target\":\"_blank\"},\"title\":\"IP\",\"field\":\"$localip\",\"width\":100},{\"title\":\"mac\",\"field\":\"$mac\",\"width\":100},{\"title\":\"Accsess Point\",\"field\":\"SSID\",\"width\":100},{\"title\":\"Firmware\",\"field\":\"name\",\"width\":100},{\"title\":\"Version\",\"field\":\"version\",\"width\":100},{\"title\":\"Last Boot Cause\",\"field\":\"lastBootCause\",\"width\":100},{\"title\":\"Reset Reason\",\"field\":\"resetReason\",\"width\":100}]}]},\"customHeight\":12}",
                "ui": {
                    "icon": "font-awesome/fa-table",
                    "label": {
                        "en-US": "Tabulator"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "json",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "tableDataProp",
                "type": "str",
                "value": "row",
                "ui": {
                    "icon": "font-awesome/fa-tag",
                    "label": {
                        "en-US": "rowProperty"
                    }
                }
            },
            {
                "name": "tableIndex",
                "type": "str",
                "value": "$topic",
                "ui": {
                    "icon": "font-awesome/fa-indent",
                    "label": {
                        "en-US": "Index"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "str",
                            "json",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "maxRows",
                "type": "num",
                "value": "0",
                "ui": {
                    "icon": "font-awesome/fa-list-ol",
                    "type": "input",
                    "opts": {
                        "types": [
                            "num",
                            "bool",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "maxStore",
                "type": "num",
                "value": "0",
                "ui": {
                    "icon": "font-awesome/fa-database",
                    "type": "input",
                    "opts": {
                        "types": [
                            "num",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "dashboard",
                "type": "str",
                "value": "Remote Device Table",
                "ui": {
                    "icon": "font-awesome/fa-dashboard",
                    "label": {
                        "en-US": "Dashboard"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "str",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "tableContext",
                "type": "json",
                "value": "{\"tableData\":{\"name\":\"tableData\"},\"tableConfig\":{\"name\":\"tableConfig\",\"storage\":\"file\"},\"tableEdit\":{\"name\":\"tableEdit\",\"storage\":\"file\"}}",
                "ui": {
                    "icon": "font-awesome/fa-database",
                    "label": {
                        "en-US": "Context"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "json",
                            "env"
                        ]
                    }
                }
            }
        ],
        "color": "#3FADB5",
        "icon": "node-red-dashboard/ui_slider.png",
        "status": {
            "x": 360,
            "y": 34,
            "wires": [
                {
                    "id": "f5694a3207c93307",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "558798ae26465464",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#007cbe",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#0094ce",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#000000",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#007cbe",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#0baaff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#007cbe",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "lime",
                "accents": "light-blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "PT. Yerry Primatama Hosindo [Engineering Division]",
            "hideToolbar": "false",
            "allowSwipe": "mouse",
            "lockMenu": "icon",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 50,
                "sy": 50,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "68b15b367e4b47ac",
        "type": "ui_tab",
        "name": "Drivers",
        "icon": "people",
        "order": 8,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "e2998f94abe8a2f6",
        "type": "ui_group",
        "name": "Data Drivers",
        "tab": "68b15b367e4b47ac",
        "order": 2,
        "disp": true,
        "width": 12,
        "collapse": false,
        "className": ""
    },
    {
        "id": "59a3105b21a4eb5e",
        "type": "ui_group",
        "name": "Add a new Vehicle",
        "tab": "a911b40ac91b56f0",
        "order": 1,
        "disp": true,
        "width": 4,
        "collapse": false,
        "className": ""
    },
    {
        "id": "9c2005d7a47d91e9",
        "type": "ui_group",
        "name": "Volume",
        "tab": "8de2e50a0e16ee3b",
        "order": 3,
        "disp": false,
        "width": "10",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a8fbe0627cf8b9f4",
        "type": "ui_tab",
        "name": "Tanks",
        "icon": "poll",
        "order": 11,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "e11aa43fd19026d6",
        "type": "ui_tab",
        "name": "Transactions",
        "icon": "assignment_turned_in",
        "order": 7,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "45c2b0fada35658c",
        "type": "ui_group",
        "name": "Transactions",
        "tab": "e11aa43fd19026d6",
        "order": 1,
        "disp": true,
        "width": 20,
        "collapse": false,
        "className": ""
    },
    {
        "id": "327d717182ef2fd3",
        "type": "ui_group",
        "name": "Tanks",
        "tab": "a8fbe0627cf8b9f4",
        "order": 1,
        "disp": true,
        "width": "15",
        "collapse": false,
        "className": ""
    },
    {
        "id": "998518b81f872043",
        "type": "ui_group",
        "name": "Remove Driver",
        "tab": "68b15b367e4b47ac",
        "order": 4,
        "disp": true,
        "width": 4,
        "collapse": false,
        "className": ""
    },
    {
        "id": "86ee9c0974c2067f",
        "type": "ui_group",
        "name": "Data Vehicles ",
        "tab": "a911b40ac91b56f0",
        "order": 2,
        "disp": true,
        "width": "12",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f1f6c7ea23073d13",
        "type": "ui_group",
        "name": "Remove Vehicle",
        "tab": "a911b40ac91b56f0",
        "order": 4,
        "disp": true,
        "width": 4,
        "collapse": false,
        "className": ""
    },
    {
        "id": "3e8a11af575bd99c",
        "type": "ui_group",
        "z": "46af9c65977c5ac5",
        "name": "Enter Key",
        "tab": "8de2e50a0e16ee3b",
        "order": 1,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "31e0e13b0b941009",
        "type": "ui_group",
        "name": "Update Data Driver",
        "tab": "68b15b367e4b47ac",
        "order": 3,
        "disp": true,
        "width": 4,
        "collapse": false,
        "className": ""
    },
    {
        "id": "452582615a482b0f",
        "type": "ui_group",
        "name": "Update Data Vehicle",
        "tab": "a911b40ac91b56f0",
        "order": 3,
        "disp": true,
        "width": 4,
        "collapse": false,
        "className": ""
    },
    {
        "id": "a911b40ac91b56f0",
        "type": "ui_tab",
        "name": "Vehicles",
        "icon": "directions_car",
        "order": 9,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "03eceec92549b177",
        "type": "ui_group",
        "name": "Add Manual Dip",
        "tab": "a8fbe0627cf8b9f4",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "4e51f179f34f89ef",
        "type": "ui_group",
        "name": "Add a new Driver",
        "tab": "68b15b367e4b47ac",
        "order": 1,
        "disp": true,
        "width": "4",
        "collapse": false,
        "className": ""
    },
    {
        "id": "3840d01c73196be6",
        "type": "modbus-client",
        "name": "PLC",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": true,
        "tcpHost": "192.168.10.99",
        "tcpPort": "502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": "1",
        "commandDelay": "1",
        "clientTimeout": "1000",
        "reconnectOnTimeout": true,
        "reconnectTimeout": "2000",
        "parallelUnitIdsAllowed": true
    },
    {
        "id": "e38c5cff71f6dbce",
        "type": "ui_group",
        "name": "Calculation - Cost Per Litre",
        "tab": "5cc7b09b54490123",
        "order": 8,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "2378c71389a2f4fc",
        "type": "ui_group",
        "name": "Prediction - Before & After",
        "tab": "5cc7b09b54490123",
        "order": 7,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "7f1199e1e9bd43c2",
        "type": "ui_group",
        "name": "Control & Indicator",
        "tab": "5cc7b09b54490123",
        "order": 11,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "fb077ebba1b0ac2d",
        "type": "ui_group",
        "name": "Digital Flowmeter - Simulation",
        "tab": "5cc7b09b54490123",
        "order": 9,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "908dd1cf185b69d1",
        "type": "ui_group",
        "name": "Differential Pressure Transmitter",
        "tab": "5cc7b09b54490123",
        "order": 10,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "079285126f863981",
        "type": "ui_group",
        "name": "Differential ISO Class - Logs",
        "tab": "5cc7b09b54490123",
        "order": 14,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "c54415c6de77a96b",
        "type": "ui_group",
        "name": "After - ISO Class [Log Chart]",
        "tab": "5cc7b09b54490123",
        "order": 6,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "cbab75ebc61a2212",
        "type": "ui_group",
        "name": "Before - ISO Class [Log Chart]",
        "tab": "5cc7b09b54490123",
        "order": 5,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "724c6224b24f2136",
        "type": "modbus-client",
        "name": "Modbus SIM-1",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "tcpHost": "192.168.10.91",
        "tcpPort": "502",
        "tcpType": "DEFAULT",
        "serialPort": "COM10",
        "serialType": "RTU",
        "serialBaudrate": "115200",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "unit_id": 1,
        "commandDelay": 1,
        "clientTimeout": 1000,
        "reconnectOnTimeout": true,
        "reconnectTimeout": 2000,
        "parallelUnitIdsAllowed": true
    },
    {
        "id": "d039a0169ca69164",
        "type": "modbus-client",
        "name": "Modbus 10.91",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "tcpHost": "192.168.10.91",
        "tcpPort": "502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "unit_id": "1",
        "commandDelay": "1",
        "clientTimeout": "1000",
        "reconnectOnTimeout": true,
        "reconnectTimeout": "2000",
        "parallelUnitIdsAllowed": true
    },
    {
        "id": "59a5908c73e6b715",
        "type": "ui_group",
        "name": "After - ISO Class",
        "tab": "5cc7b09b54490123",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "d955c3cfa88f0638",
        "type": "ui_group",
        "name": "Before - ISO Class",
        "tab": "5cc7b09b54490123",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "b621ccddfa1d49ef",
        "type": "ui_group",
        "name": "Before - Particle Count",
        "tab": "5cc7b09b54490123",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "310da89537fe440a",
        "type": "ui_group",
        "name": "After - Particle Count",
        "tab": "5cc7b09b54490123",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "5cc7b09b54490123",
        "type": "ui_tab",
        "name": "Cleanliness Online Monitoring",
        "icon": "fa-filter",
        "order": 10,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "463f6c3869ef099d",
        "type": "ui_group",
        "name": "Configuration",
        "tab": "8de2e50a0e16ee3b",
        "order": 3,
        "disp": true,
        "width": 4,
        "collapse": false,
        "className": ""
    },
    {
        "id": "9899433f18bbb4cc",
        "type": "serial-port",
        "serialport": "COM2",
        "serialbaud": "9600",
        "databits": "8",
        "parity": "none",
        "stopbits": "1",
        "waitfor": "",
        "dtr": "none",
        "rts": "none",
        "cts": "none",
        "dsr": "none",
        "newline": "\\r",
        "bin": "false",
        "out": "char",
        "addchar": "",
        "responsetimeout": "10000"
    },
    {
        "id": "1bc237d529348ace",
        "type": "ui_tab",
        "name": "Dashboard",
        "icon": "fa-tachometer",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "4fff376e61894f88",
        "type": "ui_group",
        "name": "Before/After Particle Count",
        "tab": "1bc237d529348ace",
        "order": 1,
        "disp": true,
        "width": 8,
        "collapse": false,
        "className": ""
    },
    {
        "id": "d218fd6675f2543a",
        "type": "ui_group",
        "name": "Before/After ISO Code",
        "tab": "1bc237d529348ace",
        "order": 2,
        "disp": true,
        "width": 8,
        "collapse": false,
        "className": ""
    },
    {
        "id": "6181bac1acaef96e",
        "type": "ui_group",
        "name": "Before/After ISO Class [Log Chart]",
        "tab": "1bc237d529348ace",
        "order": 4,
        "disp": true,
        "width": 22,
        "collapse": false,
        "className": ""
    },
    {
        "id": "8de2e50a0e16ee3b",
        "type": "ui_tab",
        "name": "Dispense",
        "icon": "local_gas_station",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "071c31c938b04b50",
        "type": "ui_group",
        "name": "Manual Input Value",
        "tab": "1bc237d529348ace",
        "order": 3,
        "disp": true,
        "width": 6,
        "collapse": false,
        "className": ""
    },
    {
        "id": "359588f78886d0bd",
        "type": "ui_tab",
        "name": "Before Filtration",
        "icon": "fa-table",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "60e999eee360aa93",
        "type": "ui_group",
        "name": "Database After Filtration",
        "tab": "359588f78886d0bd",
        "order": 2,
        "disp": true,
        "width": "22",
        "collapse": false,
        "className": ""
    },
    {
        "id": "9830552bfbc0a872",
        "type": "ui_group",
        "name": "Database Before Filtration",
        "tab": "359588f78886d0bd",
        "order": 1,
        "disp": true,
        "width": "22",
        "collapse": false,
        "className": ""
    },
    {
        "id": "347578936cd017ea",
        "type": "MySQLdatabase",
        "name": "",
        "host": "127.0.0.1",
        "port": "3308",
        "db": "yphe_login",
        "tz": "",
        "charset": "UTF8"
    },
    {
        "id": "cc04978bf0325851",
        "type": "ui_tab",
        "name": "Cleanliness",
        "icon": "developer_dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "de7007329f0691c0",
        "type": "ui_group",
        "name": "Before - ISO Code Number",
        "tab": "cc04978bf0325851",
        "order": 1,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a5a415f45a096169",
        "type": "ui_group",
        "name": "Before - Number of Particles",
        "tab": "cc04978bf0325851",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "2d8589f3de00ca30",
        "type": "ui_group",
        "name": "After - ISO Code Numbers",
        "tab": "cc04978bf0325851",
        "order": 3,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "9f6331b6733479de",
        "type": "ui_group",
        "name": "After - Number of Particles",
        "tab": "cc04978bf0325851",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "51142e84818e721f",
        "type": "ui_group",
        "name": "Chart 4μm",
        "tab": "cc04978bf0325851",
        "order": 5,
        "disp": false,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "8afd4dd98ed0092b",
        "type": "ui_group",
        "name": "Chart 6μm",
        "tab": "cc04978bf0325851",
        "order": 6,
        "disp": false,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d0bd9f4761708f29",
        "type": "ui_tab",
        "name": "Users",
        "icon": "people",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "9ba89fe3c30a9f58",
        "type": "ui_group",
        "name": "Input Filter Element",
        "tab": "d0bd9f4761708f29",
        "order": 1,
        "disp": true,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d53f56c53ea19c84",
        "type": "ui_group",
        "name": "Calculation Predictions",
        "tab": "d0bd9f4761708f29",
        "order": 2,
        "disp": true,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "df84df90d9be6c01",
        "type": "ui_group",
        "name": "Differential Pressure Monitoring",
        "tab": "d0bd9f4761708f29",
        "order": 3,
        "disp": true,
        "width": 8,
        "collapse": false,
        "className": ""
    },
    {
        "id": "7ec7fcdb05213811",
        "type": "ui_group",
        "name": "Digital Flowmeter Simulation",
        "tab": "d0bd9f4761708f29",
        "order": 4,
        "disp": true,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "3509d49413e679be",
        "type": "ui_group",
        "name": "Filtration Condition Monitoring",
        "tab": "d0bd9f4761708f29",
        "order": 5,
        "disp": true,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d468fe3c14751d69",
        "type": "ui_tab",
        "name": "Datalogger",
        "icon": "storage",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "3aaaccf33a4ebc21",
        "type": "ui_group",
        "name": "Filtration Records and Fuel Condition Monitoring",
        "tab": "d468fe3c14751d69",
        "order": 1,
        "disp": true,
        "width": "22",
        "collapse": false,
        "className": ""
    },
    {
        "id": "83b20082.0c1de",
        "type": "ui_tab",
        "name": "Test",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "48814208.274a2c",
        "type": "ui_tab",
        "name": "DEWA-10 Chart-Logger",
        "icon": "dashboard",
        "order": 397,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "ca2272c3.e8396",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "d9bf7560.df5e58",
        "order": 1,
        "disp": true,
        "width": 6
    },
    {
        "id": "d9bf7560.df5e58",
        "type": "ui_tab",
        "name": "Test",
        "icon": "dashboard",
        "order": 9,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ac2c8e97.2a413",
        "type": "ui_group",
        "name": "test",
        "tab": "",
        "order": 3,
        "disp": true,
        "width": "7",
        "collapse": true
    },
    {
        "id": "c6429d59b6e431e1",
        "type": "ui_group",
        "name": "Chart 14μm",
        "tab": "cc04978bf0325851",
        "order": 7,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b78a81a5.aff9e",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "df32c4cd.bf03e",
        "order": 1,
        "disp": true,
        "width": 6
    },
    {
        "id": "187a0d10.a44d4b",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "8abb3dd0.ddf87",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "977b1749.a3ea48",
        "type": "ui_group",
        "name": "Group 2",
        "tab": "df32c4cd.bf03e",
        "order": 2,
        "disp": true,
        "width": 6
    },
    {
        "id": "a9448416.fe8fa",
        "type": "ui_group",
        "name": "Group 2",
        "tab": "8abb3dd0.ddf87",
        "order": 2,
        "disp": true,
        "width": 6
    },
    {
        "id": "df32c4cd.bf03e",
        "type": "ui_tab",
        "name": "Tab 2",
        "icon": "dashboard",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "8abb3dd0.ddf87",
        "type": "ui_tab",
        "name": "Tab 3",
        "icon": "dashboard",
        "order": 8,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "939d4be664ce1151",
        "type": "ui_group",
        "name": "Filter Element Performance",
        "tab": "d0bd9f4761708f29",
        "order": 6,
        "disp": true,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f133eb8e1213a252",
        "type": "ui_spacer",
        "z": "9528cf535383c9df",
        "name": "spacer",
        "group": "3509d49413e679be",
        "order": 4,
        "width": 2,
        "height": 1
    },
    {
        "id": "54b22632c377241e",
        "type": "ui_spacer",
        "z": "9528cf535383c9df",
        "name": "spacer",
        "group": "3509d49413e679be",
        "order": 6,
        "width": 2,
        "height": 1
    },
    {
        "id": "dce9e7a2.d20c78",
        "type": "ui_group",
        "name": "Default",
        "tab": "5132060d.4cde48",
        "order": 1,
        "disp": true,
        "width": "9",
        "collapse": false,
        "className": ""
    },
    {
        "id": "5132060d.4cde48",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "343f7063521c327e",
        "type": "ui_group",
        "name": "test",
        "tab": "62712bbf.888b94",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "62712bbf.888b94",
        "type": "ui_tab",
        "name": "test",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "f5694a3207c93307",
        "type": "function",
        "z": "b0ec6a23a2633ae6",
        "name": "handle tableData",
        "func": "var status = {fill:\"red\",shape:\"dot\",text: \"payload \"};\nvar tableIndex = env.get(\"tableIndex\") || \"$topic\";\nvar tableDataProp = env.get(\"tableDataProp\") || \"row\";\nvar tableContext = env.get(\"tableContext\");\nvar dashboard = env.get(\"dashboard\");\nvar maxRows = env.get(\"maxRows\") || 0;\nvar maxStore = env.get(\"maxStore\") || 0;\n\nif (!tableContext.hasOwnProperty(\"tableData\") || !tableContext.hasOwnProperty(\"tableConfig\")) {\n    status.text=\"tableContext not defined\";\n    node.error(status.text);\n    return [{payload:status},null];\n}\n\n// context store to cache table data (memoryOnly prefered)\nvar tableData = flow.get(\"$parent.\"+tableContext.tableData.name,tableContext.tableData.storage);\nif (tableData===undefined) {\n    node.warn(\"[ui-table handler] tableData initialized!\");\n    tableData={};\n    flow.set(\"$parent.\"+tableContext.tableData.name,tableData,tableContext.tableData.storage);\n}\n\n// context Store to save table configuration (file)\nvar tableConfig = flow.get(\"$parent.\"+tableContext.tableConfig.name,tableContext.tableConfig.storage);\nif (tableConfig===undefined) {\n    node.warn(\"[ui-table handler] tableConfig initialized!\");\n    tableConfig={ResponsiveLayout:true};\n    flow.set(\"$parent.\"+tableContext.tableConfig.name,tableConfig,tableContext.tableConfig.storage);\n}\n\nif (tableConfig.hasOwnProperty(\"maxStore\")) maxStore=tableConfig.maxStore;\nif (tableConfig.hasOwnProperty(\"maxRows\")) maxRows=tableConfig.maxRows;\n\n// context Store to save table configuration (file)\nvar tableEdit;\nif (tableContext.hasOwnProperty(\"tableEdit\")) {\n    tableEdit = flow.get(\"$parent.\"+tableContext.tableEdit.name,tableContext.tableEdit.storage);\n    if (tableEdit===undefined) {\n        node.warn(\"[ui-table handler] tableEdit initialized!\");\n        tableEdit={};\n        flow.set(\"$parent.\"+tableContext.tableEdit.name,tableEdit,tableContext.tableEdit.storage);\n    }\n}\n\n// function to merge partial data into existing table row\nvar mergeObject = function (destination, source, filter) {\n    for (let currentSource in source) {\n        if (source.hasOwnProperty(currentSource)) {\n            if (filter!==undefined && tableEdit && tableEdit.hasOwnProperty(filter) && tableEdit[filter].hasOwnProperty(currentSource)) {\n                destination[currentSource]= tableEdit[filter][currentSource];\n                source[currentSource]=tableEdit[filter][currentSource];\n            } else {\n                destination[currentSource]= source[currentSource];\n            }\n        }    \n    }\n    return source;\n};\n\n// merge edits into a destination object respecting _children\nvar mergeEdits = function(destination) {\n    \n    var mergeChildEdits = function(children) {\n        children.forEach(child => {\n            if (child.hasOwnProperty(tableIndex) && tableEdit.hasOwnProperty(child[tableIndex])) {\n//                node.warn([\"mergeChild\",child])\n                Object.keys(tableEdit[child[tableIndex]]).forEach(edit => {\n                    if (child.hasOwnProperty(edit)) {\n                        child[edit]=tableEdit[child[tableIndex]][edit];\n//                        node.warn([\"mergeChild edit \",edit,child[edit]])\n                    }\n                });\n            }\n            if (child.hasOwnProperty(\"_children\")) {\n                mergeChildEdits(child._children);\n            }\n        })\n    }\n    \n\n    Object.keys(destination).forEach(row => {\n        if (destination[row].hasOwnProperty(tableIndex)) {\n            if (tableEdit.hasOwnProperty(row)) {\n                Object.keys(tableEdit[row]).forEach(edit => {\n                    destination[row][edit]=tableEdit[row][edit];\n                });\n            }\n            if (destination[row].hasOwnProperty(\"_children\")) {\n                mergeChildEdits(destination[row]._children);\n            }\n       }\n    });\n}\n\n// deep search for a column including nested columns\nvar searchTabulatorColumn = function (columns,key,match) {\n    var result;\n    for (let column of columns) {\n        if (column.hasOwnProperty(\"columns\")) {\n            result = searchTabulatorColumn(column.columns,key,match);\n            if (result!==undefined) return result;\n        } else if (column.hasOwnProperty(key) && column[key]===match) {\n            return column;\n        }\n    }\n};\n\n// command message to update add or update data on ui-table\nvar msgToTable={};\nmsgToTable.payload={\n    \"command\":msg.tabulatorCommand || \"updateOrAddData\",\n    \"arguments\": [],\n    \"returnPromise\": false\n};\n\n// store data in tableData\nif (msg.hasOwnProperty(tableDataProp)) {\n    // store data for later recover\n    if (!msg.hasOwnProperty(\"topic\")) { // check if index existst\n        status.text=\"msg.topic not defined!\";\n        return [{payload:status},null];\n    }\n    if (!tableData.hasOwnProperty(msg.topic)){ // first seen\n        if (maxRows>0 && Object.keys(tableData).lenght===0) {\n            tableConfig.currentFirstRow=msg.topic;\n        }\n        tableData[msg.topic]={};\n        if (tableEdit && tableEdit.hasOwnProperty(msg.topic)) { // table edits available!\n            Object.keys(tableEdit[msg.topic]).forEach((key) => {\n                msg[tableDataProp][key]=tableEdit[msg.topic][key];\n                tableData[msg.topic][key]=tableEdit[msg.topic][key];\n            })\n        }\n        if (maxStore>0 && typeof msg.topic === \"number\") { // limit rows in tableData\n            let rowKeys = Object.keys(tableData);\n            if (rowKeys.length>maxStore) {\n                for (let i=0; i<(rowKeys.length-maxStore); i++) {\n                    delete tableData[rowKeys[i]];\n                }\n            }\n        }\n    }\n    if (!tableData[msg.topic].hasOwnProperty(tableIndex)) tableData[msg.topic][tableIndex]=msg.topic;\n    msg[tableDataProp]=mergeObject(tableData[msg.topic],msg[tableDataProp],msg.topic);\n    msg[tableDataProp][tableIndex]=msg.topic;\n    msgToTable.payload.arguments=[[msg[tableDataProp]]];\n    // add aditional parameters\n    if (msg.hasOwnProperty(\"tabulatorParameter\") && Array.isArray(msg.tabulatorParameter)) {\n        for (let arg in msg.tabulatorParameter) msgToTable.payload.arguments.push(arg);\n    }\n    // delete rows if rows exceed maxRows\n    /*\n    if (maxRows>0 && tableConfig.hasOwnProperty(\"currentFirstRow\") && typeof tableData[msg.topic][tableIndex]===\"number\") {\n        //node.warn([maxRows,tableConfig.hasOwnProperty(\"currentFirstRow\"),typeof tableData[msg.topic][tableIndex],tableConfig.currentFirstRow,tableData[msg.topic][tableIndex]-maxRows])\n        if (tableConfig.currentFirstRow<tableData[msg.topic][tableIndex]-maxRows) {\n            node.warn([\"maxRowExeeded\",tableConfig.currentFirstRow]);\n            node.send([null,{payload:{\"command\":\"deleteRow\",\"arguments\": [tableConfig.currentFirstRow],\"returnPromise\": false}},null]);\n            tableConfig.currentFirstRow++;\n        }\n    }*/\n    if (maxRows>0 && typeof tableData[msg.topic][tableIndex]===\"number\" && msg.topic-maxRows>0) {\n        node.send([null,{payload:{\"command\":\"deleteRow\",\"arguments\": [msg.topic-maxRows],\"returnPromise\": false}},null]);\n    }\n    status.fill=\"green\";\n    status.text=msg.topic+\" updated\";\n    return [{payload:status},msgToTable,null];\n} if (msg.payload===\"connect\" || (msg.payload===\"change\" && msg.name===dashboard) || (msg.hasOwnProperty(\"payload\") && msg.payload.hasOwnProperty(\"command\"))) { \n    if (!msg.hasOwnProperty(\"ui_control\")) {\n        msg.ui_control = env.get('tabulator');\n        status.text+=\" ui_control added\";\n    }\n    //process commands\n    //node.warn({\"command\":msg.payload.command,\"msg\":msg,\"object\":msg.payload.object})\n    if (msg.payload.hasOwnProperty(\"command\") && msg.payload.command!=='getTable') {\n        status.fill=\"blue\";\n        switch(msg.payload.command) {\n            case 'deleteTable':\n                flow.set(\"$parent.\"+tableContext.tableData.name,undefined,tableContext.tableData.storage);\n                tableData={};\n                status.text=\"tabledata deleted\";\n                node.warn(\"[ui-table handler] \"+\"tabledata deleted\");\n                break;\n            case 'deleteRow':\n            case 'deleteDevice':\n                var deleteRow = function(id) {\n                    // check if row is in root\n                    if (tableData.hasOwnProperty(id)) {\n                        delete tableData[id]\n                        return true;\n                    }\n                    // check if row is a child\n                    let deleteChildRow = function(children, id) {\n                        for(let i = 0; i < children.length; i++){\n                            if (children[i].hasOwnProperty(tableIndex) && children[i][tableIndex]===id) {\n                                children.splice(i, 1); \n                                return true; \n                            }\n                            if (children[i].hasOwnProperty(\"_children\")) {\n                                if (deleteChildRow(children[i]._children,id)) {\n                                    if (children[i]._children.length === 0) {\n                                        delete children[i]._children;\n                                    }\n                                    return true;\n                                }\n                            }\n                        }\n                        return false;\n                    };\n                    \n                    for (let row in tableData) {\n                        if (tableData[row].hasOwnProperty(\"_children\")) {\n                            if (deleteChildRow(tableData[row]._children,id)) return true;\n                        }\n                    }\n                    return false;\n                }\n                \n                if (deleteRow(msg.payload.object)) {\n                    status.text=msg.payload.object+\" deleted\";\n                } else {\n                    status.fill=\"yellow\";\n                    status.text=msg.payload.object+\" undefined\";\n                }\n                break;\n            case 'ignoreRow':\n            case 'ignoreDevice':\n                if (tableData.hasOwnProperty(msg.payload.object)) {\n                    delete tableData[msg.payload.object];\n                    status.text=msg.payload.object+\" will be ignored\";\n                    if (!tableConfig.hasOwnProperty('ignoreDevice')) tableConfig.ignoreDevice={};\n                    tableConfig.ignoreDevice[msg.payload.object]=true;\n                }\n                break;\n            case 'unIgnoreRow':\n            case 'unIgnoreDevice':\n                if (tableConfig.hasOwnProperty('ignoreDevice')) {\n                    delete tableConfig.ignoreDevice[msg.payload.object];\n                }\n                break;\n            case 'unIgnoreRows':\n            case 'unIgnoreDevices':\n                delete tableConfig.ignoreDevice;\n                break;\n            case 'updateData':\n                status.text=\"column \"+msg.payload.column+\" updated\";\n                delete msg.ui_control;\n                return [{payload:status},msg];\n            case 'updateTable':\n                status.text=msg.payload.command+\": \";\n                break;\n            case 'columnHide':\n                if (!tableConfig.hasOwnProperty('columnVisible')) tableConfig.columnVisible={};\n                tableConfig.columnVisible[msg.payload.object]=false;\n                break;\n            case 'columnUnHide':\n                if (!tableConfig.hasOwnProperty('columnVisible')) tableConfig.columnVisible={};\n                tableConfig.columnVisible[msg.payload.object]=true;\n                break;\n            case 'columnsUnHide':\n                for (let column in tableConfig.columnVisible) {\n                    if (tableConfig.columnVisible.hasOwnProperty(column)) tableConfig.columnVisible[column]=true;\n                }\n                break;\n            case 'refreshTable':\n                break;\n            case 'deleteColumnOrder':\n            case 'restoreColumnOrder':\n                delete tableConfig.columns;\n                break;\n            case 'deleteColumnWidth':\n            case 'resetColumnWidth':\n                delete tableConfig.columnWidths;\n                break;\n            case 'setResponsiveLayout':\n                tableConfig.ResponsiveLayout=!tableConfig.ResponsiveLayout;\n                break;\n            case 'deleteRowOrder':\n                delete tableConfig.rowOrder;\n                break;\n            case 'setMaxStore':\n                tableConfig.maxStore=msg.payload.object;\n                maxStore=msg.payload.object;\n                break;\n            case 'setMaxRows':\n                tableConfig.maxRows=msg.payload.object;\n                maxRows=msg.payload.object;\n                break;\n            default:\n                status.fill=\"red\";\n                status.text=\"unknown command \"+msg.payload.command;\n                node.warn(\"[ui-table handler] \"+status.text);\n                break;\n        }\n        flow.set(\"$parent.\"+tableContext.tableConfig.name,tableConfig,tableContext.tableConfig.storage);\n        node.send([{payload:status},null,null]);\n    }\n\n    // crawl through tabulator arrays and updated user defined values\n    var crawlTabulator = function (columns,match,config,property) {\n        for (let column of columns) {\n            if (column.hasOwnProperty(\"columns\")) {\n                crawlTabulator(column.columns,match,config,property);\n            } else if (config.hasOwnProperty(column[match])) column[property]=config[column.field];\n        }\n    };\n    \n    // restore custom column width\n    if (tableConfig.hasOwnProperty(\"columnWidths\") && msg.hasOwnProperty(\"ui_control\")) {\n        crawlTabulator(msg.ui_control.tabulator.columns,\"field\",tableConfig.columnWidths,\"width\");\n    }\n    \n    // restore custom column hide/show\n    if (tableConfig.hasOwnProperty(\"columnVisible\") && msg.hasOwnProperty(\"ui_control\")) {\n        crawlTabulator(msg.ui_control.tabulator.columns,\"field\",tableConfig.columnVisible,\"visible\");\n    }\n    \n    // restore custom responsive / standard view\n    if (tableConfig.hasOwnProperty(\"ResponsiveLayout\")) {\n        if (!tableConfig.ResponsiveLayout) {\n            msg.ui_control.tabulator.responsiveLayout=false;\n        }\n        msg.ui_control.tabulator.columns.forEach((column,index) => {\n            if (column.formatter===\"responsiveCollapse\") { // hide expand column on any position\n                column.visible=tableConfig.ResponsiveLayout;\n                return;\n            }\n        });\n    }\n\n    // sort columns\n    if (tableConfig.hasOwnProperty(\"columns\") && msg.hasOwnProperty(\"ui_control\") && msg.ui_control.hasOwnProperty(\"tabulator\")) {\n        var addedColumns = 0;\n        var sortColumnsByLayout = function (sortColumns, columnsLayout, targetColumns) {\n            for (var layoutColumn=0;  layoutColumn<columnsLayout.length; layoutColumn++) {\n                for (var sortColumn in sortColumns) {\n                    if (sortColumns[sortColumn].hasOwnProperty(\"columns\")) {\n                        targetColumns.push({\"title\":sortColumns[sortColumn].title, \"columns\":[]});\n                        sortColumnsByLayout(sortColumns[sortColumn].columns,columnsLayout,targetColumns[targetColumns.length-1].columns);\n                        layoutColumn=addedColumns; // jump forward after childes added\n                    } else {\n                        if (columnsLayout[layoutColumn].field===sortColumns[sortColumn].field){\n                            targetColumns.push(sortColumns[sortColumn]);\n                            addedColumns++;\n                            break;\n                        }\n                    }\n                }\n            }\n        };                 \n        var newColumns=[];\n        sortColumnsByLayout(msg.ui_control.tabulator.columns,tableConfig.columns,newColumns);\n        msg.ui_control.tabulator.columns=newColumns;\n    }\n\n    // restore stored lines after connect\n\n    let command = msg.payload.command;\n    var tableArray;\n    if (command===\"getTable\") {\n        msg.payload.tableArray=[];\n        tableArray=msg.payload.tableArray\n    } else {\n        msg.payload=[];\n        tableArray=msg.payload;\n    }\n    \n    var pushRowData = function(rowData) {\n        // ignore rows in ignoreRows array\n        if (tableConfig && tableConfig.hasOwnProperty(\"ignoreDevice\") && tableConfig.ignoreDevice[rowData]) {\n            // do nothing\n        } else {\n            // merge edits into table\n            if (tableEdit && tableEdit.hasOwnProperty(rowData)) {\n                let tableRow = RED.util.cloneMessage(tableData[rowData]);\n                Object.keys(tableEdit[rowData]).forEach((field) => {\n                    tableRow[field]=tableEdit[rowData][field];\n                });\n                tableArray.push(tableRow);\n            } else {\n                tableArray.push(tableData[rowData]);\n            }\n        }\n    }\n    \n    if (tableConfig.hasOwnProperty(\"rowOrder\")) {\n        // first check if new rows exits which are not in rowOrder\n        Object.keys(tableData).forEach((key) => {\n            if (tableConfig.rowOrder.indexOf(tableData[key][tableIndex])<0) {\n                tableConfig.rowOrder.push(tableData[key][tableIndex]); // add row to the end of rowOrder\n            }\n        });\n        tableConfig.rowOrder.forEach((value,index) => {\n            node.warn([\"pushRowOrder\",value,tableData.hasOwnProperty(value),tableData[value]]);\n            if (tableData.hasOwnProperty(value)) { // push rows in rowOrder sequence\n                pushRowData(value);\n            } else { // delete not existing rows from rowOrder\n                tableConfig.rowOrder.splice(index,1)\n            }\n       });\n    } else {\n        for (let rowData in tableData) {\n            pushRowData(rowData);\n        }\n    }\n    // store the first index if maxRows limits amount of displayed lines\n    if (maxRows>0 && tableData) {\n        let tableKeys=Object.keys(tableData);\n        if (tableKeys.length>0 && typeof tableData[tableKeys[0]][tableIndex] === \"number\") {\n            tableConfig.currentFirstRow=tableData[tableKeys[0]][tableIndex];\n        }\n    }\n    \n    if (command=='getTable'){\n        status.fill=\"blue\";\n        status.text+=\" \"+tableArray.length+\" rows emitted\";\n        return [{payload:status},null,msg];\n    } else {\n        status.fill=\"blue\";\n        status.text+=\" \"+tableArray.length+\" rows restored\";\n        return [{payload:status},msg,[{topic:\"maxRows\",payload:maxRows},{topic:\"maxStore\",payload:maxStore}]];\n    }\n} if (msg.hasOwnProperty(\"ui_control\")) {\n    // callback from tabulator\n    status.fill=\"blue\";\n    status.text=\"callback \"+msg.ui_control.callback;\n    switch(msg.ui_control.callback) {\n        case \"columnResized\": // save new column width\n            if (tableConfig.columnWidths===undefined) tableConfig.columnWidths={};\n            tableConfig.columnWidths[msg.ui_control.columnWidths.field]=msg.ui_control.columnWidths.width;\n            flow.set(\"$parent.\"+tableContext.tableConfig.name,tableConfig,tableContext.tableConfig.storage);\n            status.text=msg.ui_control.columnWidths.field+\"=\"+msg.ui_control.columnWidths.width+\"px\";\n            break;\n        case \"columnMoved\": // save new column order\n            if (tableConfig.columns===undefined) tableConfig.columns=[];\n            tableConfig.columns=msg.ui_control.columns;\n            flow.set(\"$parent.\"+tableContext.tableConfig.name,tableConfig,tableContext.tableConfig.storage);\n            status.text=\"new column order\";\n            break;\n        case \"cellEdited\":\n            if (tableEdit) {\n                if (!tableEdit.hasOwnProperty(msg[tableIndex])) tableEdit[msg[tableIndex]]={};\n                tableEdit[msg[tableIndex]][msg.field] = msg.payload; // save data and mark as edited field\n                flow.set(\"$parent.\"+tableContext.tableEdit.name,tableEdit,tableContext.tableEdit.storage);\n                mergeEdits(tableData);\n                flow.set(\"$parent.\"+tableContext.tableData.name,tableData,tableContext.tableData.storage);\n                status.text=msg[tableIndex]+\" \"+msg.field+\" edited to \"+msg.payload;\n                msg[tableDataProp]={};\n                msg[tableDataProp][tableIndex]=msg[tableIndex];\n                msg[tableDataProp][msg.field]=msg.payload;\n                msgToTable.payload.arguments=[[msg[tableDataProp]]];\n                node.send([{payload:status},null,msg]); // was node.send([{payload:status},msgToTable,msg]);\n            } else {\n                node.error(\"[ui-table handler] no tableEdit store defined!\")\n            }\n            break;\n        case \"rowContext\":\n            msg.ignoredDevices=[];\n            for (let rowData in tableConfig.ignoreDevice) {\n                if (tableConfig.ignoreDevice.hasOwnProperty(rowData)) {\n                    msg.ignoredDevices.push({\"text\":rowData,\"icon\":\"fa fa-plug\",\"topic\":\"unIgnoreDevice\",\"payload\":rowData})  \n                }\n            }\n            break;\n        case \"headerContext\":\n            msg.hiddenColumns=[];\n            let tabulatorConfig = env.get('tabulator');\n            for (let column in tableConfig.columnVisible) {\n                if (tableConfig.columnVisible.hasOwnProperty(column) &&\n                    !tableConfig.columnVisible[column]) {\n                    let configColumn=searchTabulatorColumn(tabulatorConfig.tabulator.columns,\"field\",column);\n                    let icon;\n                    if (configColumn.hasOwnProperty('title') && configColumn.title.toLowerCase().includes('</i>')) {\n                        // <i class='fa fa-star-half-o'></i> State\n                        let start=configColumn.title.indexOf(\"'fa \");\n                        let end=configColumn.title.indexOf(\"'\",start+1);\n                        icon=configColumn.title.substring(start+4,end);\n                    }\n                    msg.hiddenColumns.push({\"text\":column,\"icon\":icon,\"topic\":\"columnUnHide\",\"payload\":configColumn.field})  \n                }\n            }\n            break;\n        case \"rowMoved\":\n            if (tableConfig.rowOrder===undefined) tableConfig.rowOrder={};\n            tableConfig.rowOrder=msg.ui_control.rowOrder;\n            flow.set(\"$parent.\"+tableContext.tableConfig.name,tableConfig,tableContext.tableConfig.storage);\n            status.text=\"new row order\";\n            break;\n        default:\n            // if rowIndex exists pass complete object\n            if (msg.hasOwnProperty(tableIndex)) {\n                msg.rowData=tableData[msg[tableIndex]];\n            }\n            status.text=\"pass message\";\n    }\n    return [{payload:status},null,msg];\n} \nif (Array.isArray(msg.payload)) {\n    tableData={};\n    \n    msg.payload.forEach((row) => {\n        if (row.hasOwnProperty(tableIndex)) {\n            tableData[row[tableIndex]]=row;\n        }\n    });\n    if (msg.keepEdits) {\n        mergeEdits(tableData);\n    }\n\n    \n    flow.set(\"$parent.\"+tableContext.tableData.name,tableData,tableContext.tableData.storage);\n    if (tableContext.hasOwnProperty(\"tableEdit\") && !msg.keepEdits) {\n        tableEdit={};\n        flow.set(\"$parent.\"+tableContext.tableEdit.name,tableEdit,tableContext.tableEdit.storage);\n    }\n    status.fill=\"blue\"\n    status.text=\"table replaced \"+msg.payload.length+\" rows\";\n    return [{payload:status},msg,null];\n}    \n    \n// nothing to do bejond this point\nstatus.text+=\" [\"+msg.payload+\"]\";\nreturn [{payload:status},null];\n",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 192,
        "y": 85,
        "wires": [
            [],
            [],
            []
        ],
        "icon": "font-awesome/fa-table"
    },
    {
        "id": "bbe003c1fcd78cb9",
        "type": "ui_text_input",
        "z": "46af9c65977c5ac5",
        "name": "vehicle_id",
        "label": "Vehicle Key *",
        "tooltip": "",
        "group": "3e8a11af575bd99c",
        "order": 3,
        "width": 4,
        "height": 1,
        "passthru": false,
        "mode": "text",
        "delay": 300,
        "topic": "payload",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 620,
        "y": 540,
        "wires": [
            [
                "d0e3c8c83cbc646b",
                "e9ac9898124acf17"
            ]
        ]
    },
    {
        "id": "d5881bd159904eac",
        "type": "ui_digital_display",
        "z": "46af9c65977c5ac5",
        "name": "",
        "group": "9c2005d7a47d91e9",
        "order": 1,
        "width": 10,
        "height": "5",
        "digits": "6",
        "decimals": "2",
        "x": 1060,
        "y": 440,
        "wires": []
    },
    {
        "id": "dbded81ead5dabae",
        "type": "ui_text_input",
        "z": "46af9c65977c5ac5",
        "name": "driver_id",
        "label": "Driver Key / Code *",
        "tooltip": "",
        "group": "3e8a11af575bd99c",
        "order": 1,
        "width": 4,
        "height": 1,
        "passthru": false,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 620,
        "y": 340,
        "wires": [
            [
                "148a11ebf32e5ecb",
                "c63dd50c12e95f86"
            ]
        ]
    },
    {
        "id": "148a11ebf32e5ecb",
        "type": "function",
        "z": "46af9c65977c5ac5",
        "name": "check drivers",
        "func": "msg.topic = \"SELECT * FROM drivers WHERE driver_id='\" + msg.payload + \"';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 340,
        "wires": [
            [
                "633d2e1dd08651ce"
            ]
        ]
    },
    {
        "id": "633d2e1dd08651ce",
        "type": "mysql",
        "z": "46af9c65977c5ac5",
        "mydb": "",
        "name": "drivers table",
        "x": 1050,
        "y": 340,
        "wires": [
            [
                "fe23ebf967cff990",
                "580534b12f911c41",
                "099146f7ed2dd8ed"
            ]
        ]
    },
    {
        "id": "d7f93e6b37c4ee98",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "send failed message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "your key is not registered!",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 400,
        "wires": [
            [
                "a16d73c5c97a3ebc"
            ]
        ]
    },
    {
        "id": "a16d73c5c97a3ebc",
        "type": "ui_toast",
        "z": "46af9c65977c5ac5",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "className": "",
        "topic": "Error: Key registration",
        "name": "",
        "x": 1830,
        "y": 420,
        "wires": [
            [
                "0e2641ba749541a6"
            ]
        ]
    },
    {
        "id": "c63dd50c12e95f86",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "driver_id",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "013aa912d8563d25",
        "type": "link out",
        "z": "46af9c65977c5ac5",
        "name": "to clear",
        "mode": "link",
        "links": [
            "bb5e6814ac3c9885",
            "e6d2ada026c17ad8"
        ],
        "x": 2240,
        "y": 420,
        "wires": [],
        "l": true
    },
    {
        "id": "bb5e6814ac3c9885",
        "type": "link in",
        "z": "46af9c65977c5ac5",
        "name": "from clear",
        "links": [
            "013aa912d8563d25"
        ],
        "x": 440,
        "y": 380,
        "wires": [
            [
                "dbded81ead5dabae"
            ]
        ],
        "l": true
    },
    {
        "id": "0e2641ba749541a6",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "clear data",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2060,
        "y": 420,
        "wires": [
            [
                "013aa912d8563d25"
            ]
        ]
    },
    {
        "id": "d0e3c8c83cbc646b",
        "type": "function",
        "z": "46af9c65977c5ac5",
        "name": "check vehicles",
        "func": "msg.topic = \"SELECT * FROM vehicles WHERE vehicle_id='\" + msg.payload + \"';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 540,
        "wires": [
            [
                "a537d7486545c859"
            ]
        ]
    },
    {
        "id": "a537d7486545c859",
        "type": "mysql",
        "z": "46af9c65977c5ac5",
        "mydb": "",
        "name": "vehicles table",
        "x": 1060,
        "y": 540,
        "wires": [
            [
                "5cce97c399e78739",
                "a6704a7f7f835386",
                "29edb916b86dfc8f",
                "b623500f42232868"
            ]
        ]
    },
    {
        "id": "5cce97c399e78739",
        "type": "switch",
        "z": "46af9c65977c5ac5",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            },
            {
                "t": "empty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1290,
        "y": 540,
        "wires": [
            [
                "9a96fa485efd39b8"
            ],
            [
                "fc5daa19e538282e",
                "d16efd8d4b33d498"
            ]
        ]
    },
    {
        "id": "fc5daa19e538282e",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "send failed message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "your key is not registered!",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 600,
        "wires": [
            [
                "de990773afe19696"
            ]
        ]
    },
    {
        "id": "e9ac9898124acf17",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "vehicle_id",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "e274b0bfd4bc3c52",
        "type": "link out",
        "z": "46af9c65977c5ac5",
        "name": "to clear",
        "mode": "link",
        "links": [
            "92f099a14735f5f5",
            "e5a70d58744f2c47"
        ],
        "x": 2240,
        "y": 620,
        "wires": [],
        "l": true
    },
    {
        "id": "92f099a14735f5f5",
        "type": "link in",
        "z": "46af9c65977c5ac5",
        "name": "from clear",
        "links": [
            "e274b0bfd4bc3c52"
        ],
        "x": 440,
        "y": 540,
        "wires": [
            [
                "bbe003c1fcd78cb9"
            ]
        ],
        "l": true
    },
    {
        "id": "77cdf4aae53b687e",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "clear data",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2060,
        "y": 620,
        "wires": [
            [
                "e274b0bfd4bc3c52"
            ]
        ]
    },
    {
        "id": "de990773afe19696",
        "type": "ui_toast",
        "z": "46af9c65977c5ac5",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "className": "",
        "topic": "Error: Key registration",
        "name": "",
        "x": 1830,
        "y": 620,
        "wires": [
            [
                "77cdf4aae53b687e"
            ]
        ]
    },
    {
        "id": "4ca2a42112bffdb6",
        "type": "ui_led",
        "z": "46af9c65977c5ac5",
        "order": 2,
        "group": "3e8a11af575bd99c",
        "width": 1,
        "height": 1,
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 1810,
        "y": 320,
        "wires": []
    },
    {
        "id": "fe23ebf967cff990",
        "type": "switch",
        "z": "46af9c65977c5ac5",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            },
            {
                "t": "empty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1290,
        "y": 340,
        "wires": [
            [
                "3a9ae8ae55fcce89"
            ],
            [
                "d7f93e6b37c4ee98",
                "2ea4e2d383f2238c"
            ]
        ]
    },
    {
        "id": "2ea4e2d383f2238c",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1550,
        "y": 360,
        "wires": [
            [
                "1f3eda8f7371f00b",
                "4ca2a42112bffdb6"
            ]
        ]
    },
    {
        "id": "9a96fa485efd39b8",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "true",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1550,
        "y": 520,
        "wires": [
            [
                "694e47fc42fc8997",
                "c53138eccc724624"
            ]
        ]
    },
    {
        "id": "d16efd8d4b33d498",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1550,
        "y": 560,
        "wires": [
            [
                "c53138eccc724624",
                "694e47fc42fc8997"
            ]
        ]
    },
    {
        "id": "3a9ae8ae55fcce89",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "true",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1550,
        "y": 320,
        "wires": [
            [
                "1f3eda8f7371f00b",
                "4ca2a42112bffdb6"
            ]
        ]
    },
    {
        "id": "694e47fc42fc8997",
        "type": "ui_led",
        "z": "46af9c65977c5ac5",
        "order": 4,
        "group": "3e8a11af575bd99c",
        "width": 1,
        "height": 1,
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 1810,
        "y": 520,
        "wires": []
    },
    {
        "id": "6d14e8c737e7c1ce",
        "type": "ui_led",
        "z": "46af9c65977c5ac5",
        "order": 8,
        "group": "3e8a11af575bd99c",
        "width": 1,
        "height": 1,
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 790,
        "y": 840,
        "wires": []
    },
    {
        "id": "8186eb19ca030d7e",
        "type": "link out",
        "z": "46af9c65977c5ac5",
        "name": "to cancel",
        "mode": "link",
        "links": [
            "24ae3ed3914b347c",
            "26211b4b5a490a39",
            "b2e0cd2940c5dc5e",
            "4314a96a43f481f7"
        ],
        "x": 1040,
        "y": 940,
        "wires": [],
        "l": true
    },
    {
        "id": "24ae3ed3914b347c",
        "type": "link in",
        "z": "46af9c65977c5ac5",
        "name": "from cancel",
        "links": [
            "8186eb19ca030d7e",
            "09da7c5036966a68"
        ],
        "x": 1830,
        "y": 660,
        "wires": [
            [
                "77cdf4aae53b687e"
            ]
        ],
        "l": true
    },
    {
        "id": "26211b4b5a490a39",
        "type": "link in",
        "z": "46af9c65977c5ac5",
        "name": "from cancel",
        "links": [
            "8186eb19ca030d7e",
            "09da7c5036966a68"
        ],
        "x": 1310,
        "y": 380,
        "wires": [
            [
                "2ea4e2d383f2238c"
            ]
        ],
        "l": true
    },
    {
        "id": "b2e0cd2940c5dc5e",
        "type": "link in",
        "z": "46af9c65977c5ac5",
        "name": "from cancel",
        "links": [
            "8186eb19ca030d7e",
            "09da7c5036966a68"
        ],
        "x": 1310,
        "y": 580,
        "wires": [
            [
                "d16efd8d4b33d498"
            ]
        ],
        "l": true
    },
    {
        "id": "4314a96a43f481f7",
        "type": "link in",
        "z": "46af9c65977c5ac5",
        "name": "from cancel",
        "links": [
            "8186eb19ca030d7e",
            "09da7c5036966a68"
        ],
        "x": 1830,
        "y": 460,
        "wires": [
            [
                "0e2641ba749541a6"
            ]
        ],
        "l": true
    },
    {
        "id": "c53138eccc724624",
        "type": "modbus-write",
        "z": "46af9c65977c5ac5",
        "name": "M1",
        "showStatusActivities": true,
        "showErrors": true,
        "unitid": "1",
        "dataType": "Coil",
        "adr": "1",
        "quantity": "1",
        "server": "3840d01c73196be6",
        "emptyMsgOnFail": true,
        "keepMsgProperties": true,
        "x": 1810,
        "y": 560,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "1f3eda8f7371f00b",
        "type": "modbus-write",
        "z": "46af9c65977c5ac5",
        "name": "M0",
        "showStatusActivities": true,
        "showErrors": true,
        "unitid": "1",
        "dataType": "Coil",
        "adr": "0",
        "quantity": "1",
        "server": "3840d01c73196be6",
        "emptyMsgOnFail": true,
        "keepMsgProperties": true,
        "x": 1810,
        "y": 360,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "249743a65f21067b",
        "type": "modbus-write",
        "z": "46af9c65977c5ac5",
        "name": "M2",
        "showStatusActivities": true,
        "showErrors": true,
        "unitid": "1",
        "dataType": "Coil",
        "adr": "2",
        "quantity": "1",
        "server": "3840d01c73196be6",
        "emptyMsgOnFail": true,
        "keepMsgProperties": true,
        "x": 1550,
        "y": 760,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "cf1eeb12eb457e0f",
        "type": "ui_template",
        "z": "46af9c65977c5ac5",
        "group": "3e8a11af575bd99c",
        "name": "Cancel",
        "order": 5,
        "width": 5,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: '10000'})\"> \n    Cancel<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 800,
        "y": 880,
        "wires": [
            [
                "8186eb19ca030d7e"
            ]
        ]
    },
    {
        "id": "f4cc722fb9fd288d",
        "type": "modbus-read",
        "z": "46af9c65977c5ac5",
        "name": "M4",
        "topic": "",
        "showStatusActivities": true,
        "logIOActivities": false,
        "showErrors": true,
        "unitid": "1",
        "dataType": "Coil",
        "adr": "10",
        "quantity": "2",
        "rate": "1",
        "rateUnit": "s",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "3840d01c73196be6",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": true,
        "x": 450,
        "y": 820,
        "wires": [
            [],
            [
                "4e74a876466bce6e",
                "745c28309861edcf",
                "b467d1f4abd78f32",
                "bcd6ee94d49b2a55"
            ]
        ]
    },
    {
        "id": "4e74a876466bce6e",
        "type": "function",
        "z": "46af9c65977c5ac5",
        "name": "V1",
        "func": "//msg.payload = msg.payload.data[0];\n//msg.payload = msg.payload.data[1];\n//msg.payload = msg.payload.data[2];\n\nvar msg1 = {payload:msg.payload.data[1]};\n\nreturn [msg1];",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 840,
        "wires": [
            [
                "6d14e8c737e7c1ce"
            ]
        ]
    },
    {
        "id": "465fa913e261228e",
        "type": "ui_template",
        "z": "46af9c65977c5ac5",
        "group": "3e8a11af575bd99c",
        "name": "Stop",
        "order": 7,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: 'Stop'})\"> \n    Stop<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 790,
        "y": 800,
        "wires": [
            [
                "f517535e10043b4c",
                "64927d255b9c1656",
                "8186eb19ca030d7e",
                "0c77e41ad8167ff2"
            ]
        ]
    },
    {
        "id": "cca9fcf4a70ab467",
        "type": "ui_template",
        "z": "46af9c65977c5ac5",
        "group": "3e8a11af575bd99c",
        "name": "Start",
        "order": 6,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: 'Start'})\"> \n    Start<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 790,
        "y": 760,
        "wires": [
            [
                "f517535e10043b4c"
            ]
        ]
    },
    {
        "id": "8f14ac3521bf4f20",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "true led",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 760,
        "wires": [
            [
                "249743a65f21067b"
            ]
        ]
    },
    {
        "id": "a07e742fd5cf2453",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "false led",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 800,
        "wires": [
            [
                "249743a65f21067b"
            ]
        ]
    },
    {
        "id": "f517535e10043b4c",
        "type": "switch",
        "z": "46af9c65977c5ac5",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Start",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Stop",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1030,
        "y": 780,
        "wires": [
            [
                "8f14ac3521bf4f20"
            ],
            [
                "a07e742fd5cf2453"
            ]
        ]
    },
    {
        "id": "745c28309861edcf",
        "type": "function",
        "z": "46af9c65977c5ac5",
        "name": "if else",
        "func": "if (msg.payload.data[0] == true)\n   {\n     msg.enabled = true;\n   }\n\nelse \n   {\n     msg.enabled = false;\n   }\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 760,
        "wires": [
            [
                "cca9fcf4a70ab467"
            ]
        ]
    },
    {
        "id": "b467d1f4abd78f32",
        "type": "function",
        "z": "46af9c65977c5ac5",
        "name": "if else",
        "func": "if (msg.payload.data[1] == true)\n   {\n     msg.enabled = true;\n   }\n\nelse \n   {\n     msg.enabled = false;\n   }\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 800,
        "wires": [
            [
                "465fa913e261228e"
            ]
        ]
    },
    {
        "id": "bcd6ee94d49b2a55",
        "type": "function",
        "z": "46af9c65977c5ac5",
        "name": "if else",
        "func": "if (msg.payload.data[1] == true)\n   {\n     msg.enabled = false;\n   }\n\nelse \n   {\n     msg.enabled = true;\n   }\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 880,
        "wires": [
            [
                "cf1eeb12eb457e0f",
                "acfdb16d1ca660e0"
            ]
        ]
    },
    {
        "id": "caa70f75852766a3",
        "type": "function",
        "z": "46af9c65977c5ac5",
        "name": "convert",
        "func": "msg.payload = (msg.payload.data[1] << 16) + msg.payload.data[0];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 460,
        "wires": [
            [
                "7f8e6e93d61cd48c"
            ]
        ]
    },
    {
        "id": "a58d447b2386fdce",
        "type": "modbus-read",
        "z": "46af9c65977c5ac5",
        "name": "MF50",
        "topic": "",
        "showStatusActivities": true,
        "logIOActivities": false,
        "showErrors": true,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "50",
        "quantity": "2",
        "rate": "100",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "3840d01c73196be6",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": true,
        "x": 450,
        "y": 460,
        "wires": [
            [],
            [
                "caa70f75852766a3"
            ]
        ]
    },
    {
        "id": "7f8e6e93d61cd48c",
        "type": "toFloat",
        "z": "46af9c65977c5ac5",
        "name": "",
        "toFixed": "2",
        "x": 790,
        "y": 460,
        "wires": [
            [
                "d5881bd159904eac",
                "a25d4a5ee4440199"
            ]
        ]
    },
    {
        "id": "64927d255b9c1656",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "true led",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 820,
        "wires": [
            [
                "c49e512609cdc9c5",
                "45797af99b74ec00"
            ]
        ]
    },
    {
        "id": "c3a4b5efb927dd0a",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "false led",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 860,
        "wires": [
            [
                "c49e512609cdc9c5"
            ]
        ]
    },
    {
        "id": "45797af99b74ec00",
        "type": "delay",
        "z": "46af9c65977c5ac5",
        "name": "",
        "pauseType": "delay",
        "timeout": "210",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1050,
        "y": 860,
        "wires": [
            [
                "c3a4b5efb927dd0a"
            ]
        ]
    },
    {
        "id": "c49e512609cdc9c5",
        "type": "modbus-write",
        "z": "46af9c65977c5ac5",
        "name": "M3",
        "showStatusActivities": true,
        "showErrors": true,
        "unitid": "1",
        "dataType": "Coil",
        "adr": "3",
        "quantity": "1",
        "server": "3840d01c73196be6",
        "emptyMsgOnFail": true,
        "keepMsgProperties": true,
        "x": 1550,
        "y": 820,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "fe1385c90be80fca",
        "type": "ui_text_input",
        "z": "46af9c65977c5ac5",
        "name": "k_factor",
        "label": "K-Factor",
        "tooltip": "",
        "group": "463f6c3869ef099d",
        "order": 1,
        "width": 4,
        "height": 1,
        "passthru": false,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 620,
        "y": 620,
        "wires": [
            [
                "0779442fc41320bf"
            ]
        ]
    },
    {
        "id": "0779442fc41320bf",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "k_factor",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "2da3d17cf5bc2696",
        "type": "ui_template",
        "z": "46af9c65977c5ac5",
        "group": "463f6c3869ef099d",
        "name": "Save",
        "order": 2,
        "width": 4,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: 'Add'})\"> \n    Save Config<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 610,
        "y": 1000,
        "wires": [
            [
                "f8857cb113615dea",
                "b55bbbb8d8db3eae",
                "d51ec557654c25e7"
            ]
        ]
    },
    {
        "id": "f8857cb113615dea",
        "type": "function",
        "z": "46af9c65977c5ac5",
        "name": "collecting data",
        "func": "\nmsg = {\n    k_factor   : flow.get(\"k_factor\"),\n    //driver_desc : flow.get(\"driver_desc\"),\n    //driver_name : flow.get(\"driver_name\"),\n}\n//msg.payload=\"work order number \" \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 1000,
        "wires": [
            [
                "829dfb97a84f2064"
            ]
        ]
    },
    {
        "id": "829dfb97a84f2064",
        "type": "function",
        "z": "46af9c65977c5ac5",
        "name": "write float data",
        "func": "msg.payload = msg.k_factor;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 1000,
        "wires": [
            [
                "a26dedbf05c97abb"
            ]
        ]
    },
    {
        "id": "0404976decc8614e",
        "type": "modbus-write",
        "z": "46af9c65977c5ac5",
        "name": "MF44",
        "showStatusActivities": true,
        "showErrors": true,
        "unitid": "1",
        "dataType": "MHoldingRegisters",
        "adr": "44",
        "quantity": "2",
        "server": "3840d01c73196be6",
        "emptyMsgOnFail": true,
        "keepMsgProperties": true,
        "x": 1810,
        "y": 1000,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "a26dedbf05c97abb",
        "type": "buffer-maker",
        "z": "46af9c65977c5ac5",
        "name": "",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "name": "item1",
                "type": "floatle",
                "length": 1,
                "dataType": "msg",
                "data": "payload"
            }
        ],
        "swap1": "swap16",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "x": 1310,
        "y": 1000,
        "wires": [
            [
                "6a7b463a9e23a665",
                "e4203135fad3132b"
            ]
        ]
    },
    {
        "id": "6a7b463a9e23a665",
        "type": "buffer-parser",
        "z": "46af9c65977c5ac5",
        "name": "",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "uint16be",
                "name": "item1",
                "offset": 0,
                "length": 2,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "value",
        "resultTypeType": "return",
        "multipleResult": true,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 1570,
        "y": 1000,
        "wires": [
            [
                "0404976decc8614e"
            ]
        ]
    },
    {
        "id": "d9cd32d47bef9901",
        "type": "ui_toast",
        "z": "46af9c65977c5ac5",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "className": "",
        "topic": "Success: K-Factor",
        "name": "",
        "x": 1830,
        "y": 960,
        "wires": [
            [
                "6e8235edd11ba556"
            ]
        ]
    },
    {
        "id": "e4203135fad3132b",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "send sucess message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "k-factor settings changed successfully!",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1600,
        "y": 960,
        "wires": [
            [
                "d9cd32d47bef9901"
            ]
        ]
    },
    {
        "id": "b55bbbb8d8db3eae",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "enabled false",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 1040,
        "wires": [
            [
                "0457e2d2c21519b1"
            ]
        ]
    },
    {
        "id": "6e8235edd11ba556",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "enabled true",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2070,
        "y": 960,
        "wires": [
            [
                "874be3aef470da3b"
            ]
        ]
    },
    {
        "id": "763471a30ae57d8f",
        "type": "link in",
        "z": "46af9c65977c5ac5",
        "name": "from save",
        "links": [
            "0457e2d2c21519b1",
            "874be3aef470da3b",
            "acfdb16d1ca660e0"
        ],
        "x": 440,
        "y": 1000,
        "wires": [
            [
                "2da3d17cf5bc2696"
            ]
        ],
        "l": true
    },
    {
        "id": "0457e2d2c21519b1",
        "type": "link out",
        "z": "46af9c65977c5ac5",
        "name": "to save",
        "mode": "link",
        "links": [
            "763471a30ae57d8f"
        ],
        "x": 1040,
        "y": 1040,
        "wires": [],
        "l": true
    },
    {
        "id": "874be3aef470da3b",
        "type": "link out",
        "z": "46af9c65977c5ac5",
        "name": "to save",
        "mode": "link",
        "links": [
            "763471a30ae57d8f"
        ],
        "x": 2260,
        "y": 960,
        "wires": [],
        "l": true
    },
    {
        "id": "acfdb16d1ca660e0",
        "type": "link out",
        "z": "46af9c65977c5ac5",
        "name": "to save",
        "mode": "link",
        "links": [
            "763471a30ae57d8f"
        ],
        "x": 800,
        "y": 920,
        "wires": [],
        "l": true
    },
    {
        "id": "d51ec557654c25e7",
        "type": "link out",
        "z": "46af9c65977c5ac5",
        "name": "to transactions",
        "mode": "link",
        "links": [],
        "x": 820,
        "y": 1080,
        "wires": [],
        "l": true
    },
    {
        "id": "12ab270e1db003a1",
        "type": "function",
        "z": "46af9c65977c5ac5",
        "name": "collecting data",
        "func": "\nmsg = {\n    trans_volume: flow.get(\"trans_volume\"),\n    driver_id: flow.get(\"driver_id\"),\n    driver_desc: flow.get(\"driver_desc\"),\n    driver_name: flow.get(\"driver_name\"),\n    vehicle_id   : flow.get(\"vehicle_id\"),\n    vehicle_desc : flow.get(\"vehicle_desc\"),\n    vehicle_name : flow.get(\"vehicle_name\"),\n    vehicle_number: flow.get(\"vehicle_number\"),\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1320,
        "y": 900,
        "wires": [
            [
                "22f0f7bea1ab19c0"
            ]
        ]
    },
    {
        "id": "22f0f7bea1ab19c0",
        "type": "function",
        "z": "46af9c65977c5ac5",
        "name": "insert statement",
        "func": "msg.topic = \"INSERT INTO transactions (trans_volume, driver_id, driver_desc, driver_name, vehicle_id, vehicle_desc, vehicle_name, vehicle_number) \" + \n    \"VALUES ('\" + msg.trans_volume + \"', '\" + msg.driver_id + \"', '\" + msg.driver_desc + \"', '\" + msg.driver_name + \"', '\" + msg.vehicle_id + \"', '\" + msg.vehicle_desc + \"', '\" + msg.vehicle_name + \"', '\" + msg.vehicle_number +\"');\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1580,
        "y": 900,
        "wires": [
            [
                "1b9b04a432a38d71"
            ]
        ]
    },
    {
        "id": "1b9b04a432a38d71",
        "type": "mysql",
        "z": "46af9c65977c5ac5",
        "mydb": "",
        "name": "transactions table",
        "x": 1850,
        "y": 900,
        "wires": [
            [
                "9c2d7645622d67ce"
            ]
        ]
    },
    {
        "id": "099146f7ed2dd8ed",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "driver_name",
                "pt": "flow",
                "to": "payload[0].driver_name",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "580534b12f911c41",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "driver_desc",
                "pt": "flow",
                "to": "payload[0].driver_desc",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1330,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "a6704a7f7f835386",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "vehicle_desc",
                "pt": "flow",
                "to": "payload[0].vehicle_desc",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "b623500f42232868",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "vehicle_number",
                "pt": "flow",
                "to": "payload[0].vehicle_number",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "29edb916b86dfc8f",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "vehicle_name",
                "pt": "flow",
                "to": "payload[0].vehicle_name",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1340,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "a25d4a5ee4440199",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "trans_volume",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1080,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "9c2d7645622d67ce",
        "type": "change",
        "z": "46af9c65977c5ac5",
        "name": "show data",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "SELECT * FROM transactions ORDER BY trans_id DESC;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2130,
        "y": 900,
        "wires": [
            [
                "a9b0efcf383a4487"
            ]
        ]
    },
    {
        "id": "a9b0efcf383a4487",
        "type": "link out",
        "z": "46af9c65977c5ac5",
        "name": "to save transactions",
        "mode": "link",
        "links": [
            "9b2cdee0804dc353"
        ],
        "x": 2360,
        "y": 900,
        "wires": [],
        "l": true
    },
    {
        "id": "0c77e41ad8167ff2",
        "type": "delay",
        "z": "46af9c65977c5ac5",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1040,
        "y": 900,
        "wires": [
            [
                "12ab270e1db003a1"
            ]
        ]
    },
    {
        "id": "9b2cdee0804dc353",
        "type": "link in",
        "z": "976a58c241e6986b",
        "name": "from save transactions",
        "links": [
            "a9b0efcf383a4487"
        ],
        "x": 380,
        "y": 300,
        "wires": [
            [
                "c72aa0704a2c80ac",
                "720d1967b337bd7c"
            ]
        ],
        "l": true
    },
    {
        "id": "a18b23795538c520",
        "type": "ui_table",
        "z": "976a58c241e6986b",
        "group": "45c2b0fada35658c",
        "name": "display reports",
        "order": 1,
        "width": 20,
        "height": 8,
        "columns": [
            {
                "field": "trans_date",
                "title": "Date",
                "width": "8%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "trans_time",
                "title": "Time",
                "width": "8%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "driver_id",
                "title": "Driver ID",
                "width": "9%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "driver_name",
                "title": "Driver Name",
                "width": "12%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "driver_desc",
                "title": "License",
                "width": "8%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "vehicle_id",
                "title": "Vehicle ID",
                "width": "9%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "vehicle_desc",
                "title": "Vehicle Desc",
                "width": "16%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "vehicle_name",
                "title": "Make",
                "width": "8%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "vehicle_number",
                "title": "Registration",
                "width": "13%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "trans_volume",
                "title": "Volume",
                "width": "8%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 0,
        "cts": false,
        "x": 840,
        "y": 240,
        "wires": []
    },
    {
        "id": "c72aa0704a2c80ac",
        "type": "mysql",
        "z": "976a58c241e6986b",
        "mydb": "",
        "name": "reports table",
        "x": 610,
        "y": 240,
        "wires": [
            [
                "a18b23795538c520"
            ]
        ]
    },
    {
        "id": "585f29381923085c",
        "type": "inject",
        "z": "976a58c241e6986b",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "SELECT * FROM transactions WHERE trans_flag=0;",
        "x": 650,
        "y": 340,
        "wires": [
            [
                "039e78eb2bf55074"
            ]
        ]
    },
    {
        "id": "039e78eb2bf55074",
        "type": "mysql",
        "z": "976a58c241e6986b",
        "mydb": "",
        "name": "",
        "x": 830,
        "y": 340,
        "wires": [
            [
                "fea049f6a4b30832",
                "23892295c4c87e88"
            ]
        ]
    },
    {
        "id": "fea049f6a4b30832",
        "type": "switch",
        "z": "976a58c241e6986b",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "empty"
            },
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1010,
        "y": 340,
        "wires": [
            [],
            [
                "dca4f6574ca6e84d",
                "ec8567bda4dae5d1",
                "41c452fa0d92ab01"
            ]
        ]
    },
    {
        "id": "dca4f6574ca6e84d",
        "type": "function",
        "z": "976a58c241e6986b",
        "name": "insert statement",
        "func": "msg.topic = \"INSERT INTO transactions (trans_date, trans_time, trans_volume, driver_id, driver_desc, driver_name, vehicle_id, vehicle_desc, vehicle_name, vehicle_number, trans_flag) \" +\n    \"VALUES ('\" + msg.payload[0].trans_date + \"', '\" + msg.payload[0].trans_time + \"', '\" + msg.payload[0].trans_volume + \"', '\" + msg.payload[0].driver_id + \"', '\" + msg.payload[0].driver_desc + \"', '\" + msg.payload[0].driver_name + \"', '\" + msg.payload[0].vehicle_id + \"', '\" + msg.payload[0].vehicle_desc + \"', '\" + msg.payload[0].vehicle_name + \"', '\" + msg.payload[0].vehicle_number + \"', '1' );\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1200,
        "y": 340,
        "wires": [
            [
                "92f0aa1be61f1d58"
            ]
        ]
    },
    {
        "id": "92f0aa1be61f1d58",
        "type": "mysql",
        "z": "976a58c241e6986b",
        "mydb": "347578936cd017ea",
        "name": "",
        "x": 1410,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "cda2173918346337",
        "type": "mysql",
        "z": "976a58c241e6986b",
        "mydb": "",
        "name": "",
        "x": 1470,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "ec8567bda4dae5d1",
        "type": "function",
        "z": "976a58c241e6986b",
        "name": "set statement",
        "func": "msg.topic = \"UPDATE transactions SET trans_flag = 1 WHERE id = '\" + msg.payload[0].id + \"'\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1200,
        "y": 400,
        "wires": [
            [
                "23f977f587e07aa7"
            ]
        ]
    },
    {
        "id": "23f977f587e07aa7",
        "type": "delay",
        "z": "976a58c241e6986b",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1355,
        "y": 400,
        "wires": [
            [
                "cda2173918346337"
            ]
        ],
        "l": false
    },
    {
        "id": "9fbe4b8dce9baff0",
        "type": "change",
        "z": "976a58c241e6986b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "SELECT * FROM transactions WHERE trans_flag=0;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 440,
        "wires": [
            [
                "1176b6b27134218c"
            ]
        ]
    },
    {
        "id": "41c452fa0d92ab01",
        "type": "delay",
        "z": "976a58c241e6986b",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1135,
        "y": 440,
        "wires": [
            [
                "9fbe4b8dce9baff0"
            ]
        ],
        "l": false
    },
    {
        "id": "720d1967b337bd7c",
        "type": "change",
        "z": "976a58c241e6986b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "SELECT * FROM transactions WHERE trans_flag=0;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 300,
        "wires": [
            [
                "039e78eb2bf55074"
            ]
        ]
    },
    {
        "id": "75e86c2c96d7441a",
        "type": "inject",
        "z": "976a58c241e6986b",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "SELECT * FROM transactions;",
        "x": 350,
        "y": 240,
        "wires": [
            [
                "c72aa0704a2c80ac"
            ]
        ]
    },
    {
        "id": "1176b6b27134218c",
        "type": "link out",
        "z": "976a58c241e6986b",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "544defeda2705e19"
        ],
        "x": 1385,
        "y": 440,
        "wires": []
    },
    {
        "id": "544defeda2705e19",
        "type": "link in",
        "z": "976a58c241e6986b",
        "name": "link in 1",
        "links": [
            "1176b6b27134218c"
        ],
        "x": 685,
        "y": 380,
        "wires": [
            [
                "039e78eb2bf55074"
            ]
        ]
    },
    {
        "id": "23892295c4c87e88",
        "type": "debug",
        "z": "976a58c241e6986b",
        "name": "debug 10",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1000,
        "y": 420,
        "wires": []
    },
    {
        "id": "5ebef75bbb231b31",
        "type": "ui_table",
        "z": "4b24a0decd667fc2",
        "group": "e2998f94abe8a2f6",
        "name": "display drivers",
        "order": 4,
        "width": 12,
        "height": 6,
        "columns": [
            {
                "field": "driver_id",
                "title": "Key / Code",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "driver_name",
                "title": "Driver Name",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "driver_desc",
                "title": "License Class",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 0,
        "cts": false,
        "x": 2120,
        "y": 620,
        "wires": []
    },
    {
        "id": "dc8de88e831e2324",
        "type": "mysql",
        "z": "4b24a0decd667fc2",
        "mydb": "",
        "name": "drivers table",
        "x": 1850,
        "y": 620,
        "wires": [
            [
                "5ebef75bbb231b31"
            ]
        ]
    },
    {
        "id": "12972bf0837453b9",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "show data",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "SELECT * FROM drivers;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1610,
        "y": 620,
        "wires": [
            [
                "dc8de88e831e2324"
            ]
        ]
    },
    {
        "id": "ad7981c7e20ac3e2",
        "type": "delay",
        "z": "4b24a0decd667fc2",
        "name": "",
        "pauseType": "delay",
        "timeout": "210",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1390,
        "y": 620,
        "wires": [
            [
                "12972bf0837453b9",
                "2c81d0b3085fc13f"
            ]
        ]
    },
    {
        "id": "cc513368cdc85f24",
        "type": "catch",
        "z": "4b24a0decd667fc2",
        "name": "catch",
        "scope": null,
        "uncaught": true,
        "x": 1370,
        "y": 800,
        "wires": [
            [
                "b1cad2fa10e005b0",
                "c4b376ccbd53349b"
            ]
        ]
    },
    {
        "id": "b1cad2fa10e005b0",
        "type": "debug",
        "z": "4b24a0decd667fc2",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "error",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1600,
        "y": 840,
        "wires": []
    },
    {
        "id": "a3a88dd522ee8de2",
        "type": "ui_toast",
        "z": "4b24a0decd667fc2",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "className": "",
        "topic": "Error: Contact administrator",
        "name": "",
        "x": 1850,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "c4b376ccbd53349b",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "your key has been registered!",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1620,
        "y": 800,
        "wires": [
            [
                "a3a88dd522ee8de2"
            ]
        ]
    },
    {
        "id": "6b09752c2a3cd747",
        "type": "function",
        "z": "4b24a0decd667fc2",
        "name": "update statement",
        "func": "msg.topic = \"UPDATE drivers SET driver_desc = '\" + msg.new_driver_desc + \"', driver_name = '\" + msg.new_driver_name + \"' WHERE driver_id = '\" + msg.new_driver_id + \"'\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 720,
        "wires": [
            [
                "c5b8176962a880ae"
            ]
        ]
    },
    {
        "id": "0356917a53b0d65f",
        "type": "mysql",
        "z": "4b24a0decd667fc2",
        "mydb": "",
        "name": "drivers table",
        "x": 1390,
        "y": 280,
        "wires": [
            [
                "3a7625f890204e24"
            ]
        ]
    },
    {
        "id": "3a7625f890204e24",
        "type": "switch",
        "z": "4b24a0decd667fc2",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1590,
        "y": 280,
        "wires": [
            [
                "ccb968cd60950b44"
            ]
        ]
    },
    {
        "id": "72447c48a79592be",
        "type": "function",
        "z": "4b24a0decd667fc2",
        "name": "check drivers",
        "func": "msg.topic = \"SELECT * FROM drivers WHERE driver_id='\" + msg.payload + \"';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1110,
        "y": 280,
        "wires": [
            [
                "0356917a53b0d65f"
            ]
        ]
    },
    {
        "id": "4875daa5a43fa9eb",
        "type": "ui_text_input",
        "z": "4b24a0decd667fc2",
        "name": "driver_id",
        "label": "Key / Code *",
        "tooltip": "",
        "group": "4e51f179f34f89ef",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 860,
        "y": 320,
        "wires": [
            [
                "72447c48a79592be",
                "072b39654fd7fbbf",
                "f715e19a7d6f020f"
            ]
        ]
    },
    {
        "id": "4ff326afbed0db82",
        "type": "ui_toast",
        "z": "4b24a0decd667fc2",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "className": "",
        "topic": "Error: Duplicate entry for key",
        "name": "",
        "x": 2110,
        "y": 240,
        "wires": [
            [
                "fdbd8ad9db180eb4"
            ]
        ]
    },
    {
        "id": "8ed3f9c48c59c6b9",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "clear data",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 360,
        "wires": [
            [
                "4875daa5a43fa9eb",
                "cbfaef47ec5a5c25",
                "e4e01f8bc642bea5",
                "3c43a0c31d36ddc8"
            ]
        ]
    },
    {
        "id": "072b39654fd7fbbf",
        "type": "function",
        "z": "4b24a0decd667fc2",
        "name": "check vehicles",
        "func": "msg.topic = \"SELECT * FROM vehicles WHERE vehicle_id='\" + msg.payload + \"';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 220,
        "wires": [
            [
                "dbe9351024ad8479"
            ]
        ]
    },
    {
        "id": "dbe9351024ad8479",
        "type": "mysql",
        "z": "4b24a0decd667fc2",
        "mydb": "",
        "name": "vehicle table",
        "x": 1390,
        "y": 220,
        "wires": [
            [
                "9c9f3aa1ce8a49c8"
            ]
        ]
    },
    {
        "id": "9c9f3aa1ce8a49c8",
        "type": "switch",
        "z": "4b24a0decd667fc2",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1590,
        "y": 220,
        "wires": [
            [
                "35639d40728e873a"
            ]
        ]
    },
    {
        "id": "35639d40728e873a",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "send failed message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "your key has been registered on vehicle!",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1880,
        "y": 220,
        "wires": [
            [
                "4ff326afbed0db82"
            ]
        ]
    },
    {
        "id": "ccb968cd60950b44",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "send failed message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "your key has been registered on driver!",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1880,
        "y": 280,
        "wires": [
            [
                "4ff326afbed0db82"
            ]
        ]
    },
    {
        "id": "f715e19a7d6f020f",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "driver_id",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 320,
        "wires": [
            [
                "e3c750954295e5a6"
            ]
        ]
    },
    {
        "id": "cbfaef47ec5a5c25",
        "type": "ui_text_input",
        "z": "4b24a0decd667fc2",
        "name": "driver_name",
        "label": "Driver Name",
        "tooltip": "",
        "group": "4e51f179f34f89ef",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 870,
        "y": 400,
        "wires": [
            [
                "9a82b37e4cf2d6e8"
            ]
        ]
    },
    {
        "id": "e4e01f8bc642bea5",
        "type": "ui_text_input",
        "z": "4b24a0decd667fc2",
        "name": "driver_desc",
        "label": "License Class",
        "tooltip": "",
        "group": "4e51f179f34f89ef",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 870,
        "y": 360,
        "wires": [
            [
                "2ea73468fc53fd6b"
            ]
        ]
    },
    {
        "id": "9a82b37e4cf2d6e8",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "driver_name",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "2ea73468fc53fd6b",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "driver_desc",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "fdbd8ad9db180eb4",
        "type": "link out",
        "z": "4b24a0decd667fc2",
        "name": "to clear",
        "mode": "link",
        "links": [
            "1ae179dca3199b12",
            "8a641f6badb7dedb"
        ],
        "x": 2300,
        "y": 240,
        "wires": [],
        "l": true
    },
    {
        "id": "8a641f6badb7dedb",
        "type": "link in",
        "z": "4b24a0decd667fc2",
        "name": "from clear",
        "links": [
            "2c81d0b3085fc13f",
            "fdbd8ad9db180eb4",
            "d11adf21ed84e437"
        ],
        "x": 460,
        "y": 320,
        "wires": [
            [
                "8ed3f9c48c59c6b9"
            ]
        ],
        "l": true
    },
    {
        "id": "203f6c42a931b9eb",
        "type": "function",
        "z": "4b24a0decd667fc2",
        "name": "collecting data",
        "func": "\nmsg = {\n    driver_id   : flow.get(\"driver_id\"),\n    driver_desc : flow.get(\"driver_desc\"),\n    driver_name : flow.get(\"driver_name\"),\n}\n//msg.payload=\"work order number \" \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 620,
        "wires": [
            [
                "d62a5962b55fc05c"
            ]
        ]
    },
    {
        "id": "c5b8176962a880ae",
        "type": "mysql",
        "z": "4b24a0decd667fc2",
        "mydb": "",
        "name": "drivers table",
        "x": 1110,
        "y": 620,
        "wires": [
            [
                "ad7981c7e20ac3e2"
            ]
        ]
    },
    {
        "id": "d62a5962b55fc05c",
        "type": "function",
        "z": "4b24a0decd667fc2",
        "name": "insert statement",
        "func": "msg.topic = \"INSERT INTO drivers (driver_id, driver_desc, driver_name) \" + \n    \"VALUES ('\" + msg.driver_id +\"', '\" + msg.driver_desc +\"', '\" + msg.driver_name +\"');\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 620,
        "wires": [
            [
                "c5b8176962a880ae"
            ]
        ]
    },
    {
        "id": "2c81d0b3085fc13f",
        "type": "link out",
        "z": "4b24a0decd667fc2",
        "name": "to clear",
        "mode": "link",
        "links": [
            "1ae179dca3199b12",
            "8a641f6badb7dedb"
        ],
        "x": 1600,
        "y": 660,
        "wires": [],
        "l": true
    },
    {
        "id": "6cab4afd03cdc5de",
        "type": "function",
        "z": "4b24a0decd667fc2",
        "name": "collecting data",
        "func": "\nmsg = {\n    delete_driver   : flow.get(\"delete_driver\"),\n}\n//msg.payload=\"work order number \" \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 680,
        "wires": [
            [
                "23707b1b8adb58c1"
            ]
        ]
    },
    {
        "id": "3c43a0c31d36ddc8",
        "type": "ui_text_input",
        "z": "4b24a0decd667fc2",
        "name": "delete_driver",
        "label": "Key / Code *",
        "tooltip": "",
        "group": "998518b81f872043",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 870,
        "y": 440,
        "wires": [
            [
                "02f93b61c50e20d7",
                "1e59fcd76b0e889a"
            ]
        ]
    },
    {
        "id": "02f93b61c50e20d7",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "delete_driver",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "23707b1b8adb58c1",
        "type": "function",
        "z": "4b24a0decd667fc2",
        "name": "delete statement",
        "func": "msg.topic = \"DELETE FROM drivers WHERE driver_id='\" + msg.delete_driver + \"';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 680,
        "wires": [
            [
                "c5b8176962a880ae"
            ]
        ]
    },
    {
        "id": "c246d7b170a7995a",
        "type": "ui_template",
        "z": "4b24a0decd667fc2",
        "group": "998518b81f872043",
        "name": "Delete",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: 'Delete'})\"> \n    Delete<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 450,
        "y": 680,
        "wires": [
            [
                "6cab4afd03cdc5de"
            ]
        ]
    },
    {
        "id": "05c3787dc8ee52f9",
        "type": "ui_template",
        "z": "4b24a0decd667fc2",
        "group": "4e51f179f34f89ef",
        "name": "Add",
        "order": 4,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: 'Add'})\"> \n    Add<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 450,
        "y": 620,
        "wires": [
            [
                "203f6c42a931b9eb"
            ]
        ]
    },
    {
        "id": "e848ba6a75b00ab6",
        "type": "ui_template",
        "z": "4b24a0decd667fc2",
        "group": "4e51f179f34f89ef",
        "name": "Cancel",
        "order": 5,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: 'Cancel'})\"> \n    Cancel<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 460,
        "y": 360,
        "wires": [
            [
                "8ed3f9c48c59c6b9"
            ]
        ]
    },
    {
        "id": "e3c750954295e5a6",
        "type": "switch",
        "z": "4b24a0decd667fc2",
        "name": "is text empty?",
        "property": "driver_id",
        "propertyType": "flow",
        "rules": [
            {
                "t": "empty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1400,
        "y": 340,
        "wires": [
            [
                "bfc0025bd4d61932"
            ],
            [
                "2764240ba00f4e9e"
            ]
        ]
    },
    {
        "id": "bfc0025bd4d61932",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "enabled false",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1610,
        "y": 340,
        "wires": [
            [
                "cfe2ccba047b01d0"
            ]
        ]
    },
    {
        "id": "2764240ba00f4e9e",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "enabled true",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1610,
        "y": 380,
        "wires": [
            [
                "cfe2ccba047b01d0"
            ]
        ]
    },
    {
        "id": "cfe2ccba047b01d0",
        "type": "link out",
        "z": "4b24a0decd667fc2",
        "name": "to add",
        "mode": "link",
        "links": [
            "66dbc4f2bc584a4f"
        ],
        "x": 1830,
        "y": 360,
        "wires": [],
        "l": true
    },
    {
        "id": "66dbc4f2bc584a4f",
        "type": "link in",
        "z": "4b24a0decd667fc2",
        "name": "from add",
        "links": [
            "cfe2ccba047b01d0"
        ],
        "x": 280,
        "y": 620,
        "wires": [
            [
                "05c3787dc8ee52f9"
            ]
        ],
        "l": true
    },
    {
        "id": "72171547a99bca2f",
        "type": "ui_template",
        "z": "4b24a0decd667fc2",
        "group": "e2998f94abe8a2f6",
        "name": "Refresh",
        "order": 3,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: ''})\"> \n    Refresh <i class=\"fa fa-refresh\" aria-hidden=\"true\"></i><br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1100,
        "y": 680,
        "wires": [
            [
                "ad7981c7e20ac3e2",
                "1b0ee17426d10b99"
            ]
        ]
    },
    {
        "id": "7f46dca6cbc44ee7",
        "type": "function",
        "z": "4b24a0decd667fc2",
        "name": "search statement",
        "func": "msg.topic = \"SELECT * FROM drivers WHERE driver_id LIKE '%\" + msg.search_data + \"%' OR driver_desc LIKE '%\" + msg.search_data + \"%' OR driver_name LIKE '%\" + msg.search_data + \"%';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1630,
        "y": 540,
        "wires": [
            [
                "dc8de88e831e2324"
            ]
        ]
    },
    {
        "id": "37d22a0be73d785d",
        "type": "ui_text_input",
        "z": "4b24a0decd667fc2",
        "name": "search_data",
        "label": "Type to search ..",
        "tooltip": "",
        "group": "e2998f94abe8a2f6",
        "order": 2,
        "width": 9,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 870,
        "y": 580,
        "wires": [
            [
                "b265bf9a208f714e"
            ]
        ]
    },
    {
        "id": "b265bf9a208f714e",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "search_data",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 580,
        "wires": [
            [
                "69a3bb44f9f2b79b",
                "746734b0559aee08"
            ]
        ]
    },
    {
        "id": "746734b0559aee08",
        "type": "function",
        "z": "4b24a0decd667fc2",
        "name": "collecting data",
        "func": "\nmsg = {\n    search_data   : flow.get(\"search_data\"),\n}\n//msg.payload=\"work order number \" \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1400,
        "y": 540,
        "wires": [
            [
                "7f46dca6cbc44ee7"
            ]
        ]
    },
    {
        "id": "69a3bb44f9f2b79b",
        "type": "switch",
        "z": "4b24a0decd667fc2",
        "name": "is text empty?",
        "property": "driver_id",
        "propertyType": "flow",
        "rules": [
            {
                "t": "empty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1400,
        "y": 580,
        "wires": [
            [
                "12972bf0837453b9"
            ]
        ]
    },
    {
        "id": "5306f52d24015cea",
        "type": "ui_template",
        "z": "4b24a0decd667fc2",
        "group": "e2998f94abe8a2f6",
        "name": "icon",
        "order": 1,
        "width": 1,
        "height": 1,
        "format": "\n<md-button style=\"background-color:#007CBE\"> \n    <i class=\"fa fa-search\" aria-hidden=\"true\"></i><br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 450,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "43c08386ae06b7f5",
        "type": "link in",
        "z": "4b24a0decd667fc2",
        "name": "from search",
        "links": [
            "a41bd6d80aa5891b"
        ],
        "x": 650,
        "y": 580,
        "wires": [
            [
                "37d22a0be73d785d"
            ]
        ],
        "l": true
    },
    {
        "id": "1b0ee17426d10b99",
        "type": "delay",
        "z": "4b24a0decd667fc2",
        "name": "",
        "pauseType": "delay",
        "timeout": "210",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1390,
        "y": 700,
        "wires": [
            [
                "a41bd6d80aa5891b"
            ]
        ]
    },
    {
        "id": "a41bd6d80aa5891b",
        "type": "link out",
        "z": "4b24a0decd667fc2",
        "name": "to search",
        "mode": "link",
        "links": [
            "43c08386ae06b7f5"
        ],
        "x": 1600,
        "y": 700,
        "wires": [],
        "l": true
    },
    {
        "id": "2ff00584398567d2",
        "type": "ui_template",
        "z": "4b24a0decd667fc2",
        "group": "31e0e13b0b941009",
        "name": "Update",
        "order": 4,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: 'Update'})\"> \n    Update<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 460,
        "y": 720,
        "wires": [
            [
                "56f2971494ec5ceb"
            ]
        ]
    },
    {
        "id": "56f2971494ec5ceb",
        "type": "function",
        "z": "4b24a0decd667fc2",
        "name": "collecting data",
        "func": "\nmsg = {\n    new_driver_id: flow.get(\"new_driver_id\"),\n    new_driver_desc: flow.get(\"new_driver_desc\"),\n    new_driver_name: flow.get(\"new_driver_name\"),\n}\n//msg.payload=\"work order number \" \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 720,
        "wires": [
            [
                "6b09752c2a3cd747"
            ]
        ]
    },
    {
        "id": "8abdbca10c96de96",
        "type": "ui_text_input",
        "z": "4b24a0decd667fc2",
        "name": "new_driver_id",
        "label": "Key / Code *",
        "tooltip": "",
        "group": "31e0e13b0b941009",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 880,
        "y": 780,
        "wires": [
            [
                "cffe44663ff96d0f",
                "ecaae7543e9f1944"
            ]
        ]
    },
    {
        "id": "9ed87c8f0b6069e2",
        "type": "ui_text_input",
        "z": "4b24a0decd667fc2",
        "name": "new_driver_desc",
        "label": "License Class",
        "tooltip": "",
        "group": "31e0e13b0b941009",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 890,
        "y": 820,
        "wires": [
            [
                "501150df02bcd3fe"
            ]
        ]
    },
    {
        "id": "4e75f60ecbebe209",
        "type": "ui_text_input",
        "z": "4b24a0decd667fc2",
        "name": "new_driver_name",
        "label": "Driver Name",
        "tooltip": "",
        "group": "31e0e13b0b941009",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 890,
        "y": 860,
        "wires": [
            [
                "4780323e9324faa4"
            ]
        ]
    },
    {
        "id": "cffe44663ff96d0f",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "new_driver_id",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "501150df02bcd3fe",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "new_driver_desc",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "4780323e9324faa4",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "new_driver_name",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "0bd7a0469df93951",
        "type": "switch",
        "z": "4b24a0decd667fc2",
        "name": "is text empty?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "empty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1620,
        "y": 740,
        "wires": [
            [
                "e9e91646a4c043ba"
            ],
            [
                "5dacc58aafb029bd"
            ]
        ]
    },
    {
        "id": "e9e91646a4c043ba",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "enabled false",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1850,
        "y": 720,
        "wires": [
            [
                "0a446d8501d06397"
            ]
        ]
    },
    {
        "id": "5dacc58aafb029bd",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "enabled true",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1850,
        "y": 760,
        "wires": [
            [
                "0a446d8501d06397"
            ]
        ]
    },
    {
        "id": "d4af2c06b44c539f",
        "type": "ui_template",
        "z": "4b24a0decd667fc2",
        "group": "31e0e13b0b941009",
        "name": "Cancel",
        "order": 5,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: 'Cancel'})\"> \n    Cancel<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 460,
        "y": 820,
        "wires": [
            [
                "0c00f939630fb938"
            ]
        ]
    },
    {
        "id": "0c00f939630fb938",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "clear data",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 820,
        "wires": [
            [
                "9ed87c8f0b6069e2",
                "8abdbca10c96de96",
                "4e75f60ecbebe209"
            ]
        ]
    },
    {
        "id": "0a446d8501d06397",
        "type": "link out",
        "z": "4b24a0decd667fc2",
        "name": "to update",
        "mode": "link",
        "links": [
            "033cc94b4c52c579"
        ],
        "x": 2100,
        "y": 740,
        "wires": [],
        "l": true
    },
    {
        "id": "033cc94b4c52c579",
        "type": "link in",
        "z": "4b24a0decd667fc2",
        "name": "from update",
        "links": [
            "0a446d8501d06397"
        ],
        "x": 270,
        "y": 720,
        "wires": [
            [
                "2ff00584398567d2"
            ]
        ],
        "l": true
    },
    {
        "id": "1ae179dca3199b12",
        "type": "link in",
        "z": "4b24a0decd667fc2",
        "name": "from clear",
        "links": [
            "2c81d0b3085fc13f",
            "fdbd8ad9db180eb4",
            "d11adf21ed84e437"
        ],
        "x": 460,
        "y": 780,
        "wires": [
            [
                "0c00f939630fb938"
            ]
        ],
        "l": true
    },
    {
        "id": "ecaae7543e9f1944",
        "type": "function",
        "z": "4b24a0decd667fc2",
        "name": "check drivers",
        "func": "msg.topic = \"SELECT * FROM drivers WHERE driver_id='\" + msg.payload + \"';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1110,
        "y": 740,
        "wires": [
            [
                "fe9061ed7cade7c4"
            ]
        ]
    },
    {
        "id": "fe9061ed7cade7c4",
        "type": "mysql",
        "z": "4b24a0decd667fc2",
        "mydb": "",
        "name": "drivers table",
        "x": 1390,
        "y": 740,
        "wires": [
            [
                "0bd7a0469df93951"
            ]
        ]
    },
    {
        "id": "1e59fcd76b0e889a",
        "type": "function",
        "z": "4b24a0decd667fc2",
        "name": "check drivers",
        "func": "msg.topic = \"SELECT * FROM drivers WHERE driver_id='\" + msg.payload + \"';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1114,
        "y": 478,
        "wires": [
            [
                "61efd993c48c584a"
            ]
        ]
    },
    {
        "id": "61efd993c48c584a",
        "type": "mysql",
        "z": "4b24a0decd667fc2",
        "mydb": "",
        "name": "drivers table",
        "x": 1390,
        "y": 480,
        "wires": [
            [
                "a6a8069c60e32737"
            ]
        ]
    },
    {
        "id": "a6a8069c60e32737",
        "type": "switch",
        "z": "4b24a0decd667fc2",
        "name": "is text empty?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "empty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1620,
        "y": 480,
        "wires": [
            [
                "29364656fcd22b8d"
            ],
            [
                "3f47b7502081fd0d"
            ]
        ]
    },
    {
        "id": "29364656fcd22b8d",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "enabled false",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1850,
        "y": 460,
        "wires": [
            [
                "afad9c2e57b07168"
            ]
        ]
    },
    {
        "id": "3f47b7502081fd0d",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "enabled true",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1850,
        "y": 500,
        "wires": [
            [
                "afad9c2e57b07168"
            ]
        ]
    },
    {
        "id": "afad9c2e57b07168",
        "type": "link out",
        "z": "4b24a0decd667fc2",
        "name": "to delete",
        "mode": "link",
        "links": [
            "36d303f5fb4e631f",
            "44ae6b3fd5a26d27"
        ],
        "x": 2100,
        "y": 480,
        "wires": [],
        "l": true
    },
    {
        "id": "36d303f5fb4e631f",
        "type": "link in",
        "z": "4b24a0decd667fc2",
        "name": "from delete",
        "links": [
            "afad9c2e57b07168"
        ],
        "x": 280,
        "y": 680,
        "wires": [
            [
                "c246d7b170a7995a"
            ]
        ],
        "l": true
    },
    {
        "id": "fda90bead84ea669",
        "type": "ui_template",
        "z": "4b24a0decd667fc2",
        "d": true,
        "group": "e2998f94abe8a2f6",
        "name": "CSS",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .tabulator {\n        padding-left: 2px;\n        border: 0px solid #BBB;\n        background-color: #111217;\n        font-size: 18px;\n        font-family: \"Times New Roman\", serif;\n    }\n\n    /****/\n\n    /* Header formatieren */\n    .tabulator-col-title {\n        background-color: gold;\n        color: blue;\n        font-family: \"Comic Sans MS\", sans-serif;\n    }\n\n    /****/\n    .tabulator .tabulator-header {\n        border-bottom: 1px solid #BBB;\n    }\n\n    .tabulator-col-content {\n        background-color: #111217;\n        height: 37px\n    }\n\n    .tabulator .tabulator-header .tabulator-col {\n        border-right: 0px solid #aaa;\n        background-color: #111217\n    }\n\n    .tabulator-arrow {\n        visibility: collapse;\n    }\n\n    .tabulator .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title {\n        padding-right: 2px;\n    }\n\n    /* Zellen formatieren*/\n    .tabulator-table .tabulator-row-odd {\n        min-height: 31px;\n        background-color: yellow;\n        color: red;\n    }\n\n    /****/\n    .tabulator-table .tabulator-row-even {\n        min-height: 31px;\n        background-color: red;\n        color: yellow;\n    }\n\n    /****/\n    .tabulator-row .tabulator-cell {\n        border-right: 0px solid #888;\n        padding-top: 4px;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 2090,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "441137ead67cd1e8",
        "type": "ui_template",
        "z": "4b24a0decd667fc2",
        "d": true,
        "group": "e2998f94abe8a2f6",
        "name": "CSS",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n\n.tabulator-table {\n    background: transparent !important;*/\n    font-size: 28px !important;\n}\n.tabulator-row .tabulator-cell{\n    border-right: 1px solid #8880 !important;\n}\n.tabulator-row{\n    font-size: 28px !important;\n    background-color: #713b3b !important;\n}\n.tabulator-row:nth-child(2n){\n    font-size: 28px !important;\n    background-color: #8e000000 !important;\n}\n\n.tabulator-header{\n    border-bottom: 2px solid #dd0000 !important;\n    font-size: 46px !important;\n}\n\n.nr-dashboard-ui_table{\n    background-color: transparent !important;\n    font-size: 36px !important;\n}\n\n</style>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 2090,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "a3f1502fceaaec90",
        "type": "inject",
        "z": "4b24a0decd667fc2",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "SELECT * FROM drivers WHERE driver_flag=0;",
        "x": 750,
        "y": 1040,
        "wires": [
            [
                "b429daca8c24dc1a"
            ]
        ]
    },
    {
        "id": "b429daca8c24dc1a",
        "type": "mysql",
        "z": "4b24a0decd667fc2",
        "mydb": "",
        "name": "",
        "x": 930,
        "y": 1040,
        "wires": [
            [
                "cbcb3bcfc3440a5c"
            ]
        ]
    },
    {
        "id": "cbcb3bcfc3440a5c",
        "type": "switch",
        "z": "4b24a0decd667fc2",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "empty"
            },
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1110,
        "y": 1040,
        "wires": [
            [],
            [
                "4d378468bc8f8686",
                "dc23f6fe3f2102be",
                "73d24246ca4dc6be"
            ]
        ]
    },
    {
        "id": "4d378468bc8f8686",
        "type": "function",
        "z": "4b24a0decd667fc2",
        "name": "insert statement",
        "func": "msg.topic = \"INSERT INTO drivers (driver_id, driver_desc, driver_name, driver_flag) \" +\n    \"VALUES ('\" + msg.payload[0].driver_id + \"', '\" + msg.payload[0].driver_desc + \"', '\" + msg.payload[0].driver_name + \"', '1' );\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 1040,
        "wires": [
            [
                "4688a45678db0f1f"
            ]
        ]
    },
    {
        "id": "4688a45678db0f1f",
        "type": "mysql",
        "z": "4b24a0decd667fc2",
        "mydb": "347578936cd017ea",
        "name": "",
        "x": 1510,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "1fa46778865d059d",
        "type": "mysql",
        "z": "4b24a0decd667fc2",
        "mydb": "",
        "name": "",
        "x": 1570,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "dc23f6fe3f2102be",
        "type": "function",
        "z": "4b24a0decd667fc2",
        "name": "set statement",
        "func": "msg.topic = \"UPDATE drivers SET driver_flag = 1 WHERE id = '\" + msg.payload[0].id + \"'\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 1100,
        "wires": [
            [
                "7f0c415c0f802327"
            ]
        ]
    },
    {
        "id": "7f0c415c0f802327",
        "type": "delay",
        "z": "4b24a0decd667fc2",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1455,
        "y": 1100,
        "wires": [
            [
                "1fa46778865d059d"
            ]
        ],
        "l": false
    },
    {
        "id": "847d400a4abea967",
        "type": "change",
        "z": "4b24a0decd667fc2",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "SELECT * FROM drivers WHERE driver_flag=0;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1140,
        "wires": [
            [
                "8ded31a9dad9618b"
            ]
        ]
    },
    {
        "id": "73d24246ca4dc6be",
        "type": "delay",
        "z": "4b24a0decd667fc2",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1235,
        "y": 1140,
        "wires": [
            [
                "847d400a4abea967"
            ]
        ],
        "l": false
    },
    {
        "id": "8ded31a9dad9618b",
        "type": "link out",
        "z": "4b24a0decd667fc2",
        "name": "link out 3",
        "mode": "link",
        "links": [
            "b301c4d15c8c0aeb"
        ],
        "x": 1485,
        "y": 1140,
        "wires": []
    },
    {
        "id": "b301c4d15c8c0aeb",
        "type": "link in",
        "z": "4b24a0decd667fc2",
        "name": "link in 3",
        "links": [
            "8ded31a9dad9618b"
        ],
        "x": 785,
        "y": 1080,
        "wires": [
            [
                "b429daca8c24dc1a"
            ]
        ]
    },
    {
        "id": "f880e0d5827a0094",
        "type": "ui_table",
        "z": "7d8f3f86659c2746",
        "group": "86ee9c0974c2067f",
        "name": "display vehicles",
        "order": 4,
        "width": 12,
        "height": 7,
        "columns": [
            {
                "field": "vehicle_id",
                "title": "Key",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "vehicle_desc",
                "title": "Description",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "vehicle_name",
                "title": "Make",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "vehicle_number",
                "title": "Registration",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 0,
        "cts": false,
        "x": 2160,
        "y": 660,
        "wires": []
    },
    {
        "id": "2ba4a73f96383bb3",
        "type": "mysql",
        "z": "7d8f3f86659c2746",
        "mydb": "",
        "name": "vehicles table",
        "x": 1900,
        "y": 660,
        "wires": [
            [
                "f880e0d5827a0094"
            ]
        ]
    },
    {
        "id": "b9b7a35d3261cd0f",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "show data",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "SELECT * FROM vehicles;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 660,
        "wires": [
            [
                "2ba4a73f96383bb3"
            ]
        ]
    },
    {
        "id": "1c65e81835ab4219",
        "type": "delay",
        "z": "7d8f3f86659c2746",
        "name": "",
        "pauseType": "delay",
        "timeout": "210",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1430,
        "y": 660,
        "wires": [
            [
                "b9b7a35d3261cd0f",
                "4185281c505752d5"
            ]
        ]
    },
    {
        "id": "a48abdc090102b6b",
        "type": "catch",
        "z": "7d8f3f86659c2746",
        "name": "catch",
        "scope": null,
        "uncaught": true,
        "x": 1410,
        "y": 840,
        "wires": [
            [
                "4b94a6f5df7a755f",
                "9f426ecf7bee56fa"
            ]
        ]
    },
    {
        "id": "4b94a6f5df7a755f",
        "type": "debug",
        "z": "7d8f3f86659c2746",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "error",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1640,
        "y": 880,
        "wires": []
    },
    {
        "id": "deccdfd956206d75",
        "type": "ui_toast",
        "z": "7d8f3f86659c2746",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "className": "",
        "topic": "Error: Contact administrator",
        "name": "",
        "x": 1890,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "9f426ecf7bee56fa",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "your key has been registered!",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1660,
        "y": 840,
        "wires": [
            [
                "deccdfd956206d75"
            ]
        ]
    },
    {
        "id": "4e6e68ed2bd4ec7a",
        "type": "function",
        "z": "7d8f3f86659c2746",
        "name": "update statement",
        "func": "msg.topic = \"UPDATE vehicles SET vehicle_desc = '\" + msg.new_vehicle_desc + \"', vehicle_name = '\" + msg.new_vehicle_name + \"', vehicle_number = '\" + msg.new_vehicle_number + \"' WHERE vehicle_id = '\" + msg.new_vehicle_id + \"'\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 760,
        "wires": [
            [
                "2ef88f37a2f2ced6"
            ]
        ]
    },
    {
        "id": "4d26dd39dfd30d94",
        "type": "mysql",
        "z": "7d8f3f86659c2746",
        "mydb": "",
        "name": "drivers table",
        "x": 1430,
        "y": 280,
        "wires": [
            [
                "442451c458c705bd"
            ]
        ]
    },
    {
        "id": "442451c458c705bd",
        "type": "switch",
        "z": "7d8f3f86659c2746",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1630,
        "y": 280,
        "wires": [
            [
                "e77b8ba6b0f1cc72"
            ]
        ]
    },
    {
        "id": "edece481c3c70529",
        "type": "function",
        "z": "7d8f3f86659c2746",
        "name": "check drivers",
        "func": "msg.topic = \"SELECT * FROM drivers WHERE driver_id='\" + msg.payload + \"';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1130,
        "y": 280,
        "wires": [
            [
                "4d26dd39dfd30d94"
            ]
        ]
    },
    {
        "id": "d8eb89b954e16818",
        "type": "ui_text_input",
        "z": "7d8f3f86659c2746",
        "name": "vehicle_id",
        "label": "Key *",
        "tooltip": "",
        "group": "59a3105b21a4eb5e",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 860,
        "y": 320,
        "wires": [
            [
                "edece481c3c70529",
                "2e531772448aa835",
                "bb5b3d8b09049ec3"
            ]
        ]
    },
    {
        "id": "5e9b466720e681a0",
        "type": "ui_toast",
        "z": "7d8f3f86659c2746",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "className": "",
        "topic": "Error: Duplicate entry for key",
        "name": "",
        "x": 2150,
        "y": 240,
        "wires": [
            [
                "fcbad1153901aece"
            ]
        ]
    },
    {
        "id": "18582958553ec12c",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "clear data",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 360,
        "wires": [
            [
                "d8eb89b954e16818",
                "af5d7608f8687bf2",
                "e43a2aea2a7903a1",
                "487e20bef1e51c9a",
                "6484659f39d218c2"
            ]
        ]
    },
    {
        "id": "2e531772448aa835",
        "type": "function",
        "z": "7d8f3f86659c2746",
        "name": "check vehicles",
        "func": "msg.topic = \"SELECT * FROM vehicles WHERE vehicle_id='\" + msg.payload + \"';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1140,
        "y": 220,
        "wires": [
            [
                "1cc52f523578483e"
            ]
        ]
    },
    {
        "id": "1cc52f523578483e",
        "type": "mysql",
        "z": "7d8f3f86659c2746",
        "mydb": "",
        "name": "vehicle table",
        "x": 1430,
        "y": 220,
        "wires": [
            [
                "c347fd2c64cff32d"
            ]
        ]
    },
    {
        "id": "c347fd2c64cff32d",
        "type": "switch",
        "z": "7d8f3f86659c2746",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1630,
        "y": 220,
        "wires": [
            [
                "6d69684c60f696eb"
            ]
        ]
    },
    {
        "id": "6d69684c60f696eb",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "send failed message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "your key has been registered on vehicle!",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1920,
        "y": 220,
        "wires": [
            [
                "5e9b466720e681a0"
            ]
        ]
    },
    {
        "id": "e77b8ba6b0f1cc72",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "send failed message",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "your key has been registered on driver!",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1920,
        "y": 280,
        "wires": [
            [
                "5e9b466720e681a0"
            ]
        ]
    },
    {
        "id": "bb5b3d8b09049ec3",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "vehicle_id",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 320,
        "wires": [
            [
                "fcef26cd24394731"
            ]
        ]
    },
    {
        "id": "af5d7608f8687bf2",
        "type": "ui_text_input",
        "z": "7d8f3f86659c2746",
        "name": "vehicle_name",
        "label": "Make",
        "tooltip": "",
        "group": "59a3105b21a4eb5e",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 880,
        "y": 400,
        "wires": [
            [
                "4a08c00473f6e751"
            ]
        ]
    },
    {
        "id": "e43a2aea2a7903a1",
        "type": "ui_text_input",
        "z": "7d8f3f86659c2746",
        "name": "vehicle_desc",
        "label": "Description",
        "tooltip": "",
        "group": "59a3105b21a4eb5e",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 870,
        "y": 360,
        "wires": [
            [
                "8b57442745716f07"
            ]
        ]
    },
    {
        "id": "4a08c00473f6e751",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "vehicle_name",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "8b57442745716f07",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "vehicle_desc",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "fcbad1153901aece",
        "type": "link out",
        "z": "7d8f3f86659c2746",
        "name": "to clear",
        "mode": "link",
        "links": [
            "d237f996a072ee5b",
            "8c774f1bb766f321"
        ],
        "x": 2340,
        "y": 240,
        "wires": [],
        "l": true
    },
    {
        "id": "8c774f1bb766f321",
        "type": "link in",
        "z": "7d8f3f86659c2746",
        "name": "from clear",
        "links": [
            "4185281c505752d5",
            "fcbad1153901aece"
        ],
        "x": 460,
        "y": 320,
        "wires": [
            [
                "18582958553ec12c"
            ]
        ],
        "l": true
    },
    {
        "id": "01d76b690147715d",
        "type": "function",
        "z": "7d8f3f86659c2746",
        "name": "collecting data",
        "func": "\nmsg = {\n    vehicle_id   : flow.get(\"vehicle_id\"),\n    vehicle_desc : flow.get(\"vehicle_desc\"),\n    vehicle_name : flow.get(\"vehicle_name\"),\n    vehicle_number: flow.get(\"vehicle_number\"),\n}\n//msg.payload=\"work order number \" \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 660,
        "wires": [
            [
                "b67f07f4a44aca63"
            ]
        ]
    },
    {
        "id": "2ef88f37a2f2ced6",
        "type": "mysql",
        "z": "7d8f3f86659c2746",
        "mydb": "",
        "name": "vehicles table",
        "x": 1140,
        "y": 660,
        "wires": [
            [
                "1c65e81835ab4219"
            ]
        ]
    },
    {
        "id": "b67f07f4a44aca63",
        "type": "function",
        "z": "7d8f3f86659c2746",
        "name": "insert statement",
        "func": "msg.topic = \"INSERT INTO vehicles (vehicle_id, vehicle_desc, vehicle_name, vehicle_number) \" + \n    \"VALUES ('\" + msg.vehicle_id + \"', '\" + msg.vehicle_desc + \"', '\" + msg.vehicle_name + \"', '\" + msg.vehicle_number +\"');\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 660,
        "wires": [
            [
                "2ef88f37a2f2ced6"
            ]
        ]
    },
    {
        "id": "4185281c505752d5",
        "type": "link out",
        "z": "7d8f3f86659c2746",
        "name": "to clear",
        "mode": "link",
        "links": [
            "d237f996a072ee5b",
            "8c774f1bb766f321"
        ],
        "x": 1640,
        "y": 700,
        "wires": [],
        "l": true
    },
    {
        "id": "60ef3ae83e8546a7",
        "type": "function",
        "z": "7d8f3f86659c2746",
        "name": "collecting data",
        "func": "\nmsg = {\n    delete_vehicle   : flow.get(\"delete_vehicle\"),\n}\n//msg.payload=\"work order number \" \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 720,
        "wires": [
            [
                "5f737f0e73150f4e"
            ]
        ]
    },
    {
        "id": "487e20bef1e51c9a",
        "type": "ui_text_input",
        "z": "7d8f3f86659c2746",
        "name": "delete_vehicle",
        "label": "Key *",
        "tooltip": "",
        "group": "f1f6c7ea23073d13",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 880,
        "y": 480,
        "wires": [
            [
                "aa8b172564fbdc57",
                "c16a4bddf611f403"
            ]
        ]
    },
    {
        "id": "aa8b172564fbdc57",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "delete_vehicle",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "5f737f0e73150f4e",
        "type": "function",
        "z": "7d8f3f86659c2746",
        "name": "delete statement",
        "func": "msg.topic = \"DELETE FROM vehicles WHERE vehicle_id='\" + msg.delete_vehicle + \"';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 720,
        "wires": [
            [
                "2ef88f37a2f2ced6"
            ]
        ]
    },
    {
        "id": "ff0b1c13e0cce4f0",
        "type": "ui_template",
        "z": "7d8f3f86659c2746",
        "group": "f1f6c7ea23073d13",
        "name": "Delete",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: 'Delete'})\"> \n    Delete<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 450,
        "y": 720,
        "wires": [
            [
                "60ef3ae83e8546a7"
            ]
        ]
    },
    {
        "id": "11f539b772554890",
        "type": "ui_template",
        "z": "7d8f3f86659c2746",
        "group": "59a3105b21a4eb5e",
        "name": "Add",
        "order": 5,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: 'Add'})\"> \n    Add<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 450,
        "y": 660,
        "wires": [
            [
                "01d76b690147715d",
                "012596235d9dcc96"
            ]
        ]
    },
    {
        "id": "9f5a2d3b4db757f6",
        "type": "ui_template",
        "z": "7d8f3f86659c2746",
        "group": "59a3105b21a4eb5e",
        "name": "Cancel",
        "order": 6,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: 'Cancel'})\"> \n    Cancel<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 460,
        "y": 360,
        "wires": [
            [
                "18582958553ec12c"
            ]
        ]
    },
    {
        "id": "fcef26cd24394731",
        "type": "switch",
        "z": "7d8f3f86659c2746",
        "name": "is text empty?",
        "property": "vehicle_id",
        "propertyType": "flow",
        "rules": [
            {
                "t": "empty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1440,
        "y": 340,
        "wires": [
            [
                "897959924aeb8d1c"
            ],
            [
                "342e5b449a6b36cb"
            ]
        ]
    },
    {
        "id": "897959924aeb8d1c",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "enabled false",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 340,
        "wires": [
            [
                "b2a6cb6aa74a0210"
            ]
        ]
    },
    {
        "id": "342e5b449a6b36cb",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "enabled true",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 380,
        "wires": [
            [
                "b2a6cb6aa74a0210"
            ]
        ]
    },
    {
        "id": "b2a6cb6aa74a0210",
        "type": "link out",
        "z": "7d8f3f86659c2746",
        "name": "to add",
        "mode": "link",
        "links": [
            "5810e01969fd77ea"
        ],
        "x": 1870,
        "y": 360,
        "wires": [],
        "l": true
    },
    {
        "id": "5810e01969fd77ea",
        "type": "link in",
        "z": "7d8f3f86659c2746",
        "name": "from add",
        "links": [
            "b2a6cb6aa74a0210"
        ],
        "x": 280,
        "y": 660,
        "wires": [
            [
                "11f539b772554890"
            ]
        ],
        "l": true
    },
    {
        "id": "7e6912cefa32b9a1",
        "type": "ui_template",
        "z": "7d8f3f86659c2746",
        "group": "86ee9c0974c2067f",
        "name": "Refresh",
        "order": 3,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: ''})\"> \n    Refresh <i class=\"fa fa-refresh\" aria-hidden=\"true\"></i><br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1120,
        "y": 720,
        "wires": [
            [
                "1c65e81835ab4219",
                "26df2ea191bd9f89"
            ]
        ]
    },
    {
        "id": "3416dcb4d936a9b4",
        "type": "function",
        "z": "7d8f3f86659c2746",
        "name": "search statement",
        "func": "msg.topic = \"SELECT * FROM vehicles WHERE vehicle_id LIKE '%\" + msg.search_data + \"%' OR vehicle_desc LIKE '%\" + msg.search_data + \"%' OR vehicle_name LIKE '%\" + msg.search_data + \"%' OR vehicle_number LIKE '%\" + msg.search_data + \"%';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1670,
        "y": 580,
        "wires": [
            [
                "2ba4a73f96383bb3"
            ]
        ]
    },
    {
        "id": "9a9a09ec705a44ed",
        "type": "ui_text_input",
        "z": "7d8f3f86659c2746",
        "name": "search_data",
        "label": "Type to search ..",
        "tooltip": "",
        "group": "86ee9c0974c2067f",
        "order": 2,
        "width": 9,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 870,
        "y": 620,
        "wires": [
            [
                "6278eec34c5aebce"
            ]
        ]
    },
    {
        "id": "6278eec34c5aebce",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "search_data",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 620,
        "wires": [
            [
                "ebaa8e8682fa61b3",
                "f6daa0c20c2dbcfe"
            ]
        ]
    },
    {
        "id": "f6daa0c20c2dbcfe",
        "type": "function",
        "z": "7d8f3f86659c2746",
        "name": "collecting data",
        "func": "\nmsg = {\n    search_data   : flow.get(\"search_data\"),\n}\n//msg.payload=\"work order number \" \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 580,
        "wires": [
            [
                "3416dcb4d936a9b4"
            ]
        ]
    },
    {
        "id": "ebaa8e8682fa61b3",
        "type": "switch",
        "z": "7d8f3f86659c2746",
        "name": "is text empty?",
        "property": "driver_id",
        "propertyType": "flow",
        "rules": [
            {
                "t": "empty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1440,
        "y": 620,
        "wires": [
            [
                "b9b7a35d3261cd0f"
            ]
        ]
    },
    {
        "id": "9763dbceba661af2",
        "type": "ui_template",
        "z": "7d8f3f86659c2746",
        "group": "86ee9c0974c2067f",
        "name": "icon",
        "order": 1,
        "width": 1,
        "height": 1,
        "format": "\n<md-button style=\"background-color:#007CBE\"> \n    <i class=\"fa fa-search\" aria-hidden=\"true\"></i><br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 450,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "15ef3f5e70fd4f3e",
        "type": "link in",
        "z": "7d8f3f86659c2746",
        "name": "from search",
        "links": [
            "9e134196401a0cfb"
        ],
        "x": 650,
        "y": 620,
        "wires": [
            [
                "9a9a09ec705a44ed"
            ]
        ],
        "l": true
    },
    {
        "id": "26df2ea191bd9f89",
        "type": "delay",
        "z": "7d8f3f86659c2746",
        "name": "",
        "pauseType": "delay",
        "timeout": "210",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1430,
        "y": 740,
        "wires": [
            [
                "9e134196401a0cfb"
            ]
        ]
    },
    {
        "id": "9e134196401a0cfb",
        "type": "link out",
        "z": "7d8f3f86659c2746",
        "name": "to search",
        "mode": "link",
        "links": [
            "15ef3f5e70fd4f3e"
        ],
        "x": 1640,
        "y": 740,
        "wires": [],
        "l": true
    },
    {
        "id": "ec154c27d4399581",
        "type": "ui_template",
        "z": "7d8f3f86659c2746",
        "group": "452582615a482b0f",
        "name": "Update",
        "order": 5,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: 'Update'})\"> \n    Update<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 460,
        "y": 760,
        "wires": [
            [
                "b261a558c268d895"
            ]
        ]
    },
    {
        "id": "b261a558c268d895",
        "type": "function",
        "z": "7d8f3f86659c2746",
        "name": "collecting data",
        "func": "\nmsg = {\n    new_vehicle_id: flow.get(\"new_vehicle_id\"),\n    new_vehicle_desc: flow.get(\"new_vehicle_desc\"),\n    new_vehicle_name: flow.get(\"new_vehicle_name\"),\n    new_vehicle_number: flow.get(\"new_vehicle_number\"),\n}\n//msg.payload=\"work order number \" \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 760,
        "wires": [
            [
                "4e6e68ed2bd4ec7a"
            ]
        ]
    },
    {
        "id": "c1b4c2c1d97d8e7e",
        "type": "ui_text_input",
        "z": "7d8f3f86659c2746",
        "name": "new_vehicle_id",
        "label": "Key *",
        "tooltip": "",
        "group": "452582615a482b0f",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 880,
        "y": 820,
        "wires": [
            [
                "2252011fa663382e",
                "0e45e0da9c344b49"
            ]
        ]
    },
    {
        "id": "05b10af949cb7818",
        "type": "ui_text_input",
        "z": "7d8f3f86659c2746",
        "name": "new_vehicle_desc",
        "label": "Description",
        "tooltip": "",
        "group": "452582615a482b0f",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 890,
        "y": 860,
        "wires": [
            [
                "3b32746ae5e6770d"
            ]
        ]
    },
    {
        "id": "aa0e045595fdedf7",
        "type": "ui_text_input",
        "z": "7d8f3f86659c2746",
        "name": "new_vehicle_name",
        "label": "Make",
        "tooltip": "",
        "group": "452582615a482b0f",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 890,
        "y": 900,
        "wires": [
            [
                "a9fc537b679fd758"
            ]
        ]
    },
    {
        "id": "2252011fa663382e",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "new_vehicle_id",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "3b32746ae5e6770d",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "new_vehicle_desc",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "a9fc537b679fd758",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "new_vehicle_name",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "6f2fa1bbbfed734d",
        "type": "switch",
        "z": "7d8f3f86659c2746",
        "name": "is text empty?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "empty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1660,
        "y": 780,
        "wires": [
            [
                "bfc8c8e82c8683d2"
            ],
            [
                "db8a800538f35926"
            ]
        ]
    },
    {
        "id": "bfc8c8e82c8683d2",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "enabled false",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1890,
        "y": 760,
        "wires": [
            [
                "f71c22c8c5bfa16d"
            ]
        ]
    },
    {
        "id": "db8a800538f35926",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "enabled true",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1890,
        "y": 800,
        "wires": [
            [
                "f71c22c8c5bfa16d"
            ]
        ]
    },
    {
        "id": "af785d361d0ebdeb",
        "type": "ui_template",
        "z": "7d8f3f86659c2746",
        "group": "452582615a482b0f",
        "name": "Cancel",
        "order": 6,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: 'Cancel'})\"> \n    Cancel<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 460,
        "y": 860,
        "wires": [
            [
                "14882e7b54854f85"
            ]
        ]
    },
    {
        "id": "14882e7b54854f85",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "clear data",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 860,
        "wires": [
            [
                "05b10af949cb7818",
                "c1b4c2c1d97d8e7e",
                "aa0e045595fdedf7",
                "92d98fd27a82e192"
            ]
        ]
    },
    {
        "id": "f71c22c8c5bfa16d",
        "type": "link out",
        "z": "7d8f3f86659c2746",
        "name": "to update",
        "mode": "link",
        "links": [
            "788b0b99111a152d"
        ],
        "x": 2140,
        "y": 780,
        "wires": [],
        "l": true
    },
    {
        "id": "788b0b99111a152d",
        "type": "link in",
        "z": "7d8f3f86659c2746",
        "name": "from update",
        "links": [
            "f71c22c8c5bfa16d"
        ],
        "x": 270,
        "y": 760,
        "wires": [
            [
                "ec154c27d4399581"
            ]
        ],
        "l": true
    },
    {
        "id": "d237f996a072ee5b",
        "type": "link in",
        "z": "7d8f3f86659c2746",
        "name": "from clear",
        "links": [
            "4185281c505752d5",
            "fcbad1153901aece"
        ],
        "x": 460,
        "y": 820,
        "wires": [
            [
                "14882e7b54854f85"
            ]
        ],
        "l": true
    },
    {
        "id": "0e45e0da9c344b49",
        "type": "function",
        "z": "7d8f3f86659c2746",
        "name": "check vehicles",
        "func": "msg.topic = \"SELECT * FROM vehicles WHERE vehicle_id='\" + msg.payload + \"';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1140,
        "y": 780,
        "wires": [
            [
                "53280e70e79b07e6"
            ]
        ]
    },
    {
        "id": "53280e70e79b07e6",
        "type": "mysql",
        "z": "7d8f3f86659c2746",
        "mydb": "",
        "name": "vehicles table",
        "x": 1440,
        "y": 780,
        "wires": [
            [
                "6f2fa1bbbfed734d"
            ]
        ]
    },
    {
        "id": "c16a4bddf611f403",
        "type": "function",
        "z": "7d8f3f86659c2746",
        "name": "check vehicles",
        "func": "msg.topic = \"SELECT * FROM vehicles WHERE vehicle_id='\" + msg.payload + \"';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1144,
        "y": 518,
        "wires": [
            [
                "7dec39d0e403a448"
            ]
        ]
    },
    {
        "id": "7dec39d0e403a448",
        "type": "mysql",
        "z": "7d8f3f86659c2746",
        "mydb": "",
        "name": "vehicles table",
        "x": 1440,
        "y": 520,
        "wires": [
            [
                "f05f8d22df5dba82"
            ]
        ]
    },
    {
        "id": "f05f8d22df5dba82",
        "type": "switch",
        "z": "7d8f3f86659c2746",
        "name": "is text empty?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "empty"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1660,
        "y": 520,
        "wires": [
            [
                "7a202b7975d1dc12"
            ],
            [
                "593e4b8830c232a4"
            ]
        ]
    },
    {
        "id": "7a202b7975d1dc12",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "enabled false",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1890,
        "y": 500,
        "wires": [
            [
                "f6ff3d0f1804639c"
            ]
        ]
    },
    {
        "id": "593e4b8830c232a4",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "enabled true",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1890,
        "y": 540,
        "wires": [
            [
                "f6ff3d0f1804639c"
            ]
        ]
    },
    {
        "id": "f6ff3d0f1804639c",
        "type": "link out",
        "z": "7d8f3f86659c2746",
        "name": "to delete",
        "mode": "link",
        "links": [
            "54f3eebf9430c40e"
        ],
        "x": 2140,
        "y": 520,
        "wires": [],
        "l": true
    },
    {
        "id": "54f3eebf9430c40e",
        "type": "link in",
        "z": "7d8f3f86659c2746",
        "name": "from delete",
        "links": [
            "f6ff3d0f1804639c"
        ],
        "x": 280,
        "y": 720,
        "wires": [
            [
                "ff0b1c13e0cce4f0"
            ]
        ],
        "l": true
    },
    {
        "id": "6484659f39d218c2",
        "type": "ui_text_input",
        "z": "7d8f3f86659c2746",
        "name": "vehicle_number",
        "label": "Registration",
        "tooltip": "",
        "group": "59a3105b21a4eb5e",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 880,
        "y": 440,
        "wires": [
            [
                "61220b27542207a8"
            ]
        ]
    },
    {
        "id": "61220b27542207a8",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "vehicle_number",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "92d98fd27a82e192",
        "type": "ui_text_input",
        "z": "7d8f3f86659c2746",
        "name": "new_vehicle_number",
        "label": "Registration",
        "tooltip": "",
        "group": "452582615a482b0f",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 900,
        "y": 940,
        "wires": [
            [
                "23c9c1aeb7fb76d9"
            ]
        ]
    },
    {
        "id": "23c9c1aeb7fb76d9",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "new_vehicle_number",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "703fe1539e559efe",
        "type": "inject",
        "z": "7d8f3f86659c2746",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "SELECT * FROM vehicles WHERE vehicle_flag=0;",
        "x": 750,
        "y": 1160,
        "wires": [
            [
                "17afee6dda6fd31d"
            ]
        ]
    },
    {
        "id": "17afee6dda6fd31d",
        "type": "mysql",
        "z": "7d8f3f86659c2746",
        "mydb": "",
        "name": "",
        "x": 930,
        "y": 1160,
        "wires": [
            [
                "39d62354253f3daa"
            ]
        ]
    },
    {
        "id": "39d62354253f3daa",
        "type": "switch",
        "z": "7d8f3f86659c2746",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "empty"
            },
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1110,
        "y": 1160,
        "wires": [
            [],
            [
                "a7289e4c491aeb49",
                "002fb213f9d8d26a",
                "7a3c2bf35e7d7891"
            ]
        ]
    },
    {
        "id": "a7289e4c491aeb49",
        "type": "function",
        "z": "7d8f3f86659c2746",
        "name": "insert statement",
        "func": "msg.topic = \"INSERT INTO vehicles (vehicle_id, vehicle_desc, vehicle_name, vehicle_number, vehicle_flag) \" +\n    \"VALUES ('\" + msg.payload[0].vehicle_id + \"', '\" + msg.payload[0].vehicle_desc + \"', '\" + msg.payload[0].vehicle_name + \"', '\" + msg.payload[0].vehicle_number + \"', '1' );\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 1160,
        "wires": [
            [
                "b2843eff980ae37c"
            ]
        ]
    },
    {
        "id": "b2843eff980ae37c",
        "type": "mysql",
        "z": "7d8f3f86659c2746",
        "mydb": "347578936cd017ea",
        "name": "",
        "x": 1510,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "dbf88ad459693fb2",
        "type": "mysql",
        "z": "7d8f3f86659c2746",
        "mydb": "",
        "name": "",
        "x": 1570,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "002fb213f9d8d26a",
        "type": "function",
        "z": "7d8f3f86659c2746",
        "name": "set statement",
        "func": "msg.topic = \"UPDATE vehicles SET vehicle_flag = 1 WHERE id = '\" + msg.payload[0].id + \"'\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 1220,
        "wires": [
            [
                "3d9502fc9e8ac028"
            ]
        ]
    },
    {
        "id": "3d9502fc9e8ac028",
        "type": "delay",
        "z": "7d8f3f86659c2746",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1455,
        "y": 1220,
        "wires": [
            [
                "dbf88ad459693fb2"
            ]
        ],
        "l": false
    },
    {
        "id": "9c81a83e941b2304",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "SELECT * FROM vehicles WHERE vehicle_flag=0;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1260,
        "wires": [
            [
                "6aa457eb2a5a1dbf"
            ]
        ]
    },
    {
        "id": "7a3c2bf35e7d7891",
        "type": "delay",
        "z": "7d8f3f86659c2746",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1235,
        "y": 1260,
        "wires": [
            [
                "9c81a83e941b2304"
            ]
        ],
        "l": false
    },
    {
        "id": "7cec12befe392acf",
        "type": "change",
        "z": "7d8f3f86659c2746",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "SELECT * FROM vehicles WHERE vehicle_flag=0;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 1120,
        "wires": [
            [
                "17afee6dda6fd31d"
            ]
        ]
    },
    {
        "id": "6aa457eb2a5a1dbf",
        "type": "link out",
        "z": "7d8f3f86659c2746",
        "name": "link out 2",
        "mode": "link",
        "links": [
            "82e2691e49f4b6e0"
        ],
        "x": 1485,
        "y": 1260,
        "wires": []
    },
    {
        "id": "82e2691e49f4b6e0",
        "type": "link in",
        "z": "7d8f3f86659c2746",
        "name": "link in 2",
        "links": [
            "6aa457eb2a5a1dbf"
        ],
        "x": 785,
        "y": 1200,
        "wires": [
            [
                "17afee6dda6fd31d"
            ]
        ]
    },
    {
        "id": "012596235d9dcc96",
        "type": "delay",
        "z": "7d8f3f86659c2746",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 575,
        "y": 1120,
        "wires": [
            [
                "7cec12befe392acf"
            ]
        ],
        "l": false
    },
    {
        "id": "ecde79adf59f0da1",
        "type": "ui_artlessgauge",
        "z": "8fa68b7318baaa25",
        "group": "327d717182ef2fd3",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "icon": "",
        "label": "Main Tank",
        "unit": "%",
        "layout": "linear",
        "decimals": "2",
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": true,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#ff9900",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#ff9900",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "7",
        "bgcolorFromTheme": false,
        "diffCenter": "",
        "x": 640,
        "y": 100,
        "wires": []
    },
    {
        "id": "1c327442e24ef7b0",
        "type": "ui_artlessgauge",
        "z": "8fa68b7318baaa25",
        "group": "327d717182ef2fd3",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "icon": "",
        "label": "Pit Tank",
        "unit": "%",
        "layout": "linear",
        "decimals": "2",
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": true,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#ff9900",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#ff9900",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "7",
        "bgcolorFromTheme": false,
        "diffCenter": "",
        "x": 640,
        "y": 140,
        "wires": []
    },
    {
        "id": "0b22059fd040e8a6",
        "type": "ui_artlessgauge",
        "z": "8fa68b7318baaa25",
        "group": "327d717182ef2fd3",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "icon": "",
        "label": "Ramp Tank",
        "unit": "%",
        "layout": "linear",
        "decimals": "2",
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": true,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#ff9900",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#ff9900",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "7",
        "bgcolorFromTheme": false,
        "diffCenter": "",
        "x": 640,
        "y": 180,
        "wires": []
    },
    {
        "id": "e1662571a68be134",
        "type": "ui_artlessgauge",
        "z": "8fa68b7318baaa25",
        "group": "327d717182ef2fd3",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "icon": "",
        "label": "Road Diesel",
        "unit": "%",
        "layout": "linear",
        "decimals": "2",
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": true,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#ff9900",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#ff9900",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "7",
        "bgcolorFromTheme": false,
        "diffCenter": "",
        "x": 640,
        "y": 220,
        "wires": []
    },
    {
        "id": "d4aebb92377995a6",
        "type": "ui_artlessgauge",
        "z": "8fa68b7318baaa25",
        "group": "327d717182ef2fd3",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "icon": "",
        "label": "Small Mobile Tank",
        "unit": "%",
        "layout": "linear",
        "decimals": "2",
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload",
        "secondary": "secondary",
        "inline": true,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#ff9900",
                "t": "min",
                "dot": 0
            },
            {
                "val": 100,
                "col": "#ff9900",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "7",
        "bgcolorFromTheme": false,
        "diffCenter": "",
        "x": 640,
        "y": 260,
        "wires": []
    },
    {
        "id": "601bed41e7a65d6c",
        "type": "ui_dropdown",
        "z": "8fa68b7318baaa25",
        "name": "",
        "label": "Tank",
        "tooltip": "",
        "place": "Select option",
        "group": "03eceec92549b177",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "multiple": false,
        "options": [
            {
                "label": "Main Tank",
                "value": "main_tank",
                "type": "str"
            },
            {
                "label": "Pit Tank",
                "value": "pit_tank",
                "type": "str"
            },
            {
                "label": "Ramp Tank",
                "value": "ramp_tank",
                "type": "str"
            },
            {
                "label": "Road Diesel",
                "value": "road_diesel",
                "type": "str"
            },
            {
                "label": "Small Mobile Tank",
                "value": "small_mobile_tank",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 210,
        "y": 380,
        "wires": [
            [
                "d775f4664333b6d4"
            ]
        ]
    },
    {
        "id": "d775f4664333b6d4",
        "type": "debug",
        "z": "8fa68b7318baaa25",
        "name": "debug 7",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 420,
        "y": 340,
        "wires": []
    },
    {
        "id": "8fa08d6244ee9c8e",
        "type": "ui_dropdown",
        "z": "8fa68b7318baaa25",
        "name": "",
        "label": "Volume Unit",
        "tooltip": "",
        "place": "Select option",
        "group": "03eceec92549b177",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "multiple": false,
        "options": [
            {
                "label": "Litres",
                "value": "litres",
                "type": "str"
            },
            {
                "label": "US Gallons",
                "value": "us_gallons",
                "type": "str"
            },
            {
                "label": "lmp Gallons",
                "value": "lmp_gallons",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 210,
        "y": 420,
        "wires": [
            [
                "d775f4664333b6d4"
            ]
        ]
    },
    {
        "id": "e4b08b7404d9a1ab",
        "type": "ui_ui-button",
        "z": "8fa68b7318baaa25",
        "action": "click",
        "actionType": "str",
        "name": "",
        "group": "03eceec92549b177",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "button",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "x": 70,
        "y": 380,
        "wires": [
            [
                "8fa08d6244ee9c8e",
                "58acbd504a9d8ab5",
                "601bed41e7a65d6c"
            ]
        ]
    },
    {
        "id": "58acbd504a9d8ab5",
        "type": "ui_text-input",
        "z": "8fa68b7318baaa25",
        "action": "set",
        "actionType": "str",
        "write": "payload",
        "writeType": "msg",
        "name": "",
        "label": "Volume",
        "tooltip": "",
        "group": "03eceec92549b177",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "change": true,
        "delay": 300,
        "topic": "volume",
        "x": 220,
        "y": 340,
        "wires": [
            [
                "d775f4664333b6d4"
            ]
        ]
    },
    {
        "id": "57e0f48f.2095cc",
        "type": "inject",
        "z": "8fa68b7318baaa25",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 105,
        "y": 460,
        "wires": [
            [
                "7bc2234f.756184"
            ]
        ],
        "l": false
    },
    {
        "id": "7bc2234f.756184",
        "type": "change",
        "z": "8fa68b7318baaa25",
        "name": "Options",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "['Main Tank','Pit Tank','Ramp Tank','Road Diesel','Small Road Tank']",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 220,
        "y": 460,
        "wires": [
            [
                "3bcb1d68.454592"
            ]
        ]
    },
    {
        "id": "3bcb1d68.454592",
        "type": "ui_dropdown",
        "z": "8fa68b7318baaa25",
        "name": "",
        "label": "",
        "tooltip": "",
        "place": "Select option",
        "group": "327d717182ef2fd3",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "topicType": "str",
        "className": "",
        "x": 220,
        "y": 540,
        "wires": [
            [
                "fe9c6f12.2e1cc"
            ]
        ]
    },
    {
        "id": "fe9c6f12.2e1cc",
        "type": "switch",
        "z": "8fa68b7318baaa25",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Main Tank",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Pit Tank",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Ramp Tank",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Road Diesel",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Small Road Tank",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 410,
        "y": 460,
        "wires": [
            [
                "f49503bd.72a76",
                "0e025c84649f0e25"
            ],
            [
                "b7303574.28e768",
                "0e025c84649f0e25"
            ],
            [
                "f8d4e225.5471f",
                "0e025c84649f0e25"
            ],
            [
                "0e025c84649f0e25"
            ],
            [
                "0e025c84649f0e25"
            ]
        ]
    },
    {
        "id": "f49503bd.72a76",
        "type": "change",
        "z": "8fa68b7318baaa25",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[{'title':'apples'},{'title':'bananas'},{'title':'oranges'}]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 400,
        "wires": [
            [
                "118429a4.b9a3b6"
            ]
        ]
    },
    {
        "id": "b7303574.28e768",
        "type": "change",
        "z": "8fa68b7318baaa25",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[{'title':'maize'},{'title':'beans'},{'title':'squash'}]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 440,
        "wires": [
            [
                "118429a4.b9a3b6"
            ]
        ]
    },
    {
        "id": "f8d4e225.5471f",
        "type": "change",
        "z": "8fa68b7318baaa25",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "[{'title':'beer'},{'title':'wine'},{'title':'water'}]",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 480,
        "wires": [
            [
                "118429a4.b9a3b6"
            ]
        ]
    },
    {
        "id": "118429a4.b9a3b6",
        "type": "ui_list",
        "z": "8fa68b7318baaa25",
        "group": "327d717182ef2fd3",
        "name": "",
        "order": 2,
        "width": "0",
        "height": "0",
        "lineType": "three",
        "actionType": "check",
        "allowHTML": false,
        "outputs": 1,
        "topic": "",
        "x": 790,
        "y": 440,
        "wires": [
            [
                "bb4e2eca.92bcd"
            ]
        ]
    },
    {
        "id": "bb4e2eca.92bcd",
        "type": "debug",
        "z": "8fa68b7318baaa25",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 950,
        "y": 620,
        "wires": []
    },
    {
        "id": "0e025c84649f0e25",
        "type": "debug",
        "z": "8fa68b7318baaa25",
        "name": "debug 8",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 660,
        "y": 560,
        "wires": []
    },
    {
        "id": "54257912c3119931",
        "type": "inject",
        "z": "8fa68b7318baaa25",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "240",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 100,
        "wires": [
            [
                "772e4ae5a995b16e"
            ]
        ]
    },
    {
        "id": "772e4ae5a995b16e",
        "type": "Number",
        "z": "8fa68b7318baaa25",
        "name": "Random Number",
        "minimum": "0",
        "maximum": "100",
        "roundTo": "2",
        "Floor": false,
        "x": 410,
        "y": 100,
        "wires": [
            [
                "ecde79adf59f0da1"
            ]
        ]
    },
    {
        "id": "069e95bb2fa64d8d",
        "type": "Number",
        "z": "8fa68b7318baaa25",
        "name": "Random Number",
        "minimum": "0",
        "maximum": "100",
        "roundTo": "2",
        "Floor": false,
        "x": 410,
        "y": 140,
        "wires": [
            [
                "1c327442e24ef7b0"
            ]
        ]
    },
    {
        "id": "e02f09fefd59352e",
        "type": "Number",
        "z": "8fa68b7318baaa25",
        "name": "Random Number",
        "minimum": "0",
        "maximum": "100",
        "roundTo": "2",
        "Floor": false,
        "x": 410,
        "y": 180,
        "wires": [
            [
                "0b22059fd040e8a6"
            ]
        ]
    },
    {
        "id": "4862cd02b2b8e9eb",
        "type": "Number",
        "z": "8fa68b7318baaa25",
        "name": "Random Number",
        "minimum": "0",
        "maximum": "100",
        "roundTo": "2",
        "Floor": false,
        "x": 410,
        "y": 220,
        "wires": [
            [
                "e1662571a68be134"
            ]
        ]
    },
    {
        "id": "26fec1cb80df66fd",
        "type": "Number",
        "z": "8fa68b7318baaa25",
        "name": "Random Number",
        "minimum": "0",
        "maximum": "100",
        "roundTo": "2",
        "Floor": false,
        "x": 410,
        "y": 260,
        "wires": [
            [
                "d4aebb92377995a6"
            ]
        ]
    },
    {
        "id": "315ae1b6082a2d13",
        "type": "inject",
        "z": "8fa68b7318baaa25",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 140,
        "wires": [
            [
                "069e95bb2fa64d8d"
            ]
        ]
    },
    {
        "id": "77f2b224d800686d",
        "type": "inject",
        "z": "8fa68b7318baaa25",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "120",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 180,
        "wires": [
            [
                "e02f09fefd59352e"
            ]
        ]
    },
    {
        "id": "7a1ea7df5f5176c9",
        "type": "inject",
        "z": "8fa68b7318baaa25",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 220,
        "wires": [
            [
                "4862cd02b2b8e9eb"
            ]
        ]
    },
    {
        "id": "e26eaf31493762a5",
        "type": "inject",
        "z": "8fa68b7318baaa25",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 260,
        "wires": [
            [
                "26fec1cb80df66fd"
            ]
        ]
    },
    {
        "id": "8ce78fb010af5a50",
        "type": "serial in",
        "z": "8708c8565a0e32f0",
        "name": "YFJ-4",
        "serial": "9899433f18bbb4cc",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "4c3a662e.52be7",
                "2ad5af420d80c0b1"
            ]
        ]
    },
    {
        "id": "4c3a662e.52be7",
        "type": "function",
        "z": "8708c8565a0e32f0",
        "name": "split data",
        "func": "const string = msg.payload;\nconst bits = [[\"count_4um\", 25, 33], [\"count_6um\", 34, 42], [\"count_14um\", 43, 51], \n    [\"code_4um\", 52, 54], [\"code_6um\", 54, 56], [\"code_14um\", 56, 58] ];\nmsg.payload = bits.reduce((acc, arr) => {\n    return Object.assign(acc, {[arr[0]]:string.slice(arr[1],arr[2])});\n},{});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 140,
        "wires": [
            [
                "faf2efac7ecacc57",
                "85991786eda14ea8",
                "bbed4ea391d70447",
                "e77a789110a9123d",
                "d33914100069edae",
                "f9a81bfbd2e5c153",
                "cfcc1ed27b218f57",
                "17c947ae2802d947",
                "78228d2d74ae1a83",
                "856355354a1d9286",
                "d3ac638e90c69eb3"
            ]
        ]
    },
    {
        "id": "e22c9ac25a688269",
        "type": "inject",
        "z": "8708c8565a0e32f0",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "H32022-11- 2 14: 1:10 DAT   1152T     283T       2L1815 8 0 0 0 0V10.0A  0.00O   0.0",
        "payloadType": "str",
        "x": 130,
        "y": 100,
        "wires": [
            [
                "4c3a662e.52be7"
            ]
        ]
    },
    {
        "id": "faf2efac7ecacc57",
        "type": "ui_level",
        "z": "8708c8565a0e32f0",
        "group": "4fff376e61894f88",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "4μ",
        "label": "4μm: ",
        "colorHi": "#e60000",
        "colorWarn": "#ff9b00",
        "colorNormal": "#ff9b00",
        "colorOff": "#595959",
        "min": 0,
        "max": "50000",
        "segWarn": "",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload.count_4um",
        "peaktime": 3000,
        "x": 510,
        "y": 440,
        "wires": []
    },
    {
        "id": "85991786eda14ea8",
        "type": "ui_level",
        "z": "8708c8565a0e32f0",
        "group": "4fff376e61894f88",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "6μ",
        "label": "6μm: ",
        "colorHi": "#e60000",
        "colorWarn": "#0f8cc8",
        "colorNormal": "#0f8cc8",
        "colorOff": "#595959",
        "min": 0,
        "max": "10000",
        "segWarn": "",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload.count_6um",
        "peaktime": 3000,
        "x": 510,
        "y": 480,
        "wires": []
    },
    {
        "id": "bbed4ea391d70447",
        "type": "ui_level",
        "z": "8708c8565a0e32f0",
        "group": "4fff376e61894f88",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "14μ",
        "label": "14μm: ",
        "colorHi": "#e60000",
        "colorWarn": "#058246",
        "colorNormal": "#058246",
        "colorOff": "#595959",
        "min": 0,
        "max": "5000",
        "segWarn": "",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload.count_14um",
        "peaktime": 3000,
        "x": 510,
        "y": 520,
        "wires": []
    },
    {
        "id": "e77a789110a9123d",
        "type": "ui_artlessgauge",
        "z": "8708c8565a0e32f0",
        "group": "d218fd6675f2543a",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "4μ",
        "icon": "fa-filter",
        "label": "4μm",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.code_4um",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#ff9b00",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#ff9b00",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "5",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 510,
        "y": 260,
        "wires": []
    },
    {
        "id": "d33914100069edae",
        "type": "ui_artlessgauge",
        "z": "8708c8565a0e32f0",
        "group": "d218fd6675f2543a",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "6μ",
        "icon": "fa-filter",
        "label": "6μm",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.code_6um",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#0f8cc8",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#0f8cc8",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "5",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 510,
        "y": 300,
        "wires": []
    },
    {
        "id": "f9a81bfbd2e5c153",
        "type": "ui_artlessgauge",
        "z": "8708c8565a0e32f0",
        "group": "d218fd6675f2543a",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "14μ",
        "icon": "fa-filter",
        "label": "14μm",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.code_14um",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#058246",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#058246",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "5",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 510,
        "y": 340,
        "wires": []
    },
    {
        "id": "8f3bd897763450aa",
        "type": "comment",
        "z": "8708c8565a0e32f0",
        "name": "Before/After Particle Count",
        "info": "",
        "x": 570,
        "y": 400,
        "wires": []
    },
    {
        "id": "e8066f3db9cbf4cb",
        "type": "comment",
        "z": "8708c8565a0e32f0",
        "name": "Before/After ISO Class",
        "info": "",
        "x": 560,
        "y": 220,
        "wires": []
    },
    {
        "id": "cfcc1ed27b218f57",
        "type": "function",
        "z": "8708c8565a0e32f0",
        "name": "before/after chart",
        "func": "var msg1 = { payload: msg.payload.code_4um};\nmsg1.topic = '4μm';\nvar msg2 = { payload: msg.payload.code_6um};\nmsg2.topic = '6μm';\nvar msg3 = { payload: msg.payload.code_14um};\nmsg3.topic = '14μm';\n\nreturn [msg1,msg2,msg3];",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 600,
        "wires": [
            [
                "68ae655ee0b58aa9"
            ],
            [
                "68ae655ee0b58aa9"
            ],
            [
                "68ae655ee0b58aa9"
            ]
        ]
    },
    {
        "id": "0c72a8660a689ce0",
        "type": "ui_slider",
        "z": "8708c8565a0e32f0",
        "name": "",
        "label": "Flowrate value:",
        "tooltip": "LPM",
        "group": "071c31c938b04b50",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "500",
        "step": 1,
        "className": "",
        "x": 1060,
        "y": 520,
        "wires": [
            [
                "b34271a38f0b2553",
                "ba23f02d2bdc765e"
            ]
        ]
    },
    {
        "id": "ebaa415861ec2906",
        "type": "ui_numeric",
        "z": "8708c8565a0e32f0",
        "name": "",
        "label": "Differential pressure value:",
        "tooltip": "PSID",
        "group": "071c31c938b04b50",
        "order": 2,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "format": "{{value}}",
        "min": 0,
        "max": "30",
        "step": 1,
        "className": "",
        "x": 1020,
        "y": 440,
        "wires": [
            [
                "b34271a38f0b2553",
                "41a60d2fc950696f"
            ]
        ]
    },
    {
        "id": "68ae655ee0b58aa9",
        "type": "ui_chart",
        "z": "8708c8565a0e32f0",
        "name": "",
        "group": "6181bac1acaef96e",
        "order": 1,
        "width": 22,
        "height": 7,
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "25",
        "removeOlder": 1,
        "removeOlderPoints": "250",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#ff9b00",
            "#0f8cc8",
            "#058246",
            "#be0505",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 790,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "17c947ae2802d947",
        "type": "debug",
        "z": "8708c8565a0e32f0",
        "name": "split msg",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 520,
        "y": 180,
        "wires": []
    },
    {
        "id": "587690024a5eb87a",
        "type": "comment",
        "z": "8708c8565a0e32f0",
        "name": "Manual input DPI and Flowrate value ",
        "info": "",
        "x": 1000,
        "y": 400,
        "wires": []
    },
    {
        "id": "b34271a38f0b2553",
        "type": "debug",
        "z": "8708c8565a0e32f0",
        "name": "msg manual",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1270,
        "y": 480,
        "wires": []
    },
    {
        "id": "78228d2d74ae1a83",
        "type": "change",
        "z": "8708c8565a0e32f0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "code_4um",
                "pt": "flow",
                "to": "payload.code_4um",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "code_6um",
                "pt": "flow",
                "to": "payload.code_6um",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "code_14um",
                "pt": "flow",
                "to": "payload.code_14um",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "count_4um",
                "pt": "flow",
                "to": "payload.count_4um",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "count_6um",
                "pt": "flow",
                "to": "payload.count_6um",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "count_14um",
                "pt": "flow",
                "to": "payload.count_14um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "41a60d2fc950696f",
        "type": "change",
        "z": "8708c8565a0e32f0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "dpi",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1270,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "ba23f02d2bdc765e",
        "type": "change",
        "z": "8708c8565a0e32f0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "flowrate",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "a5032577abafa023",
        "type": "mysql",
        "z": "8708c8565a0e32f0",
        "mydb": "",
        "name": "",
        "x": 1520,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "856355354a1d9286",
        "type": "function",
        "z": "8708c8565a0e32f0",
        "name": "collecting data",
        "func": "\nmsg = {\n    test_date: flow.get(\"test_date\"),\n    code_4um: flow.get(\"code_4um\"),\n    code_6um: flow.get(\"code_6um\"),\n    code_14um: flow.get(\"code_14um\"),\n    count_4um: flow.get(\"count_4um\"),\n    count_6um: flow.get(\"count_6um\"),\n    count_14um: flow.get(\"count_14um\"),\n    flowrate: flow.get(\"flowrate\"),\n    dpi: flow.get(\"dpi\"),\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 660,
        "wires": [
            [
                "f1c9add0de102e6a"
            ]
        ]
    },
    {
        "id": "b73181df69a9b807",
        "type": "function",
        "z": "8708c8565a0e32f0",
        "name": "before insert statement",
        "func": "msg.topic = \"INSERT INTO before_ndfo644plf5 (test_date, code_4um, code_6um, code_14um, count_4um, count_6um, count_14um, flowrate, dpi) \" + \n    \"VALUES ('\" + msg.test_date + \"', '\" + msg.code_4um + \"', '\" + msg.code_6um + \"', '\" + msg.code_14um + \"', '\" + msg.count_4um + \"', '\" + msg.count_6um + \"', '\" + msg.count_14um + \"', '\" + msg.flowrate + \"', '\" + msg.dpi + \"');\"; \n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 680,
        "wires": [
            [
                "a5032577abafa023"
            ]
        ]
    },
    {
        "id": "3090c32d51b5c022",
        "type": "function",
        "z": "8708c8565a0e32f0",
        "name": "after insert statement",
        "func": "msg.topic = \"INSERT INTO after_ndfo644plf5 (test_date, code_4um, code_6um, code_14um, count_4um, count_6um, count_14um, flowrate, dpi) \" + \n    \"VALUES ('\" + msg.test_date + \"', '\" + msg.code_4um + \"', '\" + msg.code_6um + \"', '\" + msg.code_14um + \"', '\" + msg.count_4um + \"', '\" + msg.count_6um + \"', '\" + msg.count_14um + \"', '\" + msg.flowrate + \"', '\" + msg.dpi + \"');\"; \n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 640,
        "wires": [
            [
                "a5032577abafa023"
            ]
        ]
    },
    {
        "id": "dd0fecacff6dd9ec",
        "type": "change",
        "z": "8708c8565a0e32f0",
        "name": "show before_ndfo644plf5",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "SELECT * FROM before_ndfo644plf5 ORDER BY id DESC;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 800,
        "wires": [
            [
                "21366f9da4b1b42a"
            ]
        ]
    },
    {
        "id": "56fcac17c8bcfda4",
        "type": "ui_table",
        "z": "8708c8565a0e32f0",
        "group": "60e999eee360aa93",
        "name": "display after",
        "order": 1,
        "width": "22",
        "height": "5",
        "columns": [
            {
                "field": "test_date",
                "title": "Date",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "test_time",
                "title": "Time",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "count_4um",
                "title": "Count 4um",
                "width": "",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "count_6um",
                "title": "Count 6um",
                "width": "",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "count_14um",
                "title": "Count 14um",
                "width": "",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "code_4um",
                "title": "Code 4um",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "code_6um",
                "title": "Code 6um",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "code_14um",
                "title": "Code 14um",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "flowrate",
                "title": "Flowrate",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "dpi",
                "title": "DPI",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 0,
        "cts": false,
        "x": 1270,
        "y": 840,
        "wires": []
    },
    {
        "id": "d725f2ec7238f7c3",
        "type": "change",
        "z": "8708c8565a0e32f0",
        "name": "show after_ndfo644plf5",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "SELECT * FROM after_ndfo644plf5 ORDER BY id DESC;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 840,
        "wires": [
            [
                "c4a3f764a21c0313"
            ]
        ]
    },
    {
        "id": "c939a346c7302f3b",
        "type": "ui_table",
        "z": "8708c8565a0e32f0",
        "group": "9830552bfbc0a872",
        "name": "display before",
        "order": 1,
        "width": "22",
        "height": "5",
        "columns": [
            {
                "field": "test_date",
                "title": "Date",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "test_time",
                "title": "Time",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "count_4um",
                "title": "Count 4um",
                "width": "",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "count_6um",
                "title": "Count 6um",
                "width": "",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "count_14um",
                "title": "Count 14um",
                "width": "",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "code_4um",
                "title": "Code 4um",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "code_6um",
                "title": "Code 6um",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "code_14um",
                "title": "Code 14um",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "flowrate",
                "title": "Flowrate",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "dpi",
                "title": "DPI",
                "width": "",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 0,
        "cts": false,
        "x": 1280,
        "y": 800,
        "wires": []
    },
    {
        "id": "21366f9da4b1b42a",
        "type": "mysql",
        "z": "8708c8565a0e32f0",
        "mydb": "",
        "name": "",
        "x": 1080,
        "y": 800,
        "wires": [
            [
                "c939a346c7302f3b"
            ]
        ]
    },
    {
        "id": "f3e1e29a0d3c449c",
        "type": "comment",
        "z": "8708c8565a0e32f0",
        "name": "Change Before/After Databases",
        "info": "",
        "x": 1270,
        "y": 600,
        "wires": []
    },
    {
        "id": "f1c9add0de102e6a",
        "type": "ui_switch",
        "z": "8708c8565a0e32f0",
        "name": "",
        "label": "Before <- / -> After",
        "tooltip": "",
        "group": "071c31c938b04b50",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "className": "",
        "x": 830,
        "y": 660,
        "wires": [
            [
                "e06f4db01efe6e4d"
            ]
        ]
    },
    {
        "id": "e06f4db01efe6e4d",
        "type": "switch",
        "z": "8708c8565a0e32f0",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1070,
        "y": 660,
        "wires": [
            [
                "3090c32d51b5c022"
            ],
            [
                "b73181df69a9b807"
            ]
        ]
    },
    {
        "id": "d3ac638e90c69eb3",
        "type": "delay",
        "z": "8708c8565a0e32f0",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 520,
        "y": 820,
        "wires": [
            [
                "dd0fecacff6dd9ec",
                "d725f2ec7238f7c3"
            ]
        ]
    },
    {
        "id": "c4a3f764a21c0313",
        "type": "mysql",
        "z": "8708c8565a0e32f0",
        "mydb": "",
        "name": "",
        "x": 1080,
        "y": 840,
        "wires": [
            [
                "56fcac17c8bcfda4"
            ]
        ]
    },
    {
        "id": "cb5c6981184a0b5a",
        "type": "change",
        "z": "8708c8565a0e32f0",
        "name": "date before_ndfo644plf5",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "SELECT test_date FROM before_ndfo644plf5 ORDER BY id DESC;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 940,
        "wires": [
            [
                "4fadb2cd7f95f516"
            ]
        ]
    },
    {
        "id": "a35a8e0312d03a0e",
        "type": "debug",
        "z": "8708c8565a0e32f0",
        "name": "debug 9",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1260,
        "y": 920,
        "wires": []
    },
    {
        "id": "4fadb2cd7f95f516",
        "type": "mysql",
        "z": "8708c8565a0e32f0",
        "mydb": "",
        "name": "",
        "x": 1080,
        "y": 940,
        "wires": [
            [
                "a35a8e0312d03a0e"
            ]
        ]
    },
    {
        "id": "57fbeae73a4abcda",
        "type": "inject",
        "z": "8708c8565a0e32f0",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 40,
        "wires": [
            [
                "2ad5af420d80c0b1"
            ]
        ]
    },
    {
        "id": "2ad5af420d80c0b1",
        "type": "moment",
        "z": "8708c8565a0e32f0",
        "name": "Date",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Asia/Bangkok",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD",
        "locale": "en-US",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Asia/Bangkok",
        "x": 290,
        "y": 100,
        "wires": [
            [
                "ff7db878134bfe8f"
            ]
        ]
    },
    {
        "id": "ff7db878134bfe8f",
        "type": "change",
        "z": "8708c8565a0e32f0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "test_date",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "17dfa257940aa3a4",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "Before - C",
        "func": "//msg.payload = msg.payload.data[0];\n//msg.payload = msg.payload.data[1];\n//msg.payload = msg.payload.data[2];\n\nvar msg1 = { payload:msg.payload.data[0]};\nmsg1.topic = '4μ';\nvar msg2 = { payload:msg.payload.data[1]};\nmsg2.topic = '6μ';\nvar msg3 = { payload:msg.payload.data[2]};\nmsg3.topic = '14μ';\nvar msg4 = {payload:msg.payload.data[44]};\nmsg4.topic = 'Warning';\n\nreturn [msg1,msg2,msg3,msg4];",
        "outputs": 4,
        "noerr": 0,
        "x": 330,
        "y": 540,
        "wires": [
            [
                "7527e555700376df"
            ],
            [
                "7527e555700376df"
            ],
            [
                "7527e555700376df"
            ],
            [
                "7527e555700376df"
            ]
        ]
    },
    {
        "id": "ea57a369a32442f3",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "After - C",
        "func": "//msg.payload = msg.payload.data[0];\n//msg.payload = msg.payload.data[1];\n//msg.payload = msg.payload.data[2];\n\nvar msg1 = {payload:msg.payload.data[3]};\nmsg1.topic = '4μ';\nvar msg2 = {payload:msg.payload.data[4]};\nmsg2.topic = '6μ';\nvar msg3 = {payload:msg.payload.data[5]};\nmsg3.topic = '14μ';\nvar msg4 = {payload:msg.payload.data[45]};\nmsg4.topic = 'Warning';\n\nreturn [msg1,msg2,msg3,msg4];",
        "outputs": 4,
        "noerr": 0,
        "x": 320,
        "y": 620,
        "wires": [
            [
                "eaf205e11aaa1364"
            ],
            [
                "eaf205e11aaa1364"
            ],
            [
                "eaf205e11aaa1364"
            ],
            [
                "eaf205e11aaa1364"
            ]
        ]
    },
    {
        "id": "fefda4542d075a36",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "14 Mikron",
        "func": "msg.payload = (msg.payload.data[1] << 16) + msg.payload.data[0]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 280,
        "wires": [
            [
                "909c721b3ac45bea"
            ]
        ]
    },
    {
        "id": "93e230f8c4ef6f35",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "6 Mikron",
        "func": "msg.payload = (msg.payload.data[1] << 16) + msg.payload.data[0]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 240,
        "wires": [
            [
                "38a024770e636433"
            ]
        ]
    },
    {
        "id": "9c3b8a1abceec927",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "4 Mikron",
        "func": "msg.payload = (msg.payload.data[1] << 16) + msg.payload.data[0]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 200,
        "wires": [
            [
                "4afd43a3c21ed1d5"
            ]
        ]
    },
    {
        "id": "91c24286870372ba",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "V1",
        "func": "//msg.payload = msg.payload.data[0];\n//msg.payload = msg.payload.data[1];\n//msg.payload = msg.payload.data[2];\n\nvar msg1 = {payload:msg.payload.data[0]};\n\nreturn [msg1];",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 1000,
        "wires": [
            [
                "690825bd3b230630"
            ]
        ]
    },
    {
        "id": "afdab8691183b9f1",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "DWord",
        "func": "msg.payload.cpl = (msg.payload.data[1] << 16) + msg.payload.data[0]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 1460,
        "wires": [
            [
                "e7eb0a3cbe662b17"
            ]
        ]
    },
    {
        "id": "b85a07525b85bfba",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "Function Code",
        "func": "//let value = msg.payload\nlet d = new Date().toISOString().split(\"T\")\nlet date = d[0];\nlet time = d[1].split(\".\")[0]\n//let filename = \"./data_\"+date+\".csv\"\nmsg.payload.cpl = (msg.payload.data[13] << 16) + msg.payload.data[12]\nmsg.payload.psid = (msg.payload.data[28] << 16) + msg.payload.data[27]\n//let csv = date+\",\"+time+\",\"+value+\"\\r\"\n\n//return {filename:filename,payload:csv}\n\nmsg.payload = [date, time, msg.payload.data[0],msg.payload.data[1],msg.payload.data[2],msg.payload.data[3],msg.payload.data[4],msg.payload.data[5],msg.payload.data[8],msg.payload.cpl,msg.payload.psid]\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 320,
        "y": 1840,
        "wires": [
            []
        ]
    },
    {
        "id": "4827549227d16f22",
        "type": "csv",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "sep": ";",
        "hdrin": true,
        "hdrout": "none",
        "multi": "one",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "x": 490,
        "y": 1840,
        "wires": [
            [
                "4fa20e11b66c560a"
            ]
        ]
    },
    {
        "id": "4fa20e11b66c560a",
        "type": "file",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "filename": "/home/pi/Desktop/logs.csv",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 690,
        "y": 1840,
        "wires": [
            []
        ]
    },
    {
        "id": "5d4eb87a01d917e3",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "DWord",
        "func": "msg.payload.cplp = (msg.payload.data[1] << 16) + msg.payload.data[0]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 1520,
        "wires": [
            [
                "eb547ee084268e49"
            ]
        ]
    },
    {
        "id": "aa7b43993b0482d8",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "DWord",
        "func": "msg.payload.poer = (msg.payload.data[1] << 16) + msg.payload.data[0]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 1720,
        "wires": [
            [
                "30857d498ee003d7"
            ]
        ]
    },
    {
        "id": "fb98dda0d52dc7c5",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "Set base path",
        "func": "//restrict to c:\\temp\\\nvar basePath = \"c:\\\\temp\\\\\";\nvar filename = msg.req.params.fn;\n\n\nif(filename.includes(\"..\\\\\")){\n    msg.payload = \"Illegal file path\";\n    msg.statusCode = 405;//not allowed\n    return [null, msg];//fire output 2\n} else if(filename.includes(\"../\")){\n    msg.payload = \"Illegal file path\";\n    msg.statusCode = 405;//not allowed\n    return [null, msg];//fire output 2\n} \n//TODO: add more checks\n\nmsg.filename = basePath + filename;\nreturn [msg, null];//fire output 1\n\n\n",
        "outputs": 2,
        "noerr": 0,
        "x": 340,
        "y": 1960,
        "wires": [
            [],
            [
                "7fd02fa50f4570d7"
            ]
        ]
    },
    {
        "id": "7fd02fa50f4570d7",
        "type": "http response",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 550,
        "y": 2020,
        "wires": []
    },
    {
        "id": "b32897f6869cdd24",
        "type": "file in",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "filename": "/home/pi/Desktop/logs.csv",
        "filenameType": "str",
        "format": "",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "x": 620,
        "y": 1960,
        "wires": [
            [
                "7fd02fa50f4570d7"
            ]
        ]
    },
    {
        "id": "8680f08308cdc5d0",
        "type": "catch",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 80,
        "y": 2020,
        "wires": [
            [
                "73e1a4a8c6e51bdd"
            ]
        ]
    },
    {
        "id": "73e1a4a8c6e51bdd",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "Set 404",
        "func": "msg.payload = msg.error;\nmsg.statusCode = 404;//resource not found\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 320,
        "y": 2020,
        "wires": [
            [
                "7fd02fa50f4570d7"
            ]
        ]
    },
    {
        "id": "53bea0024b070e6f",
        "type": "debug",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 310,
        "y": 2060,
        "wires": []
    },
    {
        "id": "49a37fcb1b7ee310",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Create http endpoint <nodered>/files/xxx  where xxx is the file name to download",
        "info": "",
        "x": 300,
        "y": 1920,
        "wires": []
    },
    {
        "id": "0682f4e3ce85ee0b",
        "type": "http in",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "url": "/files/:fn",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 90,
        "y": 1960,
        "wires": [
            [
                "fb98dda0d52dc7c5"
            ]
        ]
    },
    {
        "id": "18a4cd4fe06fea5e",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "V2",
        "func": "//msg.payload = msg.payload.data[0];\n//msg.payload = msg.payload.data[1];\n//msg.payload = msg.payload.data[2];\n\nvar msg1 = {payload:msg.payload.data[11]};\n\nreturn [msg1];",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 1040,
        "wires": [
            [
                "3595f2165dd5cde5"
            ]
        ]
    },
    {
        "id": "6fcd19276ef5f1bb",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "DWord",
        "func": "msg.payload.fp = (msg.payload.data[9] << 16) + msg.payload.data[8]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 720,
        "wires": [
            [
                "cf13eb4aa9d971d0"
            ]
        ]
    },
    {
        "id": "8c3eb010fd688619",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "DWord",
        "func": "msg.payload.total = (msg.payload.data[1] << 16) + msg.payload.data[0]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 760,
        "wires": [
            [
                "cad691a6f6cf339c"
            ]
        ]
    },
    {
        "id": "2c962863b913c409",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "d": true,
        "name": "Different",
        "func": "//msg.payload = msg.payload.data[0];\n//msg.payload = msg.payload.data[1];\n//msg.payload = msg.payload.data[2];\n\nvar msg1 = { payload:msg.payload.data[0]};\n\nreturn [msg1];",
        "outputs": 1,
        "noerr": 0,
        "x": 320,
        "y": 2160,
        "wires": [
            []
        ]
    },
    {
        "id": "adc842fb77a913b9",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "if else",
        "func": "//var a = {payload:msg.payload.data[0]};\nvar a = msg.payload;\n\n\n\nif (msg. payload.data[0] == '1')\n   {\n     msg.payload = '*';\n   }\n   \nelse if (msg. payload.data[0] == '2')\n   {\n     msg. payload = '**';\n     \n   }\nelse if (msg. payload.data[0] == '3')\n   {\n     msg. payload = '***';\n   }\nelse if (msg. payload.data[0] == '4')\n   {\n     msg. payload = '****';\n   }\nelse if (msg. payload.data[0] >= '5' && msg. payload.data[0] <= '25')\n   {\n     msg. payload = '*****';\n   }\nelse \n   {\n     msg.payload = 'undefined';\n   }\n\n\n/*if ({payload:msg.payload.data[0]} == '1')\n   {\n       msg.payload = '*';\n   }\n   \nelse if ({payload:msg.payload.data[0]} == '2')\n   {\n     msg. payload = '**';\n   }\nelse if ({payload:msg.payload.data[0]} == '3')\n   {\n     msg. payload = '***';\n   }\nelse if ({payload:msg.payload.data[0]} == '4')\n   {\n     msg. payload = '****';\n   }\nelse \n   {\n     msg. payload = '*****';\n   }*/\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 2200,
        "wires": [
            [
                "aa9a509e881394ef"
            ]
        ]
    },
    {
        "id": "712820f444edf2e6",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "if else",
        "func": "//var a = {payload:msg.payload.data[0]};\nvar a = msg.payload;\n\nif (msg. payload.data[0] == '0')\n   {\n       msg.payload = 'undefined';\n   }\n\nelse if (msg. payload.data[0] == '1')\n   {\n       msg.payload = 'the quality of your filter is very poor';\n   }\n   \nelse if (msg. payload.data[0] == '2')\n   {\n     msg. payload = 'decrease I S O code from incoming to outgoing is very bad';\n   }\nelse if (msg. payload.data[0] == '3')\n   {\n     msg. payload = 'decrease I S O code from incoming to outgoing is bad';\n   }\nelse if (msg. payload.data[0] == '4')\n   {\n     msg. payload = 'decreasing I S O code from incoming to outgoing is good';\n   }\nelse \n   {\n     msg. payload = 'decrease I S O code from incoming to outgoing is very good';\n   }\n\n\n/*if ({payload:msg.payload.data[0]} == '1')\n   {\n       msg.payload = '*';\n   }\n   \nelse if ({payload:msg.payload.data[0]} == '2')\n   {\n     msg. payload = '**';\n   }\nelse if ({payload:msg.payload.data[0]} == '3')\n   {\n     msg. payload = '***';\n   }\nelse if ({payload:msg.payload.data[0]} == '4')\n   {\n     msg. payload = '****';\n   }\nelse \n   {\n     msg. payload = '*****';\n   }*/\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 2240,
        "wires": [
            []
        ]
    },
    {
        "id": "c7fbcaed0c032197",
        "type": "switch",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "property": "payload.data[3]",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "18",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 120,
        "wires": [
            [
                "4862b3901213bec2"
            ]
        ]
    },
    {
        "id": "4862b3901213bec2",
        "type": "delay",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "10",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 460,
        "y": 120,
        "wires": [
            [
                "73bb3ac4b67ff35a"
            ]
        ]
    },
    {
        "id": "f3e552697f944143",
        "type": "switch",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "property": "payload.data[0]",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "22",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 80,
        "wires": [
            [
                "c4539a58beb11bfc"
            ]
        ]
    },
    {
        "id": "c4539a58beb11bfc",
        "type": "delay",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "10",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 460,
        "y": 80,
        "wires": [
            [
                "2587d174bdb0321c"
            ]
        ]
    },
    {
        "id": "fca61706af2e0cbf",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Popup notification, if fuel incoming or outgoing out of range",
        "info": "",
        "x": 470,
        "y": 40,
        "wires": []
    },
    {
        "id": "255708f191ac96f4",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Before filtration - ISO Class",
        "info": "",
        "x": 370,
        "y": 160,
        "wires": []
    },
    {
        "id": "1353737a9b831960",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "After filtration - ISO Class",
        "info": "",
        "x": 370,
        "y": 320,
        "wires": []
    },
    {
        "id": "89f5bb5193c6e321",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Log Chart before & after - ISO Class",
        "info": "",
        "x": 400,
        "y": 480,
        "wires": []
    },
    {
        "id": "37835e9afb10a0ed",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Flowmeter fuel pass and totalizer",
        "info": "",
        "x": 390,
        "y": 680,
        "wires": []
    },
    {
        "id": "63cd911c06044c78",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Before filtration - Particle Count",
        "info": "",
        "x": 690,
        "y": 160,
        "wires": []
    },
    {
        "id": "49bea3efefa153b7",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "After filtration - Particle Count",
        "info": "",
        "x": 680,
        "y": 320,
        "wires": []
    },
    {
        "id": "c2fc7044c08e6c26",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Differential pressure transmitter",
        "info": "",
        "x": 150,
        "y": 860,
        "wires": []
    },
    {
        "id": "27f31709e3751dac",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Indicator vessel",
        "info": "",
        "x": 100,
        "y": 980,
        "wires": []
    },
    {
        "id": "023297335afec1de",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Flowmeter - Fuel pass from element replacement",
        "info": "",
        "x": 200,
        "y": 1100,
        "wires": []
    },
    {
        "id": "8999f934a5e5eff0",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Pump Control",
        "info": "",
        "x": 90,
        "y": 1200,
        "wires": []
    },
    {
        "id": "ee056079461a14e5",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Calculation - Filter price, number elements & CPL",
        "info": "",
        "x": 200,
        "y": 1300,
        "wires": []
    },
    {
        "id": "4086ddeaad6b0882",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Prediction [ℓ] - ISO In & Out",
        "info": "",
        "x": 130,
        "y": 1600,
        "wires": []
    },
    {
        "id": "292ffcb904b700d9",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Data Logger /home/pi/Desktop/logs.csv",
        "info": "",
        "x": 170,
        "y": 1800,
        "wires": []
    },
    {
        "id": "e156afdee5f29d42",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Differential ISO Code before and after filtration",
        "info": "",
        "x": 190,
        "y": 2120,
        "wires": []
    },
    {
        "id": "e1b5fbbea37aba22",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "14 Mikron",
        "func": "msg.payload = (msg.payload.data[1] << 16) + msg.payload.data[0]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 440,
        "wires": [
            [
                "8f30656c977538d3"
            ]
        ]
    },
    {
        "id": "8892ea16b5ad76a6",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "6 Mikron",
        "func": "msg.payload = (msg.payload.data[1] << 16) + msg.payload.data[0]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 400,
        "wires": [
            [
                "dff99cd7d48dc0b8"
            ]
        ]
    },
    {
        "id": "f90cc4a954c53c28",
        "type": "function",
        "z": "cc31473f4e5c34b2",
        "name": "4 Mikron",
        "func": "msg.payload = (msg.payload.data[1] << 16) + msg.payload.data[0]\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 620,
        "y": 360,
        "wires": [
            [
                "2083041e778ba218"
            ]
        ]
    },
    {
        "id": "0ee7f19fcc34da2b",
        "type": "comment",
        "z": "cc31473f4e5c34b2",
        "name": "Flowmeter - Fuel pass simulation",
        "info": "",
        "x": 150,
        "y": 2300,
        "wires": []
    },
    {
        "id": "ed548377f7a0599a",
        "type": "ui_dropdown",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "label": "",
        "tooltip": "",
        "place": "Number of Elements",
        "group": "e38c5cff71f6dbce",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "multiple": false,
        "options": [
            {
                "label": "1",
                "value": 1,
                "type": "num"
            },
            {
                "label": "2",
                "value": 2,
                "type": "num"
            },
            {
                "label": "3",
                "value": 3,
                "type": "num"
            },
            {
                "label": "4",
                "value": 4,
                "type": "num"
            },
            {
                "label": "5",
                "value": 5,
                "type": "num"
            },
            {
                "label": "6",
                "value": 6,
                "type": "num"
            },
            {
                "label": "7",
                "value": 7,
                "type": "num"
            },
            {
                "label": "8",
                "value": 8,
                "type": "num"
            },
            {
                "label": "9",
                "value": 9,
                "type": "num"
            },
            {
                "label": "10",
                "value": 10,
                "type": "num"
            },
            {
                "label": "15",
                "value": "15",
                "type": "str"
            },
            {
                "label": "20",
                "value": "20",
                "type": "str"
            },
            {
                "label": "25",
                "value": "25",
                "type": "str"
            },
            {
                "label": "30",
                "value": "30",
                "type": "str"
            },
            {
                "label": "40",
                "value": "40",
                "type": "str"
            },
            {
                "label": "50",
                "value": "50",
                "type": "str"
            },
            {
                "label": "60",
                "value": "60",
                "type": "str"
            },
            {
                "label": "70",
                "value": "70",
                "type": "str"
            },
            {
                "label": "80",
                "value": "80",
                "type": "str"
            },
            {
                "label": "90",
                "value": "90",
                "type": "str"
            },
            {
                "label": "95",
                "value": "95",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "topicType": "str",
        "x": 80,
        "y": 1400,
        "wires": [
            [
                "d9aedb681326fec3"
            ]
        ]
    },
    {
        "id": "c12cc42589dfa720",
        "type": "ui_dropdown",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "label": "",
        "tooltip": "",
        "place": "Before - ISO Class",
        "group": "2378c71389a2f4fc",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "multiple": false,
        "options": [
            {
                "label": "22/20/18",
                "value": 9,
                "type": "num"
            },
            {
                "label": "21/20/18",
                "value": "8",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "topicType": "str",
        "x": 80,
        "y": 1640,
        "wires": [
            [
                "41b5522443072945"
            ]
        ]
    },
    {
        "id": "3267649985fc0ecc",
        "type": "ui_dropdown",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "label": "",
        "tooltip": "",
        "place": "After - ISO Class",
        "group": "2378c71389a2f4fc",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "18/16/14",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "topicType": "str",
        "x": 80,
        "y": 1680,
        "wires": [
            []
        ]
    },
    {
        "id": "fc1fbbccbdaaf878",
        "type": "ui_switch",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "label": "Pump Control [On - Off]",
        "tooltip": "",
        "group": "7f1199e1e9bd43c2",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "x": 130,
        "y": 1240,
        "wires": [
            [
                "3d1d931eb96a9e41"
            ]
        ]
    },
    {
        "id": "2ab79343a3d161a4",
        "type": "ui_switch",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "label": "Reset Fuel Pass",
        "tooltip": "",
        "group": "fb077ebba1b0ac2d",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "x": 100,
        "y": 1140,
        "wires": [
            [
                "cfc57231e1f77e0a"
            ]
        ]
    },
    {
        "id": "013eac06b7481e7b",
        "type": "ui_switch",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "label": "Fuel Pass Simulation",
        "tooltip": "",
        "group": "908dd1cf185b69d1",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "x": 120,
        "y": 2340,
        "wires": [
            [
                "4803cd88c7c2a65b"
            ]
        ]
    },
    {
        "id": "cf13eb4aa9d971d0",
        "type": "ui_text",
        "z": "cc31473f4e5c34b2",
        "group": "fb077ebba1b0ac2d",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Fuel Pass From Element Replacement [ℓ]",
        "format": "{{msg.payload.fp}}",
        "layout": "row-spread",
        "x": 580,
        "y": 720,
        "wires": []
    },
    {
        "id": "cad691a6f6cf339c",
        "type": "ui_text",
        "z": "cc31473f4e5c34b2",
        "group": "fb077ebba1b0ac2d",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Totalizer Flowmeter [ℓ]",
        "format": "{{msg.payload.total}}",
        "layout": "row-spread",
        "x": 520,
        "y": 760,
        "wires": []
    },
    {
        "id": "e7eb0a3cbe662b17",
        "type": "ui_text",
        "z": "cc31473f4e5c34b2",
        "group": "e38c5cff71f6dbce",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "CPL Actual [IDR/ℓ]",
        "format": "{{msg.payload.cpl}}",
        "layout": "row-spread",
        "x": 530,
        "y": 1460,
        "wires": []
    },
    {
        "id": "30857d498ee003d7",
        "type": "ui_text",
        "z": "cc31473f4e5c34b2",
        "group": "2378c71389a2f4fc",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Prediction of Element Replacement [ℓ]",
        "format": "{{msg.payload.poer}}",
        "layout": "row-spread",
        "x": 550,
        "y": 1720,
        "wires": []
    },
    {
        "id": "eb547ee084268e49",
        "type": "ui_text",
        "z": "cc31473f4e5c34b2",
        "group": "e38c5cff71f6dbce",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "CPL Prediction [IDR/ℓ]",
        "format": "{{msg.payload.cplp}}",
        "layout": "row-spread",
        "x": 540,
        "y": 1520,
        "wires": []
    },
    {
        "id": "dac180204770c392",
        "type": "ui_gauge",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "group": "908dd1cf185b69d1",
        "order": 1,
        "width": 6,
        "height": 3,
        "gtype": "gage",
        "title": "",
        "label": "Psid",
        "format": "{{payload.data[0]}}",
        "min": 0,
        "max": "25",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 310,
        "y": 900,
        "wires": []
    },
    {
        "id": "40e88b8b3399aed1",
        "type": "ui_audio",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "group": "079285126f863981",
        "voice": "en-US",
        "always": "",
        "x": 480,
        "y": 2240,
        "wires": []
    },
    {
        "id": "73bb3ac4b67ff35a",
        "type": "ui_toast",
        "z": "cc31473f4e5c34b2",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "OK",
        "cancel": "",
        "raw": true,
        "topic": "The quality of the fuel after filtration is very poor",
        "name": "",
        "x": 650,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "2587d174bdb0321c",
        "type": "ui_toast",
        "z": "cc31473f4e5c34b2",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "OK",
        "cancel": "",
        "raw": true,
        "className": "",
        "topic": "The quality of the fuel before filtration is very poor",
        "name": "",
        "x": 650,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "eaf205e11aaa1364",
        "type": "ui_chart",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "group": "c54415c6de77a96b",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "25",
        "removeOlder": 1,
        "removeOlderPoints": "250",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#ff9b00",
            "#0f8cc8",
            "#058246",
            "#be0505",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 490,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "7527e555700376df",
        "type": "ui_chart",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "group": "cbab75ebc61a2212",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "25",
        "removeOlder": 1,
        "removeOlderPoints": "250",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#ff9b00",
            "#0f8cc8",
            "#058246",
            "#be0505",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 490,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "b4a9abf70d8ba153",
        "type": "ui_template",
        "z": "cc31473f4e5c34b2",
        "d": true,
        "group": "fb077ebba1b0ac2d",
        "name": "logs.csv",
        "order": 3,
        "width": 0,
        "height": 0,
        "format": "<div>\n    <a href=\"/files/logs.csv\">logs.csv</a>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 480,
        "y": 2060,
        "wires": [
            []
        ]
    },
    {
        "id": "f2d476763534a549",
        "type": "ui_template",
        "z": "cc31473f4e5c34b2",
        "group": "079285126f863981",
        "name": "Download File",
        "order": 5,
        "width": 0,
        "height": 0,
        "format": "<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:#2980b9\"   ng-click=\"send({payload: 'Hello World'})\" href=\"/files/logs.csv\"> \n    Download File <br/> [Comma Separated Values]\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 660,
        "y": 2060,
        "wires": [
            []
        ]
    },
    {
        "id": "31fb5339b7fdc416",
        "type": "ui_template",
        "z": "cc31473f4e5c34b2",
        "d": true,
        "group": "fb077ebba1b0ac2d",
        "name": "css etc",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n  .filled { \n      height: 100% !important;\n\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n  .nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n  \n  .rounded {\n  border-radius: 12px 12px 12px 12px;\n}\n \n   .bigfont {\n  font-size: 18px;\n}\n\n   .smallfont {\n  font-size: 12px;\n}\n  \n</style>\n\n<script>\n$('.vibrate').on('click', function() {\n  navigator.vibrate(100);\n});\n\nfunction restore_bg(x) {\n            $(this).css(\"background-color\", x);\n    };\n\n$('.touched').on('mousedown', function() {\n    \n    var x= $(this).css(\"background-color\");\n    $(this).css(\"background-color\", \"white\");\n    \n    setTimeout(restore_bg.bind(this,x),100);\n    navigator.vibrate(80);\n    });\n    \n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 80,
        "y": 2060,
        "wires": [
            []
        ]
    },
    {
        "id": "aa9a509e881394ef",
        "type": "ui_template",
        "z": "cc31473f4e5c34b2",
        "group": "079285126f863981",
        "name": "",
        "order": 3,
        "width": "4",
        "height": 1,
        "format": "<div>\n    <img ng-if=\"msg.payload === '*'\" src=\"https://i.ibb.co/mJ6KrN2/w-star1.jpg\" height=\"25\" width=\"160\" >\n    <img ng-if=\"msg.payload === '**'\" src=\"https://i.ibb.co/fF4j1zB/w-star2.jpg\" height=\"25\" width=\"160\">\n    <img ng-if=\"msg.payload === '***'\" src=\"https://i.ibb.co/1JWwjZZ/w-star3.jpg\" height=\"25\" width=\"160\">\n    <img ng-if=\"msg.payload === '****'\" src=\"https://i.ibb.co/5Gyb28q/w-star4.jpg\" height=\"25\" width=\"160\">\n    <img ng-if=\"msg.payload === '*****'\" src=\"https://i.ibb.co/qnN93h9/w-star5.jpg\" height=\"25\" width=\"160\">\n    <img ng-if=\"msg.payload === 'undefined'\" src=\"https://i.ibb.co/dPFFJh8/w-undefined.jpg\" height=\"25\" width=\"160\">\n\n\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 480,
        "y": 2200,
        "wires": [
            []
        ]
    },
    {
        "id": "7440db42207ce88d",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "ModbusIn",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "0",
        "quantity": "50",
        "rate": "1210",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 100,
        "y": 160,
        "wires": [
            [],
            [
                "17dfa257940aa3a4",
                "ea57a369a32442f3",
                "5a5e63273176cb17",
                "ac576f50e3a35555",
                "74ddf8d6a50b51f0",
                "3a22d0955fe68df3",
                "124a043403fbb098",
                "0fb50052acb40d0e",
                "6fcd19276ef5f1bb",
                "c7fbcaed0c032197",
                "f3e552697f944143"
            ]
        ]
    },
    {
        "id": "e3b242f2d9e3bc3f",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "Modbus DPI",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "27",
        "quantity": "10",
        "rate": "1210",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 110,
        "y": 900,
        "wires": [
            [],
            [
                "dac180204770c392"
            ]
        ]
    },
    {
        "id": "8b32cd80d6432ac6",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "Modbus Vs",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "Coil",
        "adr": "10",
        "quantity": "10",
        "rate": "1210",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 100,
        "y": 1020,
        "wires": [
            [],
            [
                "91c24286870372ba",
                "18a4cd4fe06fea5e"
            ]
        ]
    },
    {
        "id": "a702d0149272ffb5",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "Modbus CPL",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "12",
        "quantity": "2",
        "rate": "1210",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 110,
        "y": 1460,
        "wires": [
            [],
            [
                "afdab8691183b9f1"
            ]
        ]
    },
    {
        "id": "77577944db5aa887",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "ModbusLog",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "0",
        "quantity": "30",
        "rate": "10",
        "rateUnit": "m",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 110,
        "y": 1840,
        "wires": [
            [],
            [
                "b85a07525b85bfba"
            ]
        ]
    },
    {
        "id": "935771885a3fef4a",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "Modbus CPLP",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "37",
        "quantity": "2",
        "rate": "1210",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 110,
        "y": 1520,
        "wires": [
            [],
            [
                "5d4eb87a01d917e3"
            ]
        ]
    },
    {
        "id": "0d44da419247a39b",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "Modbus [ℓ]",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "50",
        "quantity": "2",
        "rate": "1210",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 100,
        "y": 1720,
        "wires": [
            [],
            [
                "aa7b43993b0482d8"
            ]
        ]
    },
    {
        "id": "8e8e0b3a634337bf",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "Modbus Voice",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "60",
        "quantity": "1",
        "rate": "10",
        "rateUnit": "m",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "d039a0169ca69164",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 110,
        "y": 2240,
        "wires": [
            [],
            [
                "712820f444edf2e6"
            ]
        ]
    },
    {
        "id": "179657a93174d5ad",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "ModbusIn",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "101",
        "quantity": "2",
        "rate": "1210",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 460,
        "y": 240,
        "wires": [
            [],
            [
                "93e230f8c4ef6f35"
            ]
        ]
    },
    {
        "id": "bfd789c1b41726c9",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "ModbusIn",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "10",
        "quantity": "2",
        "rate": "1210",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 460,
        "y": 200,
        "wires": [
            [],
            [
                "9c3b8a1abceec927"
            ]
        ]
    },
    {
        "id": "e0ad0d40d3087df0",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "ModbusIn",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "203",
        "quantity": "2",
        "rate": "1210",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 460,
        "y": 280,
        "wires": [
            [],
            [
                "fefda4542d075a36"
            ]
        ]
    },
    {
        "id": "ea24b236c027f393",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "ModbusIn",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "70",
        "quantity": "2",
        "rate": "1210",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 100,
        "y": 760,
        "wires": [
            [],
            [
                "8c3eb010fd688619"
            ]
        ]
    },
    {
        "id": "534ce1506e4e028f",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "ModbusIn",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "310",
        "quantity": "2",
        "rate": "1210",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 460,
        "y": 360,
        "wires": [
            [],
            [
                "f90cc4a954c53c28"
            ]
        ]
    },
    {
        "id": "71dc2f8045d0a41f",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "ModbusIn",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "201",
        "quantity": "2",
        "rate": "1210",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 460,
        "y": 400,
        "wires": [
            [],
            [
                "8892ea16b5ad76a6"
            ]
        ]
    },
    {
        "id": "a94b703a1100bf04",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "ModbusIn",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "402",
        "quantity": "2",
        "rate": "1210",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 460,
        "y": 440,
        "wires": [
            [],
            [
                "e1b5fbbea37aba22"
            ]
        ]
    },
    {
        "id": "ae188ec4b113d3b9",
        "type": "modbus-read",
        "z": "cc31473f4e5c34b2",
        "name": "ModbusIn",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "60",
        "quantity": "1",
        "rate": "1210",
        "rateUnit": "ms",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "724c6224b24f2136",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 100,
        "y": 2180,
        "wires": [
            [],
            [
                "adc842fb77a913b9"
            ]
        ]
    },
    {
        "id": "3d1d931eb96a9e41",
        "type": "modbus-write",
        "z": "cc31473f4e5c34b2",
        "name": "PumpModule",
        "showStatusActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "Coil",
        "adr": "200",
        "quantity": "1",
        "server": "724c6224b24f2136",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "x": 330,
        "y": 1240,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "cfc57231e1f77e0a",
        "type": "modbus-write",
        "z": "cc31473f4e5c34b2",
        "name": "Fuelpass",
        "showStatusActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "Coil",
        "adr": "206",
        "quantity": "1",
        "server": "724c6224b24f2136",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "x": 320,
        "y": 1140,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "ef04dd27e25cbb81",
        "type": "modbus-write",
        "z": "cc31473f4e5c34b2",
        "name": "Filter price",
        "showStatusActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "16",
        "quantity": "1",
        "server": "724c6224b24f2136",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "x": 330,
        "y": 1340,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d9aedb681326fec3",
        "type": "modbus-write",
        "z": "cc31473f4e5c34b2",
        "name": "No. Elements",
        "showStatusActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "14",
        "quantity": "1",
        "server": "724c6224b24f2136",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "x": 340,
        "y": 1400,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "41b5522443072945",
        "type": "modbus-write",
        "z": "cc31473f4e5c34b2",
        "name": "Prediction [ℓ]",
        "showStatusActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "35",
        "quantity": "1",
        "server": "724c6224b24f2136",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "x": 330,
        "y": 1640,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4803cd88c7c2a65b",
        "type": "modbus-write",
        "z": "cc31473f4e5c34b2",
        "name": "Fuelpass",
        "showStatusActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "Coil",
        "adr": "0",
        "quantity": "1",
        "server": "724c6224b24f2136",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "x": 320,
        "y": 2340,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f5a431d4665b734b",
        "type": "ui_dropdown",
        "z": "cc31473f4e5c34b2",
        "name": "",
        "label": "",
        "tooltip": "",
        "place": "Number of Elements",
        "group": "e38c5cff71f6dbce",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "multiple": false,
        "options": [
            {
                "label": "DFO-629PLF2",
                "value": 230,
                "type": "num"
            },
            {
                "label": "DFO-629PLF5",
                "value": 350,
                "type": "num"
            },
            {
                "label": "DFO-629PLF10",
                "value": 380,
                "type": "num"
            },
            {
                "label": "DFO-629PLF2",
                "value": 400,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "",
        "topicType": "str",
        "x": 80,
        "y": 1340,
        "wires": [
            [
                "ef04dd27e25cbb81"
            ]
        ]
    },
    {
        "id": "74ddf8d6a50b51f0",
        "type": "ui_artlessgauge",
        "z": "cc31473f4e5c34b2",
        "group": "59a5908c73e6b715",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "4μ",
        "icon": "fa-fire",
        "label": "4μ",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.data[3]",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#ff9b00",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#ff9b00",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "5",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 310,
        "y": 360,
        "wires": []
    },
    {
        "id": "ac576f50e3a35555",
        "type": "ui_artlessgauge",
        "z": "cc31473f4e5c34b2",
        "group": "59a5908c73e6b715",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "6μ",
        "icon": "fa-fire",
        "label": "6μ",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.data[4]",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#0f8cc8",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#0f8cc8",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "5",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 310,
        "y": 400,
        "wires": []
    },
    {
        "id": "5a5e63273176cb17",
        "type": "ui_artlessgauge",
        "z": "cc31473f4e5c34b2",
        "group": "59a5908c73e6b715",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "14μ",
        "icon": "fa-fire",
        "label": "14μ",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.data[5]",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#058246",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#058246",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "5",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 310,
        "y": 440,
        "wires": []
    },
    {
        "id": "3a22d0955fe68df3",
        "type": "ui_artlessgauge",
        "z": "cc31473f4e5c34b2",
        "group": "d955c3cfa88f0638",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "4μ",
        "icon": "fa-fire",
        "label": "4μ",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.data[0]",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#ff9b00",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#ff9b00",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "5",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 310,
        "y": 200,
        "wires": []
    },
    {
        "id": "124a043403fbb098",
        "type": "ui_artlessgauge",
        "z": "cc31473f4e5c34b2",
        "group": "d955c3cfa88f0638",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "6μ",
        "icon": "fa-fire",
        "label": "6μ",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.data[1]",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#0f8cc8",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#0f8cc8",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "5",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 310,
        "y": 240,
        "wires": []
    },
    {
        "id": "0fb50052acb40d0e",
        "type": "ui_artlessgauge",
        "z": "cc31473f4e5c34b2",
        "group": "d955c3cfa88f0638",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "14μ",
        "icon": "fa-fire",
        "label": "14μ",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.data[2]",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#058246",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#058246",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "5",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 310,
        "y": 280,
        "wires": []
    },
    {
        "id": "909c721b3ac45bea",
        "type": "ui_level",
        "z": "cc31473f4e5c34b2",
        "group": "b621ccddfa1d49ef",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "14μ",
        "label": "14μ : ",
        "colorHi": "#e60000",
        "colorWarn": "#058246",
        "colorNormal": "#058246",
        "colorOff": "#595959",
        "min": 0,
        "max": "250000",
        "segWarn": "",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload",
        "peaktime": 3000,
        "x": 770,
        "y": 280,
        "wires": []
    },
    {
        "id": "38a024770e636433",
        "type": "ui_level",
        "z": "cc31473f4e5c34b2",
        "group": "b621ccddfa1d49ef",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "6μ",
        "label": "6μ : ",
        "colorHi": "#e60000",
        "colorWarn": "#0f8cc8",
        "colorNormal": "#0f8cc8",
        "colorOff": "#595959",
        "min": 0,
        "max": "1000000",
        "segWarn": "",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload",
        "peaktime": 3000,
        "x": 770,
        "y": 240,
        "wires": []
    },
    {
        "id": "4afd43a3c21ed1d5",
        "type": "ui_level",
        "z": "cc31473f4e5c34b2",
        "group": "b621ccddfa1d49ef",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "4μ",
        "label": "4μ : ",
        "colorHi": "#e60000",
        "colorWarn": "#ff9b00",
        "colorNormal": "#ff9b00",
        "colorOff": "#595959",
        "min": 0,
        "max": "4000000",
        "segWarn": "",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload",
        "peaktime": 3000,
        "x": 770,
        "y": 200,
        "wires": []
    },
    {
        "id": "2083041e778ba218",
        "type": "ui_level",
        "z": "cc31473f4e5c34b2",
        "group": "310da89537fe440a",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "4μ",
        "label": "4μ : ",
        "colorHi": "#e60000",
        "colorWarn": "#ff9b00",
        "colorNormal": "#ff9b00",
        "colorOff": "#595959",
        "min": 0,
        "max": "250000",
        "segWarn": "",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload",
        "peaktime": 3000,
        "x": 770,
        "y": 360,
        "wires": []
    },
    {
        "id": "dff99cd7d48dc0b8",
        "type": "ui_level",
        "z": "cc31473f4e5c34b2",
        "group": "310da89537fe440a",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "6μ",
        "label": "6μ : ",
        "colorHi": "#e60000",
        "colorWarn": "#0f8cc8",
        "colorNormal": "#0f8cc8",
        "colorOff": "#595959",
        "min": 0,
        "max": "64000",
        "segWarn": "",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload",
        "peaktime": 3000,
        "x": 770,
        "y": 400,
        "wires": []
    },
    {
        "id": "8f30656c977538d3",
        "type": "ui_level",
        "z": "cc31473f4e5c34b2",
        "group": "310da89537fe440a",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "14μ",
        "label": "14μ : ",
        "colorHi": "#e60000",
        "colorWarn": "#058246",
        "colorNormal": "#058246",
        "colorOff": "#595959",
        "min": 0,
        "max": "16000",
        "segWarn": "",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload",
        "peaktime": 3000,
        "x": 770,
        "y": 440,
        "wires": []
    },
    {
        "id": "690825bd3b230630",
        "type": "ui_led",
        "z": "cc31473f4e5c34b2",
        "order": 2,
        "group": "7f1199e1e9bd43c2",
        "width": 0,
        "height": 0,
        "label": "Indicator Vessel 1",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 450,
        "y": 1000,
        "wires": []
    },
    {
        "id": "3595f2165dd5cde5",
        "type": "ui_led",
        "z": "cc31473f4e5c34b2",
        "order": 3,
        "group": "7f1199e1e9bd43c2",
        "width": 0,
        "height": 0,
        "label": "Indicator Vessel 2",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 450,
        "y": 1040,
        "wires": []
    },
    {
        "id": "2eb1018c7dc7fa97",
        "type": "http in",
        "z": "3775376128915c88",
        "name": "",
        "url": "/dpi",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 480,
        "y": 80,
        "wires": [
            [
                "ed33575005db8b37"
            ]
        ]
    },
    {
        "id": "ed33575005db8b37",
        "type": "random",
        "z": "3775376128915c88",
        "name": "",
        "low": "10",
        "high": "99",
        "inte": "true",
        "property": "payload",
        "x": 660,
        "y": 80,
        "wires": [
            [
                "096eae9d9bdc45a1"
            ]
        ]
    },
    {
        "id": "096eae9d9bdc45a1",
        "type": "function",
        "z": "3775376128915c88",
        "name": "function 1",
        "func": "msg.payload = '{\"dpi\":'+ msg.payload + '}';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 80,
        "wires": [
            [
                "0036924888b0e43b"
            ]
        ]
    },
    {
        "id": "0036924888b0e43b",
        "type": "http response",
        "z": "3775376128915c88",
        "name": "",
        "statusCode": "200",
        "headers": {
            "Conten-Type": "application/json"
        },
        "x": 1020,
        "y": 80,
        "wires": []
    },
    {
        "id": "b544651a5c94356c",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "22-23",
        "low": "22",
        "high": "23",
        "inte": "true",
        "property": "payload.before_code_4um",
        "x": 270,
        "y": 160,
        "wires": [
            [
                "b51f82c880a4170c",
                "d38afef9e7954220"
            ]
        ]
    },
    {
        "id": "a10d43c542aaf774",
        "type": "inject",
        "z": "9528cf535383c9df",
        "name": "",
        "props": [],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 145,
        "y": 940,
        "wires": [
            [
                "b544651a5c94356c",
                "879b6250a0187bdc",
                "29aa5d56cbde17f7",
                "c2a320e5d4eaceb3",
                "b5c3cc0cfeaa8aa5",
                "18a88df87f55cb0e",
                "f746f7e9ccd015dd",
                "a4c55e7e41c50f46",
                "53f47fc.c84908",
                "65a47c10.e24204",
                "d97d2f171b5b8382"
            ]
        ],
        "l": false
    },
    {
        "id": "328dde2777d55f64",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "23",
        "property": "payload.before_count_4um",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "23",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 160,
        "wires": [
            [
                "ef080130077a2733"
            ]
        ]
    },
    {
        "id": "1153c54cdad8175e",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "22",
        "property": "payload.before_count_4um",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "22",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 200,
        "wires": [
            [
                "faebabe058008b28"
            ]
        ]
    },
    {
        "id": "ef080130077a2733",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "",
        "low": "40000",
        "high": "80000",
        "inte": "true",
        "property": "payload.before_count_4um",
        "x": 615,
        "y": 160,
        "wires": [
            [
                "5d8b4e1d75a1ab83"
            ]
        ],
        "l": false
    },
    {
        "id": "faebabe058008b28",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "",
        "low": "20000",
        "high": "40000",
        "inte": "true",
        "property": "payload.before_count_4um",
        "x": 615,
        "y": 200,
        "wires": [
            [
                "5d8b4e1d75a1ab83"
            ]
        ],
        "l": false
    },
    {
        "id": "0c57293967683ae8",
        "type": "ui_artlessgauge",
        "z": "9528cf535383c9df",
        "group": "de7007329f0691c0",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "4μm",
        "icon": "",
        "label": "4μm",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#595959",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.before_code_4um",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#dc3845",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#dc3845",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "7",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 710,
        "y": 120,
        "wires": []
    },
    {
        "id": "62ee056ac703f2bc",
        "type": "ui_level",
        "z": "9528cf535383c9df",
        "group": "a5a415f45a096169",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "4μ",
        "label": "4μm: ",
        "colorHi": "#dc3445",
        "colorWarn": "#fd7e14",
        "colorNormal": "#198754",
        "colorOff": "#595959",
        "min": 0,
        "max": "80000",
        "segWarn": "0",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload.before_count_4um",
        "peaktime": 3000,
        "x": 1010,
        "y": 180,
        "wires": []
    },
    {
        "id": "879b6250a0187bdc",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "20-21",
        "low": "20",
        "high": "21",
        "inte": "true",
        "property": "payload.before_code_6um",
        "x": 270,
        "y": 280,
        "wires": [
            [
                "cf2e950cadfec639",
                "4552dc92fff22346"
            ]
        ]
    },
    {
        "id": "bc598cad0d73b06d",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "21",
        "property": "payload.before_count_6um",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "21",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 280,
        "wires": [
            [
                "557e6f0f6b0efa55"
            ]
        ]
    },
    {
        "id": "1cf8b0e2faaab7d0",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "20",
        "property": "payload.before_count_6um",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "20",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 320,
        "wires": [
            [
                "d84a69eb936dbea9"
            ]
        ]
    },
    {
        "id": "557e6f0f6b0efa55",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "",
        "low": "10000",
        "high": "20000",
        "inte": "true",
        "property": "payload.before_count_6um",
        "x": 615,
        "y": 280,
        "wires": [
            [
                "94af95ec73c9b5f1"
            ]
        ],
        "l": false
    },
    {
        "id": "d84a69eb936dbea9",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "",
        "low": "5000",
        "high": "10000",
        "inte": "true",
        "property": "payload.before_count_6um",
        "x": 615,
        "y": 320,
        "wires": [
            [
                "94af95ec73c9b5f1"
            ]
        ],
        "l": false
    },
    {
        "id": "d7c50d28b792f41a",
        "type": "ui_artlessgauge",
        "z": "9528cf535383c9df",
        "group": "de7007329f0691c0",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "6μm",
        "icon": "",
        "label": "6μm",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.before_code_6um",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#fd7e14",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#fd7e14",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "7",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 710,
        "y": 240,
        "wires": []
    },
    {
        "id": "29aa5d56cbde17f7",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "18-19",
        "low": "18",
        "high": "19",
        "inte": "true",
        "property": "payload.before_code_14um",
        "x": 270,
        "y": 400,
        "wires": [
            [
                "4cc2ab619534c94a",
                "577daf36e558ae55"
            ]
        ]
    },
    {
        "id": "1f526466c3a7a971",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "19",
        "property": "payload.before_count_14um",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "19",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 400,
        "wires": [
            [
                "6c26a875243c69b1"
            ]
        ]
    },
    {
        "id": "0939a00e33b17179",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "18",
        "property": "payload.before_count_14um",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "18",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 440,
        "wires": [
            [
                "f5346dd39b779ed5"
            ]
        ]
    },
    {
        "id": "6c26a875243c69b1",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "",
        "low": "2500",
        "high": "5000",
        "inte": "true",
        "property": "payload.before_count_14um",
        "x": 615,
        "y": 400,
        "wires": [
            [
                "a878491d99db8ca6"
            ]
        ],
        "l": false
    },
    {
        "id": "f5346dd39b779ed5",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "",
        "low": "1300",
        "high": "2500",
        "inte": "true",
        "property": "payload.before_count_14um",
        "x": 615,
        "y": 440,
        "wires": [
            [
                "a878491d99db8ca6"
            ]
        ],
        "l": false
    },
    {
        "id": "914398947c9830ac",
        "type": "ui_artlessgauge",
        "z": "9528cf535383c9df",
        "group": "de7007329f0691c0",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "14μm",
        "icon": "",
        "label": "14μm",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.before_code_14um",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#198754",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#198754",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "7",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 710,
        "y": 360,
        "wires": []
    },
    {
        "id": "01656a535e6e6a06",
        "type": "comment",
        "z": "9528cf535383c9df",
        "name": "ISO Code & Number of Particles Before Filtration System",
        "info": "",
        "x": 430,
        "y": 60,
        "wires": []
    },
    {
        "id": "b51f82c880a4170c",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "before_code_4um",
                "pt": "flow",
                "to": "payload.before_code_4um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 120,
        "wires": [
            [
                "0c57293967683ae8",
                "2857e7cba6a521fd"
            ]
        ]
    },
    {
        "id": "cf2e950cadfec639",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "before_code_6um",
                "pt": "flow",
                "to": "payload.before_code_6um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 240,
        "wires": [
            [
                "d7c50d28b792f41a",
                "18acd63c3ca3019d"
            ]
        ]
    },
    {
        "id": "4cc2ab619534c94a",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "before_code_14um",
                "pt": "flow",
                "to": "payload.before_code_14um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 360,
        "wires": [
            [
                "914398947c9830ac",
                "71f02f993020f0c7"
            ]
        ]
    },
    {
        "id": "5d8b4e1d75a1ab83",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "before_count_4um",
                "pt": "flow",
                "to": "payload.before_count_4um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 180,
        "wires": [
            [
                "62ee056ac703f2bc"
            ]
        ]
    },
    {
        "id": "94af95ec73c9b5f1",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "before_count_6um",
                "pt": "flow",
                "to": "payload.before_count_6um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 300,
        "wires": [
            [
                "e628dfc673dbf425"
            ]
        ]
    },
    {
        "id": "a878491d99db8ca6",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "before_count_14um",
                "pt": "flow",
                "to": "payload.before_count_14um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 420,
        "wires": [
            [
                "5cd08dda78086594"
            ]
        ]
    },
    {
        "id": "e628dfc673dbf425",
        "type": "ui_level",
        "z": "9528cf535383c9df",
        "group": "a5a415f45a096169",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "6μm",
        "label": "6μm: ",
        "colorHi": "#dc3445",
        "colorWarn": "#fd7e14",
        "colorNormal": "#198754",
        "colorOff": "#595959",
        "min": 0,
        "max": "20000",
        "segWarn": "0",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload.before_count_6um",
        "peaktime": 3000,
        "x": 1010,
        "y": 300,
        "wires": []
    },
    {
        "id": "5cd08dda78086594",
        "type": "ui_level",
        "z": "9528cf535383c9df",
        "group": "a5a415f45a096169",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "14μm",
        "label": "14μm: ",
        "colorHi": "#dc3445",
        "colorWarn": "#fd7e14",
        "colorNormal": "#198754",
        "colorOff": "#595959",
        "min": 0,
        "max": "5000",
        "segWarn": "0",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload.before_count_14um",
        "peaktime": 3000,
        "x": 1010,
        "y": 420,
        "wires": []
    },
    {
        "id": "d38afef9e7954220",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.before_code_4um",
                "pt": "msg",
                "to": "payload.before_count_4um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 395,
        "y": 160,
        "wires": [
            [
                "328dde2777d55f64",
                "1153c54cdad8175e"
            ]
        ],
        "l": false
    },
    {
        "id": "4552dc92fff22346",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.before_code_6um",
                "pt": "msg",
                "to": "payload.before_count_6um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 395,
        "y": 280,
        "wires": [
            [
                "bc598cad0d73b06d",
                "1cf8b0e2faaab7d0"
            ]
        ],
        "l": false
    },
    {
        "id": "577daf36e558ae55",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.before_code_14um",
                "pt": "msg",
                "to": "payload.before_count_14um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 395,
        "y": 400,
        "wires": [
            [
                "1f526466c3a7a971",
                "0939a00e33b17179"
            ]
        ],
        "l": false
    },
    {
        "id": "c2a320e5d4eaceb3",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "17-18",
        "low": "17",
        "high": "18",
        "inte": "true",
        "property": "payload.after_code_4um",
        "x": 270,
        "y": 600,
        "wires": [
            [
                "bb5d83d59109114e",
                "a51099911fce4d04"
            ]
        ]
    },
    {
        "id": "8db70cc23600dced",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "18",
        "property": "payload.after_count_4um",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "18",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 600,
        "wires": [
            [
                "26b79e6b4304d5be"
            ]
        ]
    },
    {
        "id": "c36557dcb0b9b3a1",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "17",
        "property": "payload.after_count_4um",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "17",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 640,
        "wires": [
            [
                "82e2f93876845311"
            ]
        ]
    },
    {
        "id": "26b79e6b4304d5be",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "",
        "low": "1300",
        "high": "2500",
        "inte": "true",
        "property": "payload.after_count_4um",
        "x": 615,
        "y": 600,
        "wires": [
            [
                "c007df783a155774"
            ]
        ],
        "l": false
    },
    {
        "id": "82e2f93876845311",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "",
        "low": "640",
        "high": "1300",
        "inte": "true",
        "property": "payload.after_count_4um",
        "x": 615,
        "y": 640,
        "wires": [
            [
                "c007df783a155774"
            ]
        ],
        "l": false
    },
    {
        "id": "7b2b7532d3213c94",
        "type": "ui_artlessgauge",
        "z": "9528cf535383c9df",
        "group": "2d8589f3de00ca30",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "4μm",
        "icon": "",
        "label": "4μm",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#595959",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.after_code_4um",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#dc3845",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#dc3845",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "7",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 710,
        "y": 560,
        "wires": []
    },
    {
        "id": "cb229179854e0d75",
        "type": "ui_level",
        "z": "9528cf535383c9df",
        "group": "9f6331b6733479de",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "4μ",
        "label": "4μm: ",
        "colorHi": "#dc3445",
        "colorWarn": "#fd7e14",
        "colorNormal": "#198754",
        "colorOff": "#595959",
        "min": 0,
        "max": "2500",
        "segWarn": "0",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload.after_count_4um",
        "peaktime": 3000,
        "x": 1010,
        "y": 620,
        "wires": []
    },
    {
        "id": "b5c3cc0cfeaa8aa5",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "15-16",
        "low": "15",
        "high": "16",
        "inte": "true",
        "property": "payload.after_code_6um",
        "x": 270,
        "y": 720,
        "wires": [
            [
                "6c4976045fbf375f",
                "8993f298c9f86dc4"
            ]
        ]
    },
    {
        "id": "648f7b466a977f57",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "16",
        "property": "payload.after_count_6um",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "16",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 720,
        "wires": [
            [
                "df8a57eae27059e0"
            ]
        ]
    },
    {
        "id": "3fec275a5007f554",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "15",
        "property": "payload.after_count_6um",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "15",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 760,
        "wires": [
            [
                "186f25102c587773"
            ]
        ]
    },
    {
        "id": "df8a57eae27059e0",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "",
        "low": "320",
        "high": "640",
        "inte": "true",
        "property": "payload.after_count_6um",
        "x": 615,
        "y": 720,
        "wires": [
            [
                "a4738c0ad44c2074"
            ]
        ],
        "l": false
    },
    {
        "id": "186f25102c587773",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "",
        "low": "160",
        "high": "320",
        "inte": "true",
        "property": "payload.after_count_6um",
        "x": 615,
        "y": 760,
        "wires": [
            [
                "a4738c0ad44c2074"
            ]
        ],
        "l": false
    },
    {
        "id": "7d11e1d5d35a9d17",
        "type": "ui_artlessgauge",
        "z": "9528cf535383c9df",
        "group": "2d8589f3de00ca30",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "6μm",
        "icon": "",
        "label": "6μm",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.after_code_6um",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#fd7e14",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#fd7e14",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "7",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 710,
        "y": 680,
        "wires": []
    },
    {
        "id": "18a88df87f55cb0e",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "13-14",
        "low": "13",
        "high": "14",
        "inte": "true",
        "property": "payload.after_code_14um",
        "x": 270,
        "y": 840,
        "wires": [
            [
                "f7390e265f0103e2",
                "1378d004e2a18cbe"
            ]
        ]
    },
    {
        "id": "5a414578a63ee5e4",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "14",
        "property": "payload.after_count_14um",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "14",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 840,
        "wires": [
            [
                "923d0af7f7193a31"
            ]
        ]
    },
    {
        "id": "51f9b7d17eff0289",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "13",
        "property": "payload.after_count_14um",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "13",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 880,
        "wires": [
            [
                "10afacb9d46b46dd"
            ]
        ]
    },
    {
        "id": "923d0af7f7193a31",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "",
        "low": "80",
        "high": "160",
        "inte": "true",
        "property": "payload.after_count_14um",
        "x": 615,
        "y": 840,
        "wires": [
            [
                "8da7fd5cd5d7bcd5"
            ]
        ],
        "l": false
    },
    {
        "id": "10afacb9d46b46dd",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "",
        "low": "80",
        "high": "160",
        "inte": "true",
        "property": "payload.after_count_14um",
        "x": 615,
        "y": 880,
        "wires": [
            [
                "8da7fd5cd5d7bcd5"
            ]
        ],
        "l": false
    },
    {
        "id": "38c2e2724983aaac",
        "type": "ui_artlessgauge",
        "z": "9528cf535383c9df",
        "group": "2d8589f3de00ca30",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "14μm",
        "icon": "",
        "label": "14μm",
        "unit": "",
        "layout": "linear",
        "decimals": 0,
        "differential": false,
        "minmax": true,
        "colorTrack": "#555555",
        "style": "",
        "colorFromTheme": true,
        "property": "payload.after_code_14um",
        "secondary": "secondary",
        "inline": false,
        "animate": true,
        "sectors": [
            {
                "val": 0,
                "col": "#198754",
                "t": "min",
                "dot": 0
            },
            {
                "val": 25,
                "col": "#198754",
                "t": "max",
                "dot": 0
            }
        ],
        "lineWidth": "7",
        "bgcolorFromTheme": false,
        "diffCenter": "0",
        "x": 710,
        "y": 800,
        "wires": []
    },
    {
        "id": "6bbea77065e11ff4",
        "type": "comment",
        "z": "9528cf535383c9df",
        "name": "ISO Code & Number of Particles After Filtration System",
        "info": "",
        "x": 420,
        "y": 500,
        "wires": []
    },
    {
        "id": "bb5d83d59109114e",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "after_code_4um",
                "pt": "flow",
                "to": "payload.after_code_4um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 560,
        "wires": [
            [
                "7b2b7532d3213c94",
                "2857e7cba6a521fd"
            ]
        ]
    },
    {
        "id": "6c4976045fbf375f",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "after_code_6um",
                "pt": "flow",
                "to": "payload.after_code_6um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 680,
        "wires": [
            [
                "7d11e1d5d35a9d17",
                "18acd63c3ca3019d"
            ]
        ]
    },
    {
        "id": "f7390e265f0103e2",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "after_code_14um",
                "pt": "flow",
                "to": "payload.after_code_14um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 800,
        "wires": [
            [
                "38c2e2724983aaac",
                "71f02f993020f0c7"
            ]
        ]
    },
    {
        "id": "c007df783a155774",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "after_count_4um",
                "pt": "flow",
                "to": "payload.after_count_4um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 620,
        "wires": [
            [
                "cb229179854e0d75"
            ]
        ]
    },
    {
        "id": "a4738c0ad44c2074",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "after_count_6um",
                "pt": "flow",
                "to": "payload.after_count_6um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 740,
        "wires": [
            [
                "4a8aef947cd5e12f"
            ]
        ]
    },
    {
        "id": "8da7fd5cd5d7bcd5",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "after_count_14um",
                "pt": "flow",
                "to": "payload.after_count_14um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 860,
        "wires": [
            [
                "d88e2d39754de9b9"
            ]
        ]
    },
    {
        "id": "4a8aef947cd5e12f",
        "type": "ui_level",
        "z": "9528cf535383c9df",
        "group": "9f6331b6733479de",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "6μm",
        "label": "6μm: ",
        "colorHi": "#dc3445",
        "colorWarn": "#fd7e14",
        "colorNormal": "#198754",
        "colorOff": "#595959",
        "min": 0,
        "max": "640",
        "segWarn": "0",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload.after_count_6um",
        "peaktime": 3000,
        "x": 1010,
        "y": 740,
        "wires": []
    },
    {
        "id": "d88e2d39754de9b9",
        "type": "ui_level",
        "z": "9528cf535383c9df",
        "group": "9f6331b6733479de",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "14μm",
        "label": "14μm: ",
        "colorHi": "#dc3445",
        "colorWarn": "#fd7e14",
        "colorNormal": "#198754",
        "colorOff": "#595959",
        "min": 0,
        "max": "160",
        "segWarn": "0",
        "segHigh": "0",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": "2",
        "colorschema": "rainbow",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": true,
        "hideValue": false,
        "tickmode": "segments",
        "peakmode": false,
        "property": "payload.after_count_14um",
        "peaktime": 3000,
        "x": 1010,
        "y": 860,
        "wires": []
    },
    {
        "id": "a51099911fce4d04",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.after_code_4um",
                "pt": "msg",
                "to": "payload.after_count_4um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 395,
        "y": 600,
        "wires": [
            [
                "8db70cc23600dced",
                "c36557dcb0b9b3a1"
            ]
        ],
        "l": false
    },
    {
        "id": "8993f298c9f86dc4",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.after_code_6um",
                "pt": "msg",
                "to": "payload.after_count_6um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 395,
        "y": 720,
        "wires": [
            [
                "648f7b466a977f57",
                "3fec275a5007f554"
            ]
        ],
        "l": false
    },
    {
        "id": "1378d004e2a18cbe",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.after_code_14um",
                "pt": "msg",
                "to": "payload.after_count_14um",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 395,
        "y": 840,
        "wires": [
            [
                "5a414578a63ee5e4",
                "51f9b7d17eff0289"
            ]
        ],
        "l": false
    },
    {
        "id": "f746f7e9ccd015dd",
        "type": "moment",
        "z": "9528cf535383c9df",
        "name": "Date",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Asia/Bangkok",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD",
        "locale": "en-US",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Asia/Bangkok",
        "x": 270,
        "y": 1000,
        "wires": [
            [
                "886e3270f5ec5d72"
            ]
        ]
    },
    {
        "id": "886e3270f5ec5d72",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "cleanliness_date",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "ed1c4961f8add221",
        "type": "comment",
        "z": "9528cf535383c9df",
        "name": "Create Date Time for Databases",
        "info": "",
        "x": 350,
        "y": 940,
        "wires": []
    },
    {
        "id": "bef63bd542cb9329",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "3509d49413e679be",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "ISO Code Number Before Filtration",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "x": 640,
        "y": 1120,
        "wires": []
    },
    {
        "id": "54b513b081b73a0f",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "3509d49413e679be",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "ISO Code Number After Filtration",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "x": 640,
        "y": 1160,
        "wires": []
    },
    {
        "id": "a4c55e7e41c50f46",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "collecting data",
        "func": "msg.payload = [ \n    {\n    \"before_code_4um\": flow.get(\"before_code_4um\"),\n    \"before_code_6um\": flow.get(\"before_code_6um\"),\n    \"before_code_14um\": flow.get(\"before_code_14um\"),\n    \"after_code_4um\": flow.get(\"after_code_4um\"),\n    \"after_code_6um\": flow.get(\"after_code_6um\"),\n    \"after_code_14um\": flow.get(\"after_code_14um\"),\n    }\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1120,
        "wires": [
            [
                "bd06f5829533fc65",
                "1e83e66eefc69190"
            ]
        ]
    },
    {
        "id": "bd06f5829533fc65",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "prediction cost per litre",
        "func": "msg.payload = msg.payload[0].before_code_4um + \"/\" + msg.payload[0].before_code_6um + \"/\" + msg.payload[0].before_code_14um;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 445,
        "y": 1120,
        "wires": [
            [
                "bef63bd542cb9329"
            ]
        ],
        "l": false
    },
    {
        "id": "1e83e66eefc69190",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "prediction cost per litre",
        "func": "msg.payload = msg.payload[0].after_code_4um + \"/\" + msg.payload[0].after_code_6um + \"/\" + msg.payload[0].after_code_14um;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 445,
        "y": 1160,
        "wires": [
            [
                "54b513b081b73a0f"
            ]
        ],
        "l": false
    },
    {
        "id": "56b7a0d98d9eb305",
        "type": "comment",
        "z": "9528cf535383c9df",
        "name": "Send Data Cleanliness to Page Users",
        "info": "",
        "x": 370,
        "y": 1060,
        "wires": []
    },
    {
        "id": "828ad3d5d2a026c6",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "insert statement",
        "func": "msg.topic = \"INSERT INTO cleanliness (date, before_code_4um, before_code_6um, before_code_14um, before_count_4um, before_count_6um, before_count_14um, after_code_4um, after_code_6um, after_code_14um, after_count_4um, after_count_6um, after_count_14um, filter_housing1, filter_housing2, filter_brand, filter_type, element_qty, element_price, fuel_processed, flowrate, actual_cpl) \" + \n    \"VALUES ('\" + msg.cleanliness_date + \"', '\" + msg.before_code_4um + \"', '\" + msg.before_code_6um + \"', '\" + msg.before_code_14um + \"', '\" + msg.before_count_4um + \"', '\" + msg.before_count_6um + \"', '\" + msg.before_count_14um + \"', '\" + msg.after_code_4um + \"', '\" + msg.after_code_6um + \"', '\" + msg.after_code_14um + \"', '\" + msg.after_count_4um + \"', '\" + msg.after_count_6um + \"', '\" + msg.after_count_14um + \"',  '\" + msg.filter_housing1 + \"',  '\" + msg.filter_housing2 + \"',  '\" + msg.filter_brand + \"',  '\" + msg.filter_type + \"',  '\" + msg.element_qty + \"',  '\" + msg.element_price + \"',  '\" + msg.fuel_processed + \"',  '\" + msg.flowrate + \"',  '\" + msg.actual_cpl + \"');\"; \n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 1540,
        "wires": [
            [
                "14b6a40ed2522782"
            ]
        ]
    },
    {
        "id": "14b6a40ed2522782",
        "type": "mysql",
        "z": "9528cf535383c9df",
        "mydb": "347578936cd017ea",
        "name": "",
        "x": 1210,
        "y": 1540,
        "wires": [
            [
                "82d40c2d1f555080"
            ]
        ]
    },
    {
        "id": "fe8a6aef5620e8db",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "collecting data",
        "func": "msg = \n    {\n    \"cleanliness_date\": flow.get(\"cleanliness_date\"),\n    \"before_code_4um\": flow.get(\"before_code_4um\"),\n    \"before_code_6um\": flow.get(\"before_code_6um\"),\n    \"before_code_14um\": flow.get(\"before_code_14um\"),\n    \"before_count_4um\": flow.get(\"before_count_4um\"),\n    \"before_count_6um\": flow.get(\"before_count_6um\"),\n    \"before_count_14um\": flow.get(\"before_count_14um\"),\n    \"after_code_4um\": flow.get(\"after_code_4um\"),\n    \"after_code_6um\": flow.get(\"after_code_6um\"),\n    \"after_code_14um\": flow.get(\"after_code_14um\"),\n    \"after_count_4um\": flow.get(\"after_count_4um\"),\n    \"after_count_6um\": flow.get(\"after_count_6um\"),\n    \"after_count_14um\": flow.get(\"after_count_14um\"),\n    \"filter_housing1\": flow.get(\"filter_housing1\"),\n    \"filter_housing2\": flow.get(\"filter_housing2\"),\n    \"filter_brand\": flow.get(\"filter_brand\"),\n    \"filter_type\": flow.get(\"filter_type\"),\n    \"element_qty\": flow.get(\"element_qty\"),\n    \"element_price\": flow.get(\"element_price\"),\n    \"fuel_processed\": flow.get(\"fuel_processed\"),\n    \"actual_cpl\": flow.get(\"actual_cpl\"),\n    \"flowrate\": flow.get(\"flowrate\"),\n    }\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 1540,
        "wires": [
            [
                "828ad3d5d2a026c6"
            ]
        ]
    },
    {
        "id": "48525413d17b67f8",
        "type": "ui_gauge",
        "z": "9528cf535383c9df",
        "name": "",
        "group": "df84df90d9be6c01",
        "order": 2,
        "width": 4,
        "height": 3,
        "gtype": "gage",
        "title": "Filter Housing 1",
        "label": " ",
        "format": "{{value}} Psid",
        "min": 0,
        "max": "25",
        "colors": [
            "#198754",
            "#fd7e14",
            "#dc3845"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 740,
        "y": 1900,
        "wires": []
    },
    {
        "id": "7853d81be5dde10b",
        "type": "ui_gauge",
        "z": "9528cf535383c9df",
        "name": "",
        "group": "df84df90d9be6c01",
        "order": 3,
        "width": 4,
        "height": 3,
        "gtype": "gage",
        "title": "Filter Housing 2",
        "label": " ",
        "format": "{{value}} Psid",
        "min": 0,
        "max": "25",
        "colors": [
            "#198754",
            "#fd7e14",
            "#dc3845"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 740,
        "y": 1940,
        "wires": []
    },
    {
        "id": "aae0c73d9977caa5",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "",
        "low": "10",
        "high": "12",
        "inte": "true",
        "property": "payload",
        "x": 280,
        "y": 1900,
        "wires": [
            [
                "a73591684608b441"
            ]
        ]
    },
    {
        "id": "d482281f23200e6c",
        "type": "random",
        "z": "9528cf535383c9df",
        "name": "",
        "low": "18",
        "high": "20",
        "inte": "true",
        "property": "payload",
        "x": 280,
        "y": 1940,
        "wires": [
            [
                "d7ab0846ff59b61b"
            ]
        ]
    },
    {
        "id": "a73591684608b441",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filter_housing1",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 1900,
        "wires": [
            [
                "48525413d17b67f8"
            ]
        ]
    },
    {
        "id": "d7ab0846ff59b61b",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filter_housing2",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 1940,
        "wires": [
            [
                "7853d81be5dde10b"
            ]
        ]
    },
    {
        "id": "c8f12562f612541f",
        "type": "comment",
        "z": "9528cf535383c9df",
        "name": "Differential Pressure Monitoring",
        "info": "",
        "x": 350,
        "y": 1840,
        "wires": []
    },
    {
        "id": "1b267051faedd28a",
        "type": "ui_dropdown",
        "z": "9528cf535383c9df",
        "name": "Filter Brand",
        "label": "Select a filter brand :",
        "tooltip": "",
        "place": "",
        "group": "9ba89fe3c30a9f58",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Parker",
                "value": "Parker",
                "type": "str"
            },
            {
                "label": "Rexroth",
                "value": "Rexroth",
                "type": "str"
            },
            {
                "label": "Other",
                "value": "Other",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 650,
        "y": 2060,
        "wires": [
            [
                "c80992264294b739",
                "fdc77b734362d4b6"
            ]
        ]
    },
    {
        "id": "dae7fb2df129c88f",
        "type": "ui_text_input",
        "z": "9528cf535383c9df",
        "name": "",
        "label": "Filter Element Price",
        "tooltip": "",
        "group": "9ba89fe3c30a9f58",
        "order": 5,
        "width": 5,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": "300",
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 670,
        "y": 2260,
        "wires": [
            [
                "fa5420181682dc8d"
            ]
        ]
    },
    {
        "id": "90de460d40f419e3",
        "type": "ui_text_input",
        "z": "9528cf535383c9df",
        "name": "",
        "label": "Qty of Elements",
        "tooltip": "",
        "group": "9ba89fe3c30a9f58",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": "300",
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 660,
        "y": 2300,
        "wires": [
            [
                "3477694755e9c87b"
            ]
        ]
    },
    {
        "id": "c80992264294b739",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Other",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Parker",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Rexroth",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 815,
        "y": 2140,
        "wires": [
            [
                "5dd7f873a399f128"
            ],
            [
                "dbe2bfb7bff693db"
            ],
            [
                "f61b5b43217c9292"
            ]
        ],
        "l": false
    },
    {
        "id": "daa7cc61775165c3",
        "type": "ui_dropdown",
        "z": "9528cf535383c9df",
        "name": "Filter Type",
        "label": "Select a filter type :",
        "tooltip": "",
        "place": "",
        "group": "9ba89fe3c30a9f58",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 1250,
        "y": 2140,
        "wires": [
            [
                "30cc696a67f1cf9f"
            ]
        ]
    },
    {
        "id": "5dd7f873a399f128",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "enable",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 2100,
        "wires": [
            [
                "daa7cc61775165c3"
            ]
        ]
    },
    {
        "id": "dbe2bfb7bff693db",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "[\"AD-52425\",\"AD-52410\",\"DFO-656PLF25\",\"DFO-644PLF5\",\"DFO-644PLF10\",\"DFO-629PLF5\",\"DFO-629PLF10\",\"DI-633D10TB\",\"DI-656D5TB\",\"DI-656D10TB\",\"DI-656D25TB\",\"DSO-629PLF3\",\"DSO-644PLF3\",\"HOCP-44805\",\"HOCP-44810\",\"HSP-44405\",\"HSP-44410\"]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 2140,
        "wires": [
            [
                "daa7cc61775165c3"
            ]
        ]
    },
    {
        "id": "f61b5b43217c9292",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "[\"R928002373\",\"R928005820\",\"R928005638\",\"R928005640\",\"R928005709\",\"R928005763\",\"R928005766\",\"R928005792\",\"R928005782\",\"R928006484\",\"R928007059\",\"R928015963\",\"R928017529\",\"R928019315\",\"R928027889\",\"R928027920\",\"R928035103\"]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 2180,
        "wires": [
            [
                "daa7cc61775165c3"
            ]
        ]
    },
    {
        "id": "9026c79865de48f4",
        "type": "ui_template",
        "z": "9528cf535383c9df",
        "group": "9ba89fe3c30a9f58",
        "name": "Save",
        "order": 4,
        "width": 2,
        "height": 1,
        "format": "<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: '1'})\"> \n    Save<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 270,
        "y": 2780,
        "wires": [
            [
                "f4d2d33726516220"
            ]
        ]
    },
    {
        "id": "0dc52e988b3607d6",
        "type": "ui_template",
        "z": "9528cf535383c9df",
        "group": "9ba89fe3c30a9f58",
        "name": "Cancel",
        "order": 6,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload: 'Cancel'})\"> \n    Cancel<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 280,
        "y": 2060,
        "wires": [
            [
                "78f2e59d6924b288"
            ]
        ]
    },
    {
        "id": "78f2e59d6924b288",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "clear data",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 440,
        "y": 2060,
        "wires": [
            [
                "1b267051faedd28a",
                "4189ffdb5be03f40",
                "90de460d40f419e3",
                "dae7fb2df129c88f",
                "2a62241d64dfec3c",
                "97d61ad9ddef650a"
            ]
        ]
    },
    {
        "id": "b17b5e83f1680299",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "[ ]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 2220,
        "wires": [
            [
                "daa7cc61775165c3"
            ]
        ]
    },
    {
        "id": "2a62241d64dfec3c",
        "type": "ui_dropdown",
        "z": "9528cf535383c9df",
        "name": "",
        "label": "Before filtration :",
        "tooltip": "",
        "place": "ISO code number",
        "group": "d53f56c53ea19c84",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "23/21/19",
                "value": "23/21/19",
                "type": "str"
            },
            {
                "label": "23/21/18",
                "value": "23/21/18",
                "type": "str"
            },
            {
                "label": "23/20/19",
                "value": "23/20/19",
                "type": "str"
            },
            {
                "label": "23/20/18",
                "value": "23/20/18",
                "type": "str"
            },
            {
                "label": "22/21/19",
                "value": "22/21/19",
                "type": "str"
            },
            {
                "label": "22/21/18",
                "value": "22/21/18",
                "type": "str"
            },
            {
                "label": "22/20/19",
                "value": "22/20/19",
                "type": "str"
            },
            {
                "label": "22/21/18",
                "value": "22/22/18",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 660,
        "y": 2420,
        "wires": [
            [
                "c7c3cb185682e8e0"
            ]
        ]
    },
    {
        "id": "97d61ad9ddef650a",
        "type": "ui_dropdown",
        "z": "9528cf535383c9df",
        "name": "",
        "label": "After filtration :",
        "tooltip": "",
        "place": "ISO code number",
        "group": "d53f56c53ea19c84",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "18/16/14",
                "value": "18/16/14",
                "type": "str"
            },
            {
                "label": "18/16/13",
                "value": "18/16/13",
                "type": "str"
            },
            {
                "label": "18/15/14",
                "value": "18/15/14",
                "type": "str"
            },
            {
                "label": "18/15/13",
                "value": "18/15/13",
                "type": "str"
            },
            {
                "label": "17/16/14",
                "value": "17/16/14",
                "type": "str"
            },
            {
                "label": "17/16/13",
                "value": "17/16/13",
                "type": "str"
            },
            {
                "label": "17/15/14",
                "value": "17/15/14",
                "type": "str"
            },
            {
                "label": "17/15/13",
                "value": "17/15/13",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 660,
        "y": 2360,
        "wires": [
            []
        ]
    },
    {
        "id": "65bc9084f48ad196",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "d53f56c53ea19c84",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Fuel Processed  per Filter Change",
        "format": "{{msg.payload|number:0}} Litre",
        "layout": "col-center",
        "className": "",
        "x": 1320,
        "y": 2520,
        "wires": []
    },
    {
        "id": "c7c3cb185682e8e0",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "23/21/19",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "23/21/18",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "23/20/19",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "23/20/18",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "22/21/19",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "22/21/18",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "22/20/19",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "22/20/18",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 8,
        "x": 815,
        "y": 2520,
        "wires": [
            [
                "0c647e56f880332c"
            ],
            [
                "05e7f2f108b4ab61"
            ],
            [
                "d35633b3cbb50cbe"
            ],
            [
                "29309f3cd3139179"
            ],
            [
                "190c22daf6d9c312"
            ],
            [
                "1ae80b3df3cfeac9"
            ],
            [
                "69110c7778878dbe"
            ],
            [
                "dd3c1e76c6afaa20"
            ]
        ],
        "l": false
    },
    {
        "id": "05e7f2f108b4ab61",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "95000",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 2420,
        "wires": [
            [
                "65bc9084f48ad196",
                "f4c6311103f17bac"
            ]
        ]
    },
    {
        "id": "d35633b3cbb50cbe",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "92500",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 2460,
        "wires": [
            [
                "65bc9084f48ad196",
                "f4c6311103f17bac"
            ]
        ]
    },
    {
        "id": "29309f3cd3139179",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "90000",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 2500,
        "wires": [
            [
                "65bc9084f48ad196",
                "f4c6311103f17bac"
            ]
        ]
    },
    {
        "id": "0c647e56f880332c",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "97500",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 2380,
        "wires": [
            [
                "65bc9084f48ad196",
                "f4c6311103f17bac"
            ]
        ]
    },
    {
        "id": "1ae80b3df3cfeac9",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "85000",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 2580,
        "wires": [
            [
                "65bc9084f48ad196",
                "f4c6311103f17bac"
            ]
        ]
    },
    {
        "id": "69110c7778878dbe",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "82500",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 2620,
        "wires": [
            [
                "65bc9084f48ad196",
                "f4c6311103f17bac"
            ]
        ]
    },
    {
        "id": "dd3c1e76c6afaa20",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "80000",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 2660,
        "wires": [
            [
                "65bc9084f48ad196",
                "f4c6311103f17bac"
            ]
        ]
    },
    {
        "id": "190c22daf6d9c312",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "87500",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 2540,
        "wires": [
            [
                "65bc9084f48ad196",
                "f4c6311103f17bac"
            ]
        ]
    },
    {
        "id": "39ffabe2e17935d1",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "d53f56c53ea19c84",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Prediction Cost per Litre",
        "format": "Rp. {{msg.payload|number:2}}",
        "layout": "col-center",
        "className": "",
        "x": 1290,
        "y": 2780,
        "wires": []
    },
    {
        "id": "a7b8b52c950e27a1",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "df84df90d9be6c01",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Recommended change out  pressure: 25 psid (1.7 bar)",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "x": 1380,
        "y": 2740,
        "wires": []
    },
    {
        "id": "4189ffdb5be03f40",
        "type": "link out",
        "z": "9528cf535383c9df",
        "name": "link out clear",
        "mode": "link",
        "links": [
            "9b1e2b58f1c44ea3",
            "9067fefac8aead33",
            "9cea1685d05bb2af"
        ],
        "x": 650,
        "y": 2100,
        "wires": [],
        "l": true
    },
    {
        "id": "9b1e2b58f1c44ea3",
        "type": "link in",
        "z": "9528cf535383c9df",
        "name": "link in clear",
        "links": [
            "4189ffdb5be03f40"
        ],
        "x": 815,
        "y": 2220,
        "wires": [
            [
                "b17b5e83f1680299",
                "fa5420181682dc8d",
                "3477694755e9c87b"
            ]
        ]
    },
    {
        "id": "9067fefac8aead33",
        "type": "link in",
        "z": "9528cf535383c9df",
        "name": "link in clear",
        "links": [
            "4189ffdb5be03f40"
        ],
        "x": 1040,
        "y": 2340,
        "wires": [
            [
                "65bc9084f48ad196",
                "f4c6311103f17bac"
            ]
        ],
        "l": true
    },
    {
        "id": "fa5420181682dc8d",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "element_price",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 2260,
        "wires": [
            []
        ]
    },
    {
        "id": "3477694755e9c87b",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "element_qty",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 2300,
        "wires": [
            []
        ]
    },
    {
        "id": "f4c6311103f17bac",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "prediction_fuel_pass",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 2480,
        "wires": [
            []
        ]
    },
    {
        "id": "fdc77b734362d4b6",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filter_brand",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 2060,
        "wires": [
            []
        ]
    },
    {
        "id": "30cc696a67f1cf9f",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filter_type",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 2140,
        "wires": [
            []
        ]
    },
    {
        "id": "5aedcd886686141b",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "collecting data",
        "func": "msg.payload = [ \n    {\n    \"filter_brand\": flow.get(\"filter_brand\"),\n    \"filter_type\": flow.get(\"filter_type\"),\n    \"element_price\": flow.get(\"element_price\"),\n    \"element_qty\": flow.get(\"element_qty\"),\n    \"prediction_fuel_pass\": flow.get(\"prediction_fuel_pass\")\n    }\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 2780,
        "wires": [
            [
                "d39ca940def18cda"
            ]
        ]
    },
    {
        "id": "d39ca940def18cda",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "prediction cost per litre",
        "func": "var price = msg.payload[0].element_price;\nvar qty = msg.payload[0].element_qty;\nvar prediction_fuel_pass= msg.payload[0].prediction_fuel_pass;\n\nmsg.payload = (price * qty) / prediction_fuel_pass;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 2780,
        "wires": [
            [
                "39ffabe2e17935d1"
            ]
        ]
    },
    {
        "id": "9cea1685d05bb2af",
        "type": "link in",
        "z": "9528cf535383c9df",
        "name": "link in clear",
        "links": [
            "4189ffdb5be03f40"
        ],
        "x": 1040,
        "y": 2740,
        "wires": [
            [
                "39ffabe2e17935d1"
            ]
        ],
        "l": true
    },
    {
        "id": "48418573936a86a9",
        "type": "ui_digital_display",
        "z": "9528cf535383c9df",
        "name": "Totalizer Flowmeter",
        "group": "7ec7fcdb05213811",
        "order": 5,
        "width": 3,
        "height": 1,
        "digits": "6",
        "decimals": "1",
        "x": 1570,
        "y": 3140,
        "wires": []
    },
    {
        "id": "70bd1318a5f12d6f",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "7ec7fcdb05213811",
        "order": 4,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Totalizer Flowmeter :",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "className": "",
        "x": 1580,
        "y": 3060,
        "wires": []
    },
    {
        "id": "f2b03c9114029275",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "7ec7fcdb05213811",
        "order": 2,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Average Flowrate :",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "className": "",
        "x": 1010,
        "y": 2900,
        "wires": []
    },
    {
        "id": "a6c028f10f5baa3a",
        "type": "ui_digital_display",
        "z": "9528cf535383c9df",
        "name": "Average Flowrate",
        "group": "7ec7fcdb05213811",
        "order": 3,
        "width": 3,
        "height": 1,
        "digits": "6",
        "decimals": "1",
        "x": 1010,
        "y": 2940,
        "wires": []
    },
    {
        "id": "03895512d67565e3",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "7ec7fcdb05213811",
        "order": 6,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Amount of Fuel Pass :",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "className": "",
        "x": 1580,
        "y": 2940,
        "wires": []
    },
    {
        "id": "df85575ed8da260b",
        "type": "ui_digital_display",
        "z": "9528cf535383c9df",
        "name": "Amount of Fuel Pass",
        "group": "7ec7fcdb05213811",
        "order": 7,
        "width": 3,
        "height": 1,
        "digits": "6",
        "decimals": "1",
        "x": 1580,
        "y": 3020,
        "wires": []
    },
    {
        "id": "c2ce4d84d34ae4d2",
        "type": "ui_slider",
        "z": "9528cf535383c9df",
        "name": "VSD",
        "label": "Variable Speed Drive :",
        "tooltip": "",
        "group": "7ec7fcdb05213811",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "50",
        "step": 1,
        "className": "",
        "x": 270,
        "y": 2900,
        "wires": [
            [
                "f0feec42923847d3",
                "cf734207568c2b10"
            ]
        ]
    },
    {
        "id": "c853700183d1782c",
        "type": "ui_template",
        "z": "9528cf535383c9df",
        "group": "3509d49413e679be",
        "name": "Reset",
        "order": 5,
        "width": 3,
        "height": 1,
        "format": "<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\"\n    ng-click=\"send({payload: '1'})\">\n    Reset<br/>\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 750,
        "y": 2980,
        "wires": [
            [
                "95aaf6cee69098b5"
            ]
        ]
    },
    {
        "id": "f0feec42923847d3",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "vsd",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 2900,
        "wires": [
            []
        ]
    },
    {
        "id": "cf734207568c2b10",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "average flowrate",
        "func": "msg.payload = msg.payload*8.21;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 2940,
        "wires": [
            [
                "00cbc5a0cdb5f635",
                "faecd5389ae77f99"
            ]
        ]
    },
    {
        "id": "54b350d003914f53",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "fuel_processed",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1590,
        "y": 2980,
        "wires": [
            []
        ]
    },
    {
        "id": "8f331a30565da64e",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "3509d49413e679be",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Actual Cost per Litre",
        "format": "Rp. {{msg.payload|number:0}}",
        "layout": "col-center",
        "className": "",
        "x": 2100,
        "y": 2900,
        "wires": []
    },
    {
        "id": "00cbc5a0cdb5f635",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "flowrate",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 2940,
        "wires": [
            [
                "a6c028f10f5baa3a"
            ]
        ]
    },
    {
        "id": "faecd5389ae77f99",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "calculation",
        "func": "msg.payload = msg.payload/60;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 3020,
        "wires": [
            [
                "5c712a5398854183"
            ]
        ]
    },
    {
        "id": "f33ad4bd.777a5",
        "type": "counter",
        "z": "9528cf535383c9df",
        "name": "",
        "init": "0",
        "step": "1",
        "lower": "",
        "upper": "",
        "mode": "increment",
        "outputs": "2",
        "x": 1360,
        "y": 3020,
        "wires": [
            [
                "df85575ed8da260b",
                "54b350d003914f53",
                "b48ec6e9c5856268"
            ],
            []
        ]
    },
    {
        "id": "5c712a5398854183",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 3020,
        "wires": [
            [
                "60c105857c1522fc"
            ]
        ]
    },
    {
        "id": "760d97dfd5abfcae",
        "type": "inject",
        "z": "9528cf535383c9df",
        "name": "",
        "props": [],
        "repeat": "0.1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 135,
        "y": 2900,
        "wires": [
            [
                "c2ce4d84d34ae4d2"
            ]
        ],
        "l": false
    },
    {
        "id": "60c105857c1522fc",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "msg increment",
        "func": "msg.increment = msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 3020,
        "wires": [
            [
                "f33ad4bd.777a5",
                "c01b542aebd9afd1"
            ]
        ]
    },
    {
        "id": "1e0c737613107fbe",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "msg reset",
        "func": "msg.reset = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1180,
        "y": 2980,
        "wires": [
            [
                "f33ad4bd.777a5"
            ]
        ]
    },
    {
        "id": "27c488560f310345",
        "type": "ui_toast",
        "z": "9528cf535383c9df",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "OK",
        "cancel": "Cancel",
        "raw": true,
        "className": "",
        "topic": "Reset Confirmation",
        "name": "",
        "x": 885,
        "y": 2980,
        "wires": [
            [
                "9c3aece161fb5777"
            ]
        ],
        "l": false
    },
    {
        "id": "9c3aece161fb5777",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "OK",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 2980,
        "wires": [
            [
                "1e0c737613107fbe"
            ]
        ]
    },
    {
        "id": "c01b542aebd9afd1",
        "type": "counter",
        "z": "9528cf535383c9df",
        "name": "",
        "init": "0",
        "step": "1",
        "lower": "",
        "upper": "",
        "mode": "increment",
        "outputs": "2",
        "x": 1360,
        "y": 3100,
        "wires": [
            [
                "48418573936a86a9",
                "8ac6caa219ef1ed6"
            ],
            []
        ]
    },
    {
        "id": "8ac6caa219ef1ed6",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "totalizer",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1560,
        "y": 3100,
        "wires": [
            []
        ]
    },
    {
        "id": "6cf8070315331571",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "actual cost per litre",
        "func": "var price = msg.payload[0].element_price;\nvar qty = msg.payload[0].element_qty;\nvar fuel_processed= msg.payload[0].fuel_processed;\n\nmsg.payload = (price * qty) / fuel_processed;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1850,
        "y": 2900,
        "wires": [
            [
                "8f331a30565da64e",
                "6292e61e45b2a856"
            ]
        ]
    },
    {
        "id": "b48ec6e9c5856268",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "collecting data",
        "func": "msg.payload = [ \n    {\n    \"filter_brand\": flow.get(\"filter_brand\"),\n    \"filter_type\": flow.get(\"filter_type\"),\n    \"element_price\": flow.get(\"element_price\"),\n    \"element_qty\": flow.get(\"element_qty\"),\n    \"fuel_processed\": flow.get(\"fuel_processed\")\n    }\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1560,
        "y": 2900,
        "wires": [
            [
                "6cf8070315331571"
            ]
        ]
    },
    {
        "id": "6d4ddf0d8272d8b2",
        "type": "comment",
        "z": "9528cf535383c9df",
        "name": "Input Filter Elements",
        "info": "",
        "x": 310,
        "y": 2000,
        "wires": []
    },
    {
        "id": "99fbb2804cdeabf3",
        "type": "comment",
        "z": "9528cf535383c9df",
        "name": "Prediction Cost per Litre ",
        "info": "",
        "x": 320,
        "y": 2720,
        "wires": []
    },
    {
        "id": "337ed0efa3f92230",
        "type": "comment",
        "z": "9528cf535383c9df",
        "name": "Digital Flowmeter Simulation and Actual Cost per Litres",
        "info": "",
        "x": 420,
        "y": 2840,
        "wires": []
    },
    {
        "id": "6292e61e45b2a856",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "actual_cpl",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2090,
        "y": 2940,
        "wires": [
            []
        ]
    },
    {
        "id": "535d5b034f44e892",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 570,
        "y": 1560,
        "wires": [
            [
                "fe8a6aef5620e8db"
            ],
            [
                "dd8bbfaa0cafe24d"
            ]
        ]
    },
    {
        "id": "1141192fb29bc3f6",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "show cleanliness",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "SELECT * FROM cleanliness ORDER BY id DESC;",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 3300,
        "wires": [
            [
                "d5b51181ac605a4a"
            ]
        ]
    },
    {
        "id": "d5b51181ac605a4a",
        "type": "mysql",
        "z": "9528cf535383c9df",
        "mydb": "347578936cd017ea",
        "name": "",
        "x": 1510,
        "y": 3240,
        "wires": [
            [
                "427b45260f5a7075"
            ]
        ]
    },
    {
        "id": "37ff383e44bd69ff",
        "type": "ui_text_input",
        "z": "9528cf535383c9df",
        "name": "search_data",
        "label": "",
        "tooltip": "type to seach",
        "group": "3aaaccf33a4ebc21",
        "order": 7,
        "width": 4,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 290,
        "y": 3240,
        "wires": [
            [
                "dcf7bb85d264088e"
            ]
        ]
    },
    {
        "id": "231bc994f9f8777d",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "search statement",
        "func": "msg.topic = \"SELECT * FROM cleanliness WHERE date LIKE '%\" + msg.search_data + \"%' OR time LIKE '%\" + msg.search_data + \"%' OR before_code_4um LIKE '%\" + msg.search_data + \"%' OR before_code_6um LIKE '%\" + msg.search_data + \"%' OR before_code_14um LIKE '%\" + msg.search_data + \"%' OR before_count_4um LIKE '%\" + msg.search_data + \"%' OR before_count_6um LIKE '%\" + msg.search_data + \"%' OR before_count_14um LIKE '%\" + msg.search_data + \"%' OR after_code_4um LIKE '%\" + msg.search_data + \"%' OR after_code_6um LIKE '%\" + msg.search_data + \"%' OR after_code_14um LIKE '%\" + msg.search_data + \"%' OR after_count_4um LIKE '%\" + msg.search_data + \"%' OR after_count_6um LIKE '%\" + msg.search_data + \"%' OR after_count_14um LIKE '%\" + msg.search_data + \"%' OR filter_housing1 LIKE '%\" + msg.search_data + \"%' OR filter_housing2 LIKE '%\" + msg.search_data + \"%' OR filter_brand LIKE '%\" + msg.search_data + \"%' OR filter_type LIKE '%\" + msg.search_data + \"%' OR element_qty LIKE '%\" + msg.search_data + \"%' OR element_price LIKE '%\" + msg.search_data + \"%' OR fuel_processed LIKE '%\" + msg.search_data + \"%' OR actual_cpl LIKE '%\" + msg.search_data + \"%' ORDER BY id DESC;\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1250,
        "y": 3240,
        "wires": [
            [
                "d5b51181ac605a4a"
            ]
        ]
    },
    {
        "id": "c34c91d275c9ddb5",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "collecting data",
        "func": "\nmsg = {\n    search_data   : flow.get(\"search_data\"),\n}\n//msg.payload=\"work order number \" \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 3240,
        "wires": [
            [
                "231bc994f9f8777d"
            ]
        ]
    },
    {
        "id": "dcf7bb85d264088e",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "search_data",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 3240,
        "wires": [
            [
                "78050e5a58621b4f"
            ]
        ]
    },
    {
        "id": "427b45260f5a7075",
        "type": "ui_table",
        "z": "9528cf535383c9df",
        "group": "3aaaccf33a4ebc21",
        "name": "",
        "order": 11,
        "width": 22,
        "height": 9,
        "columns": [
            {
                "field": "date",
                "title": "Date",
                "width": "8%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "time",
                "title": "Time",
                "width": "6%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "before_code_4um",
                "title": "B Code 4 μm",
                "width": "3%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "before_code_6um",
                "title": "B Code 6 μm",
                "width": "3%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "before_code_14um",
                "title": "B Code 14 μm",
                "width": "3%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "before_count_4um",
                "title": "B Count 4 μm",
                "width": "4%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "before_count_6um",
                "title": "B Count 6 μm",
                "width": "4%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "before_count_14um",
                "title": "B Count 14 μm",
                "width": "4%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "after_code_4um",
                "title": "A Code 4 μm",
                "width": "3%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "after_code_6um",
                "title": "A Code 6 μm",
                "width": "3%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "after_code_14um",
                "title": "A Code 14 μm",
                "width": "3%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "after_count_4um",
                "title": "A Count 4 μm",
                "width": "4%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "after_count_6um",
                "title": "A Count 6 μm",
                "width": "4%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "after_count_14um",
                "title": "A Count 14 μm",
                "width": "4%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "filter_housing1",
                "title": "DPT-1",
                "width": "3%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "filter_housing2",
                "title": "DPT-2",
                "width": "3%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "filter_brand",
                "title": "Filter Brand",
                "width": "5%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "filter_type",
                "title": "Filter Type",
                "width": "9%",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "element_qty",
                "title": "Qty of Element",
                "width": "3%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "element_price",
                "title": "Element Price",
                "width": "6%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "fuel_processed",
                "title": "Fuel Processed",
                "width": "6%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "actual_cpl",
                "title": "Cost per Litre",
                "width": "5%",
                "align": "right",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 0,
        "cts": false,
        "x": 1710,
        "y": 3240,
        "wires": []
    },
    {
        "id": "1ce2d22d703f08ae",
        "type": "ui_template",
        "z": "9528cf535383c9df",
        "group": "3aaaccf33a4ebc21",
        "name": "",
        "order": 6,
        "width": 1,
        "height": 1,
        "format": "<style>\n    .tabulator {\n        //padding-left: 2px;\n        //border: 0px solid #BBB;\n        //background-color: #111217;\n        //font-size: 18px;\n        //font-family: \"Times New Roman\", serif;\n    }\n\n    /****/\n\n    /* Header formatieren */\n    .tabulator-col-title {\n        padding-top: 12px;\n        \n        //transform: rotate(90deg);\n        text-align: center;\n        writing-mode: vertical-lr;\n    }\n\n    /****/\n    .tabulator .tabulator-header {\n        border-bottom: 10px solid #BBB;\n        \n    }\n\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 1500,
        "y": 3300,
        "wires": [
            []
        ]
    },
    {
        "id": "38dc5c01b4946f55",
        "type": "comment",
        "z": "9528cf535383c9df",
        "name": "Show Tables",
        "info": "",
        "x": 290,
        "y": 3180,
        "wires": []
    },
    {
        "id": "82d40c2d1f555080",
        "type": "link out",
        "z": "9528cf535383c9df",
        "name": "show data tables",
        "mode": "link",
        "links": [
            "c69a841da9428ad6"
        ],
        "x": 1335,
        "y": 1540,
        "wires": []
    },
    {
        "id": "c69a841da9428ad6",
        "type": "link in",
        "z": "9528cf535383c9df",
        "name": "link in to show tables",
        "links": [
            "82d40c2d1f555080"
        ],
        "x": 1030,
        "y": 3340,
        "wires": [
            [
                "1141192fb29bc3f6"
            ]
        ],
        "l": true
    },
    {
        "id": "dd8bbfaa0cafe24d",
        "type": "link out",
        "z": "9528cf535383c9df",
        "name": "link out false connection",
        "mode": "link",
        "links": [],
        "x": 780,
        "y": 1580,
        "wires": [],
        "l": true
    },
    {
        "id": "53cb80.1fbbb48",
        "type": "ui_date_picker",
        "z": "9528cf535383c9df",
        "name": "",
        "label": "",
        "group": "3aaaccf33a4ebc21",
        "order": 2,
        "width": 3,
        "height": 1,
        "passthru": true,
        "topic": "start_date",
        "topicType": "str",
        "className": "",
        "x": 290,
        "y": 3300,
        "wires": [
            [
                "5b8389e0.371f88"
            ]
        ]
    },
    {
        "id": "1d1317a5.ebe9c8",
        "type": "ui_date_picker",
        "z": "9528cf535383c9df",
        "name": "",
        "label": "",
        "group": "3aaaccf33a4ebc21",
        "order": 4,
        "width": 3,
        "height": 1,
        "passthru": true,
        "topic": "end_date",
        "topicType": "str",
        "className": "",
        "x": 290,
        "y": 3340,
        "wires": [
            [
                "5492cbec.551d34"
            ]
        ]
    },
    {
        "id": "3668080d.9e73e8",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "start_date",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 3300,
        "wires": [
            []
        ]
    },
    {
        "id": "7c014c58.e8d504",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "end_date",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 3340,
        "wires": [
            []
        ]
    },
    {
        "id": "5492cbec.551d34",
        "type": "moment",
        "z": "9528cf535383c9df",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Asia/Bangkok",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD",
        "locale": "en_GB",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Asia/Bangkok",
        "x": 470,
        "y": 3340,
        "wires": [
            [
                "7c014c58.e8d504"
            ]
        ]
    },
    {
        "id": "5b8389e0.371f88",
        "type": "moment",
        "z": "9528cf535383c9df",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Asia/Bangkok",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD",
        "locale": "en_GB",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Asia/Bangkok",
        "x": 470,
        "y": 3300,
        "wires": [
            [
                "3668080d.9e73e8"
            ]
        ]
    },
    {
        "id": "81fa2235259be082",
        "type": "inject",
        "z": "9528cf535383c9df",
        "name": "",
        "props": [],
        "repeat": "3",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 145,
        "y": 1920,
        "wires": [
            [
                "aae0c73d9977caa5",
                "d482281f23200e6c"
            ]
        ],
        "l": false
    },
    {
        "id": "78050e5a58621b4f",
        "type": "ui_template",
        "z": "9528cf535383c9df",
        "group": "3aaaccf33a4ebc21",
        "name": "Search",
        "order": 8,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload:''})\"> \n    Search<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 3240,
        "wires": [
            [
                "c34c91d275c9ddb5"
            ]
        ]
    },
    {
        "id": "e7690a8255cab3b7",
        "type": "ui_template",
        "z": "9528cf535383c9df",
        "group": "3aaaccf33a4ebc21",
        "name": "Generate Data",
        "order": 10,
        "width": 1,
        "height": 1,
        "format": "    \n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\">\n    <a href=\"http://localhost/fms-yphe/dashboard/downloadCleanliness\" style=\"color:white\" ><i class=\"fa fa-download\" aria-hidden=\"true\"></i></a>\n</md-button>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1240,
        "y": 3340,
        "wires": [
            []
        ]
    },
    {
        "id": "2ac48ededbf91dcc",
        "type": "ui_template",
        "z": "9528cf535383c9df",
        "group": "3aaaccf33a4ebc21",
        "name": "Refresh",
        "order": 9,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload:''})\"> \n    Refresh<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1000,
        "y": 3300,
        "wires": [
            [
                "1141192fb29bc3f6"
            ]
        ]
    },
    {
        "id": "8d2594ef.698d08",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "ON/OFF state",
        "property": "switch",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 395,
        "y": 1640,
        "wires": [
            [
                "ab336f93.c9655"
            ],
            [
                "508ad1d9.d0683"
            ]
        ],
        "l": false
    },
    {
        "id": "ab336f93.c9655",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "Connect",
        "func": "msg.color = \"white\";\nmsg.background = \"#198754\";\nmsg.text = \"Connected\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 1620,
        "wires": [
            [
                "6bd91551ea943ab3"
            ]
        ]
    },
    {
        "id": "508ad1d9.d0683",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "Disconnect",
        "func": "msg.color = \"white\";\nmsg.background = \"#DC3845\";\nmsg.text = \"Disconnect\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 1660,
        "wires": [
            [
                "6bd91551ea943ab3"
            ]
        ]
    },
    {
        "id": "69fa3686.0a8ef8",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "button",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 855,
        "y": 1620,
        "wires": [
            [
                "19fd650d.56963b"
            ]
        ],
        "l": false
    },
    {
        "id": "19fd650d.56963b",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "",
        "func": "var obtaindata = global.get (\"switch\")\nif (obtaindata == \"1\"){msg.payload = 0}\nif (obtaindata == \"0\"){msg.payload = 1}\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 980,
        "y": 1620,
        "wires": [
            [
                "acb5e0be.d3ead"
            ]
        ]
    },
    {
        "id": "65a47c10.e24204",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "",
        "func": "var obtaindata = global.get (\"switch\");\nmsg.payload = obtaindata;\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 280,
        "y": 1640,
        "wires": [
            [
                "8d2594ef.698d08"
            ]
        ]
    },
    {
        "id": "acb5e0be.d3ead",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "re-wirte switch variable",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "switch",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 1620,
        "wires": [
            []
        ]
    },
    {
        "id": "53f47fc.c84908",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "check variable value for debug",
        "func": "var obtaindata = global.get (\"switch\");\nmsg.payload = obtaindata;\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 350,
        "y": 1560,
        "wires": [
            [
                "535d5b034f44e892"
            ]
        ]
    },
    {
        "id": "7cbb7fc1.8618e",
        "type": "change",
        "z": "9528cf535383c9df",
        "name": "global switch start",
        "rules": [
            {
                "t": "set",
                "p": "switch",
                "pt": "global",
                "to": "0",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 1660,
        "wires": [
            []
        ]
    },
    {
        "id": "6bd91551ea943ab3",
        "type": "ui_template",
        "z": "9528cf535383c9df",
        "group": "3aaaccf33a4ebc21",
        "name": "Conn",
        "order": 1,
        "width": 3,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload:'button'})\" > \n    {{msg.text}}  <a style=\"color:white\"><i class=\"fa fa-refresh\" aria-hidden=\"true\"></i></a>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 750,
        "y": 1620,
        "wires": [
            [
                "69fa3686.0a8ef8"
            ]
        ]
    },
    {
        "id": "97ec2c21.d6aec",
        "type": "inject",
        "z": "9528cf535383c9df",
        "name": "",
        "props": [
            {
                "p": "payload",
                "v": "0",
                "vt": "str"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "3",
        "topic": "",
        "payload": "0",
        "payloadType": "str",
        "x": 750,
        "y": 1660,
        "wires": [
            [
                "7cbb7fc1.8618e"
            ]
        ]
    },
    {
        "id": "3503635d6ef081e6",
        "type": "ui_template",
        "z": "9528cf535383c9df",
        "group": "3aaaccf33a4ebc21",
        "name": "Show",
        "order": 5,
        "width": 2,
        "height": 1,
        "format": "\n<md-button class=\"vibrate filled touched smallfont rounded\" style=\"background-color:#007CBE\" ng-click=\"send({payload:''})\"> \n    Show<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 770,
        "y": 3200,
        "wires": [
            [
                "0a841419322f3d1f"
            ]
        ]
    },
    {
        "id": "0a841419322f3d1f",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "collecting data",
        "func": "\nmsg = {\n    start_date   : flow.get(\"start_date\"),\n    end_date   : flow.get(\"end_date\"),\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 3200,
        "wires": [
            [
                "f964147fbc08bfe8"
            ]
        ]
    },
    {
        "id": "f964147fbc08bfe8",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "show statement",
        "func": "msg.topic = \"SELECT * FROM cleanliness WHERE date BETWEEN  '\" + msg.start_date + \"' AND '\" + msg.end_date + \"' ORDER BY id DESC;\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 3200,
        "wires": [
            [
                "d5b51181ac605a4a"
            ]
        ]
    },
    {
        "id": "536af90813f4563f",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "3aaaccf33a4ebc21",
        "order": 3,
        "width": 1,
        "height": 1,
        "name": "-",
        "label": "",
        "format": "to",
        "layout": "col-center",
        "className": "",
        "x": 1510,
        "y": 3340,
        "wires": []
    },
    {
        "id": "18acd63c3ca3019d",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "",
        "func": "var msg1 = { payload: msg.payload.before_code_6um};\nmsg1.topic = 'Before Code 6μm';\nvar msg2 = { payload: msg.payload.after_code_6um};\nmsg2.topic = 'After Code 6μm';\n\nreturn [msg1,msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1260,
        "y": 240,
        "wires": [
            [
                "a09bbad3d7d9d45b"
            ],
            [
                "a09bbad3d7d9d45b"
            ]
        ]
    },
    {
        "id": "a09bbad3d7d9d45b",
        "type": "ui_chart",
        "z": "9528cf535383c9df",
        "name": "",
        "group": "8afd4dd98ed0092b",
        "order": 1,
        "width": "7",
        "height": "5",
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm",
        "interpolate": "monotone",
        "nodata": "",
        "dot": false,
        "ymin": "12",
        "ymax": "24",
        "removeOlder": "1",
        "removeOlderPoints": "250",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#dc3845",
            "#198754",
            "#198754",
            "#be0505",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 1430,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "71f02f993020f0c7",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "",
        "func": "var msg1 = { payload: msg.payload.before_code_14um};\nmsg1.topic = 'Before Code 14μm';\nvar msg2 = { payload: msg.payload.after_code_14um};\nmsg2.topic = 'After Code 14μm';\n\nreturn [msg1,msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1260,
        "y": 360,
        "wires": [
            [
                "31be39126431c1c3"
            ],
            [
                "31be39126431c1c3"
            ]
        ]
    },
    {
        "id": "31be39126431c1c3",
        "type": "ui_chart",
        "z": "9528cf535383c9df",
        "name": "",
        "group": "c6429d59b6e431e1",
        "order": 1,
        "width": "8",
        "height": "5",
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm",
        "interpolate": "monotone",
        "nodata": "",
        "dot": false,
        "ymin": "12",
        "ymax": "24",
        "removeOlder": "1",
        "removeOlderPoints": "250",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#dc3845",
            "#198754",
            "#198754",
            "#be0505",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 1430,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "2857e7cba6a521fd",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "",
        "func": "var msg1 = { payload: msg.payload.before_code_4um};\nmsg1.topic = 'Before Code 4μm';\nvar msg2 = { payload: msg.payload.after_code_4um};\nmsg2.topic = 'After Code 4μm';\n\nreturn [msg1,msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1260,
        "y": 120,
        "wires": [
            [
                "f6cde4dc88a03ac1"
            ],
            [
                "f6cde4dc88a03ac1"
            ]
        ]
    },
    {
        "id": "f6cde4dc88a03ac1",
        "type": "ui_chart",
        "z": "9528cf535383c9df",
        "name": "",
        "group": "51142e84818e721f",
        "order": 1,
        "width": "7",
        "height": "5",
        "label": "",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm",
        "interpolate": "monotone",
        "nodata": "",
        "dot": false,
        "ymin": "12",
        "ymax": "24",
        "removeOlder": "1",
        "removeOlderPoints": "250",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#dc3845",
            "#198754",
            "#198754",
            "#be0505",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 1430,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "d97d2f171b5b8382",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "collecting data",
        "func": "msg.payload = [ \n    {\n    \"before_count_4um\": flow.get(\"before_count_4um\"),\n    \"before_count_6um\": flow.get(\"before_count_6um\"),\n    \"before_count_14um\": flow.get(\"before_count_14um\"),\n    \"after_count_4um\": flow.get(\"after_count_4um\"),\n    \"after_count_6um\": flow.get(\"after_count_6um\"),\n    \"after_count_14um\": flow.get(\"after_count_14um\"),\n    }\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1380,
        "wires": [
            [
                "a3e4a78512982080",
                "e737c2a5ee48b584",
                "69aa80c372041934",
                "115d8f576ea66f47",
                "4d3813b52d967b91",
                "20ed70c53519122a"
            ]
        ]
    },
    {
        "id": "f0eb76a27b7071e4",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "939d4be664ce1151",
        "order": 2,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Beta Rating 4 μm",
        "format": "{{msg.payload|number:2}}",
        "layout": "col-center",
        "className": "",
        "x": 590,
        "y": 1280,
        "wires": []
    },
    {
        "id": "a3e4a78512982080",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "prediction cost per litre",
        "func": "var a = msg.payload[0].before_count_4um\nvar b = msg.payload[0].after_count_4um\n\nmsg.payload = a / b ;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 445,
        "y": 1280,
        "wires": [
            [
                "f0eb76a27b7071e4"
            ]
        ],
        "l": false
    },
    {
        "id": "e737c2a5ee48b584",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "prediction cost per litre",
        "func": "var a = msg.payload[0].before_count_6um\nvar b = msg.payload[0].after_count_6um\n\nmsg.payload = a / b ;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 445,
        "y": 1360,
        "wires": [
            [
                "6a14ba61d4687468"
            ]
        ],
        "l": false
    },
    {
        "id": "6a14ba61d4687468",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "939d4be664ce1151",
        "order": 4,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Beta Rating 6 μm",
        "format": "{{msg.payload|number:2}}",
        "layout": "col-center",
        "className": "",
        "x": 590,
        "y": 1360,
        "wires": []
    },
    {
        "id": "69aa80c372041934",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "prediction cost per litre",
        "func": "var a = msg.payload[0].before_count_14um\nvar b = msg.payload[0].after_count_14um\n\nmsg.payload = a / b ;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 445,
        "y": 1440,
        "wires": [
            [
                "631d6c97c17ee812"
            ]
        ],
        "l": false
    },
    {
        "id": "631d6c97c17ee812",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "939d4be664ce1151",
        "order": 6,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Beta Rating 14 μm",
        "format": "{{msg.payload|number:2}}",
        "layout": "col-center",
        "className": "",
        "x": 590,
        "y": 1440,
        "wires": []
    },
    {
        "id": "115d8f576ea66f47",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "prediction cost per litre",
        "func": "var a = msg.payload[0].before_count_4um\nvar b = msg.payload[0].after_count_4um\nvar c = a / b ;\n\nmsg.payload = (1-(1/c))*100\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 445,
        "y": 1320,
        "wires": [
            [
                "0190a3fda50be236"
            ]
        ],
        "l": false
    },
    {
        "id": "0190a3fda50be236",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "939d4be664ce1151",
        "order": 3,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Efficiency 4 μm",
        "format": "{{msg.payload|number:2}}%",
        "layout": "col-center",
        "className": "",
        "x": 580,
        "y": 1320,
        "wires": []
    },
    {
        "id": "4d3813b52d967b91",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "prediction cost per litre",
        "func": "var a = msg.payload[0].before_count_6um\nvar b = msg.payload[0].after_count_6um\nvar c = a / b ;\n\nmsg.payload = (1-(1/c))*100\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 445,
        "y": 1400,
        "wires": [
            [
                "e8295238c98f3b94"
            ]
        ],
        "l": false
    },
    {
        "id": "e8295238c98f3b94",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "939d4be664ce1151",
        "order": 5,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Efficiency 6 μm",
        "format": "{{msg.payload|number:2}}%",
        "layout": "col-center",
        "className": "",
        "x": 580,
        "y": 1400,
        "wires": []
    },
    {
        "id": "20ed70c53519122a",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "prediction cost per litre",
        "func": "var a = msg.payload[0].before_count_14um\nvar b = msg.payload[0].after_count_14um\nvar c = a / b ;\n\nmsg.payload = (1-(1/c))*100\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 445,
        "y": 1480,
        "wires": [
            [
                "12ee9cbe4e3cc22b"
            ]
        ],
        "l": false
    },
    {
        "id": "12ee9cbe4e3cc22b",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "939d4be664ce1151",
        "order": 7,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Efficiency 14 μm",
        "format": "{{msg.payload|number:2}}%",
        "layout": "col-center",
        "className": "",
        "x": 580,
        "y": 1480,
        "wires": []
    },
    {
        "id": "ea84ddafed3d3ce2",
        "type": "ui_text",
        "z": "9528cf535383c9df",
        "group": "939d4be664ce1151",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Evaluate the performance of elements (ISO 16889:1999)",
        "format": "",
        "layout": "col-center",
        "className": "",
        "x": 630,
        "y": 1220,
        "wires": []
    },
    {
        "id": "87ae783024ada7a1",
        "type": "switch",
        "z": "9528cf535383c9df",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "OK",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 655,
        "y": 2780,
        "wires": [
            [
                "5aedcd886686141b"
            ]
        ],
        "l": false
    },
    {
        "id": "282774e6599c9bdd",
        "type": "ui_toast",
        "z": "9528cf535383c9df",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 1,
        "ok": "OK",
        "cancel": "Cancel",
        "raw": true,
        "className": "",
        "topic": "Save Confirmation",
        "name": "",
        "x": 510,
        "y": 2780,
        "wires": [
            [
                "87ae783024ada7a1"
            ]
        ]
    },
    {
        "id": "ce16323157a1f66a",
        "type": "debug",
        "z": "9528cf535383c9df",
        "name": "debug 47",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 760,
        "y": 2700,
        "wires": []
    },
    {
        "id": "f4d2d33726516220",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "Format Payload for notification node",
        "func": "msg.payload = `<!DOCTYPE html>\n                <html><head>\n                <title>Save Confirmation</title>\n                </head>\n                <body>\n                   <div style = \"padding: 0 0.5em 0 0.5em\">\n                      <p> Are you sure you want to save data? </p>\n                   </div>\n                </body>\n                <style>\n                   .md-title {\n                       padding: 0 0.5em 0 0.5em;\n                   }\n                </style>\n                </html>`;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 365,
        "y": 2780,
        "wires": [
            [
                "282774e6599c9bdd"
            ]
        ],
        "l": false
    },
    {
        "id": "95aaf6cee69098b5",
        "type": "function",
        "z": "9528cf535383c9df",
        "name": "Format Payload for notification node",
        "func": "msg.payload = `<!DOCTYPE html>\n                <html><head>\n                <title>Reset Confirmation</title>\n                </head>\n                <body>\n                   <div style = \"padding: 0 0.5em 0 0.5em\">\n                      <p> Are you sure you want to reset the fuel processed? </p>\n                   </div>\n                </body>\n                <style>\n                   .md-title {\n                       padding: 0 0.5em 0 0.5em;\n                   }\n                </style>\n                </html>`;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 835,
        "y": 2980,
        "wires": [
            [
                "27c488560f310345"
            ]
        ],
        "l": false
    },
    {
        "id": "5b66b624f2825a62",
        "type": "ui_button",
        "z": "ed22bfe05fc977e2",
        "name": "",
        "group": "b78a81a5.aff9e",
        "order": 1,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "goto tab 3",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "Inserimento Date Controllo",
        "topicType": "str",
        "x": 300,
        "y": 180,
        "wires": [
            [
                "24fa6dea16207b0b"
            ]
        ]
    },
    {
        "id": "24fa6dea16207b0b",
        "type": "function",
        "z": "ed22bfe05fc977e2",
        "name": "Set msg payload",
        "func": "\n/* ui-control payload */\nmsg.payload = {\"tabs\":{\"hide\":[\"Tab_2\"],\"show\":[\"Tab_3\"]}} // hide home tab show tab2\nnode.send(msg);\n\n    \n    \n msg.payload = {\"group\":{\"hide\":[\"Tab_3_Group_2\"],\"show\":[]}} // hide Group_1 on tab2\n node.send(msg)\n \n msg.payload = \"Tab 3\" ///goto tab 3\n node.send(msg)\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 470,
        "y": 180,
        "wires": [
            [
                "23fb4653316f2558"
            ]
        ]
    },
    {
        "id": "23fb4653316f2558",
        "type": "ui_ui_control",
        "z": "ed22bfe05fc977e2",
        "name": "Go to Inserimento Date",
        "events": "all",
        "x": 740,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "426a5f49.fb1e98",
        "type": "function",
        "z": "ed22bfe05fc977e2",
        "name": "Set msg payload",
        "func": "msg.payload = {\"tabs\":{\"hide\":[\"Tab_3\"],\"show\":[\"Tab_2\"]}} // hide tab 3 and show tab 2\nnode.send(msg);\n\nmsg.payload = {\"group\":{\"hide\":[\"Tab_2_Group_2\"],\"show\":[\"Tab_2_Group_2\"]}} // show Group_1 on tab2\nnode.send(msg);\n \nmsg.payload = \"Tab 2\"; // goto home tab\nnode.send(msg);\nnode.done();\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 450,
        "y": 360,
        "wires": [
            [
                "23fb4653316f2558"
            ]
        ]
    },
    {
        "id": "f5e80077.6065e",
        "type": "function",
        "z": "ed22bfe05fc977e2",
        "name": "Set msg payload",
        "func": "msg.payload = {\"group\":{\"hide\":[],\"show\":[\"Tab_3_Group_2\"]}} // show Group_2 on tab3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 400,
        "wires": [
            [
                "23fb4653316f2558"
            ]
        ]
    },
    {
        "id": "a96f6a0f.a924e8",
        "type": "function",
        "z": "ed22bfe05fc977e2",
        "name": "Set msg payload",
        "func": "msg.payload = {\"group\":{\"hide\":[],\"show\":[\"Tab_2_Group_2\"]}} // show Group_2 on tab2\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 220,
        "wires": [
            [
                "23fb4653316f2558"
            ]
        ]
    },
    {
        "id": "7ecfcce7.639f84",
        "type": "ui_button",
        "z": "ed22bfe05fc977e2",
        "name": "",
        "group": "187a0d10.a44d4b",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "goto tab 2",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 280,
        "y": 340,
        "wires": [
            [
                "426a5f49.fb1e98"
            ]
        ]
    },
    {
        "id": "e67f361e.73",
        "type": "ui_button",
        "z": "ed22bfe05fc977e2",
        "name": "",
        "group": "187a0d10.a44d4b",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "show group 2",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 300,
        "y": 400,
        "wires": [
            [
                "f5e80077.6065e"
            ]
        ]
    },
    {
        "id": "29474bad.494aa4",
        "type": "ui_button",
        "z": "ed22bfe05fc977e2",
        "name": "",
        "group": "b78a81a5.aff9e",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "show group 2",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 280,
        "y": 220,
        "wires": [
            [
                "a96f6a0f.a924e8"
            ]
        ]
    },
    {
        "id": "e3c3bd4b.250da8",
        "type": "ui_text",
        "z": "ed22bfe05fc977e2",
        "group": "977b1749.a3ea48",
        "order": 0,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "text",
        "format": "tab 2  group 2 text",
        "layout": "row-spread",
        "className": "",
        "x": 500,
        "y": 120,
        "wires": []
    },
    {
        "id": "1fc2649b.1f8903",
        "type": "ui_text",
        "z": "ed22bfe05fc977e2",
        "group": "a9448416.fe8fa",
        "order": 0,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "text",
        "format": "tab 3 group 2  text",
        "layout": "row-spread",
        "className": "",
        "x": 500,
        "y": 260,
        "wires": []
    },
    {
        "id": "ef2fbb7f7e31c46b",
        "type": "ui_template",
        "z": "ed22bfe05fc977e2",
        "group": "dce9e7a2.d20c78",
        "name": "User Input dialog",
        "order": 5,
        "width": 0,
        "height": 0,
        "format": "<div ng-init=\"init()\" id=\"popup_dialog\" class=\"dialog\">\n    \n    <div class=\"dialog_content\">\n        \n        <div class=\"dialog_header\">\n            <span ng-click=\"closeDialog()\" class=\"close\">&times;</span>\n            <h2 class=\"title\">{{title}}</h2>\n        </div>\n        \n        <div class=\"dialog_body\">\n\n            <div layout=\"column\" layout-align=\"center\" style=\"margin-top: 10px\">\n         \n                 <div layout=\"row\" layout-align=\"center\">\n                    <div class=\"btn_box\">\n                        <md-button data-number=\"1\" class=\"btn\" ng-click=\"confirm(1)\" ng-show=\"button1text\">\n                            <ng-md-icon icon=\"done\" style=\"color:#fff;\"></ng-md-icon> {{button1text}}\n                        </md-button>\n                    </div>\n                    <div class=\"btn_box\">\n                        <md-button data-number=\"2\" class=\"btn\" ng-click=\"confirm(2)\" ng-show=\"button2text\">\n                            <ng-md-icon icon=\"done\" style=\"color:#fff;\"></ng-md-icon> {{button2text}}\n                        </md-button>\n                    </div>\n    \n                    <div class=\"btn_box\">\n                        <md-button class=\"btn\" ng-click=\"closeDialog()\">\n                            <ng-md-icon icon=\"close\" style=\"color:#fff;\"></ng-md-icon> Cancel\n                        </md-button>\n                    </div>\n                </div>\n            </div> \n          \n        </div> <!--dialog_body-->\n    </div> <!--dialog_content-->\n</div>  <!--dialog-->\n\n\n<style>\n\n/* The Dialog (background) */\n.dialog {\n    display: none; /* Hidden by default */\n    position: fixed; /* Stay in place */\n    z-index: 9999; /* Sit on top */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    overflow: auto; /* Enable scroll if needed */\n    background-color: rgb(0,0,0); /* Fallback color */\n    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n    -webkit-transform: translateZ(0px);\n    -webkit-transform: translate3d(0,0,0);\n    -webkit-perspective: 1000;\n}\n\n.dialog_content {\n    position: absolute;\n    background-color: #fff;\n    left: calc(50% - 300px);\n    top: 30px;\n    border-radius: 10px;\n    padding: 0;\n    width: 600px;\n    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);\n    -webkit-animation-name: animatetop;\n    animation-name: animatetop;\n    animation-duration: 0.4s;\n}\nh2.title {\n    margin:10px;\n    font-size: 20px;\n}\n/* Media query for smartphones (to Fix?) */\n@media only screen and (min-device-width : 375px) and (max-device-width : 667px) { \n    .dialog_content {\n    margin-top: 5%;\n    margin-left: 5%;\n}\n}\n\n/* Add Animation */\n@-webkit-keyframes animatetop {\n    from {top: -300px; opacity: 0} \n    to {top: 0; opacity: 1}\n}\n\n@keyframes animatetop {\n    from {top: -300px; opacity: 0}\n    to {top: 0; opacity: 1}\n}\n\n/* Dialog Header */\n.dialog_header {\n    padding: 2px 16px;\n    background-color: #03A9F4;\n    border-radius: 10px 10px 0 0;\n    color: white;\n}\n\n/* Dialog Body */\n.dialog_body {padding: 5px;}\n\n/* The Close Button */\n.close {\n    color: #fff;\n    float: right;\n    font-size: 28px;\n    font-weight: bold;\n    cursor: pointer;\n}\n\n.close:hover,\n.close:focus {\n    color: #1565C0;\n    text-decoration: none;\n    cursor: pointer;\n}\n\n/* Number container */\n.btn_box{\n    margin: 5px;\n}\n\n/* Buttons style */\n.btn {\n    min-height: 40px;\n    min-width: 80px;\n    font-weight: bold;\n    margin: 0px 10px 10px 0px;\n    box-shadow: 4px 4px 6px 0 #dadada;\n    background-color: #29B6F6;\n    color: #fff;\n}\n\n.btn:not([disabled]):hover {\n    background-color: #03A9F4;\n}\n\n\n</style>\n\n<script>\n\n/**\n * Steve-Mcl 2022-02-27\n * Adapated from https://discourse.nodered.org/t/looking-for-a-text-input-dialog-popup-window-similar-to-notification-widget/23838/2?u=steve-mcl\n */\n\nvar dialog;\n\n/* ==== */\n(function(scope) {\n    scope.payload = \"\";\n    scope.topic = \"\";\n    scope.inited = false;\n    \n    scope.init = function() {\n        //Hide the md-panel\n        console.log(\"scope.init\")\n        $('#popup_dialog').css(\"display\", \"none\");\n        dialog = $('#popup_dialog').detach();\n    }\n    \n    scope.showDialog = function() {\n        console.log(\"scope.showDialog\")\n        dialog.appendTo(document.body); // better to add the body only when the numpad is displayed (seams to be removed automatically)\n        dialog.css(\"display\", \"block\");\n    }\n    \n    scope.closeDialog = function(){\n        scope.payload = \"\";\n        scope.topic = \"\";\n        scope.title = \"\";\n        scope.button1text = \"\";\n        scope.button2text = \"\";\n        dialog.css(\"display\", \"none\");\n    }\n    \n    scope.confirm = function(buttonNo) {\n        console.log(\"scope.confirm\")\n\n        //get payload for this button\n        const payload = scope.payload[\"button\" + buttonNo + \"payload\"];\n        const butText = scope[\"button\" + buttonNo + \"text\"];\n\n        //send to node-red\n        scope.send({\n            topic: scope.payload.topic || \"button/\" + buttonNo, \n            payload: payload || butText || true\n        });\n        scope.closeDialog();\n    }\n\n    scope.$watch('msg', function(msg) {\n        console.log(\"scope.$watch\", msg)\n        if(!scope.inited){\n            scope.inited = true;\n            return;\n        }\n        if(msg && msg.topic){\n            switch(msg.topic){\n                case \"show\":\n                    scope.topic = msg.topic;\n                    scope.payload = msg.payload || {};\n                    scope.title = scope.payload.title || \"Make your choice\";\n                    scope.button1text = scope.payload.button1text;\n                    scope.button2text = scope.payload.button2text;\n                    scope.showDialog();\n                break;\n                case \"close\": \n                    scope.closeDialog(); \n                break;\n            }\n        }\n    });\n})(scope);\n\n</script>\n",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 590,
        "y": 560,
        "wires": [
            [
                "c76e63191461baeb"
            ]
        ]
    },
    {
        "id": "c76e63191461baeb",
        "type": "debug",
        "z": "ed22bfe05fc977e2",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 790,
        "y": 560,
        "wires": []
    },
    {
        "id": "fb1e27b44f5a63b4",
        "type": "comment",
        "z": "ed22bfe05fc977e2",
        "name": "Setup the JSON payload for each button",
        "info": "",
        "x": 440,
        "y": 500,
        "wires": []
    },
    {
        "id": "7a1af8437fec45f7",
        "type": "ui_button",
        "z": "ed22bfe05fc977e2",
        "name": "",
        "group": "dce9e7a2.d20c78",
        "order": 3,
        "width": 9,
        "height": 2,
        "passthru": true,
        "label": "Want to Quit?",
        "tooltip": "",
        "color": "{{msg.textcolor}}",
        "bgcolor": "{{msg.bgcolor}}",
        "className": "",
        "icon": "",
        "payload": "{\"button1text\":\"Yes\",\"button2text\":\"No\",\"title\":\"Do you want to quit?\"}",
        "payloadType": "json",
        "topic": "show",
        "topicType": "str",
        "x": 360,
        "y": 580,
        "wires": [
            [
                "ef2fbb7f7e31c46b"
            ]
        ]
    },
    {
        "id": "72b57fa0fe707efc",
        "type": "ui_button",
        "z": "ed22bfe05fc977e2",
        "name": "",
        "group": "dce9e7a2.d20c78",
        "order": 2,
        "width": 9,
        "height": 2,
        "passthru": true,
        "label": "chose a direction",
        "tooltip": "",
        "color": "{{msg.textcolor}}",
        "bgcolor": "{{msg.bgcolor}}",
        "className": "",
        "icon": "",
        "payload": "{\"button1text\":\"go left\", \"button2text\":\"go right\", \"title\": \"Choose a direction\", \"button1payload\": \"left\", \"button2payload\": \"right\" } ",
        "payloadType": "json",
        "topic": "show",
        "topicType": "str",
        "x": 370,
        "y": 540,
        "wires": [
            [
                "ef2fbb7f7e31c46b"
            ]
        ]
    }
]